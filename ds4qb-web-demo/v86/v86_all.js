'use strict';var q;function aa(a,b,c){this.h=a;this.v=c;this.s=[104,111,115,116,57,112];this.G=this.s.length;this.D="9P2000.L";this.j=this.o=8192;this.i=new Uint8Array(2*this.j);this.C=0;this.g=[];this.W=new ca(b,{name:"virtio-9p",Oa:48,Le:4169,pg:9,Je:{jb:43008,$:[{bb:32,qb:0}],Xf:[0,32,29,28],Gh:()=>{}},notification:{jb:43264,Wg:!1,Cg:[d=>{if(0===d){for(;ea(this.l);)d=fa(this.l),ia(this,d);{d=this.l;const e=d.u.ab(d.g+2)+0&65535;d.u.Lf(d.h+4+8*d.size,e)}}}]},bc:{jb:42752},Tf:{jb:42496,dd:[{bytes:2,name:"mount tag length",
read:()=>this.G,write:()=>{}}].concat(Array.from(Array(254).keys()).map(d=>({bytes:1,name:"mount tag name "+d,read:()=>this.s[d]||0,write:()=>{}})))}});this.l=this.W.$[0]}aa.prototype.ha=function(){var a=[];a[0]=this.s;a[1]=this.G;a[2]=this.W;a[3]=this.D;a[4]=this.o;a[5]=this.j;a[6]=this.i;a[7]=this.C;a[8]=this.g.map(function(b){return[b.ia,b.type,b.uid,b.Hc]});a[9]=this.h;return a};
aa.prototype.H=function(a){this.s=a[0];this.G=a[1];this.W.H(a[2]);this.l=this.W.$[0];this.D=a[3];this.o=a[4];this.j=a[5];this.i=a[6];this.C=a[7];this.g=a[8].map(function(b){return{ia:b[0],type:b[1],uid:b[2],Hc:b[3]}});this.h.H(a[9])};aa.prototype.reset=function(){this.g=[];this.W.reset()};function v(a,b,c,d){w(["w","b","h"],[d+7,b+1,c],a.i,0);a.C=d+7}function ja(a,b,c){c=w(["w"],[c],a.i,7);v(a,6,b,c)}function G(a,b){ka(b,a.i.subarray(0,a.C));ma(a.l,b);na(a.l)}
async function ia(a,b){var c=new Uint8Array(b.he);oa(b,c);var d={offset:0},e=J(["w","b","h"],c,d),f=e[0],g=e[1],h=e[2];switch(g){case 8:f=pa(a.h);var k=qa(a.h);e=[16914839];e[1]=a.o;e[2]=Math.floor(k/e[1]);e[3]=e[2]-Math.floor(f/e[1]);e[4]=e[2]-Math.floor(f/e[1]);e[5]=ra(a.h);e[6]=sa(a.h);e[7]=0;e[8]=256;f=w("wwddddddw".split(""),e,a.i,7);v(a,g,h,f);G(a,b);break;case 112:case 12:e=J(["w","w"],c,d);f=e[0];d=e[1];c=a.g[f].ia;var l=ta(a.h,c);k=va(a.h,c,d);wa(a.h,a.g[f].ia,function(){var r=[];r[0]=l.Pa;
r[1]=this.j-24;w(["Q","w"],r,this.i,7);v(this,g,h,17);G(this,b)}.bind(a));break;case 70:e=J(["w","w","s"],c,d);c=e[0];f=e[1];k=e[2];k=xa(a.h,a.g[c].ia,a.g[f].ia,k);if(0>k){ja(a,h,-k);G(a,b);break}v(a,g,h,0);G(a,b);break;case 16:e=J(["w","s","s","w"],c,d);f=e[0];k=e[1];var n=e[3];c=Ba(a.h,k,a.g[f].ia,e[2]);l=ta(a.h,c);l.uid=a.g[f].uid;l.Xa=n;w(["Q"],[l.Pa],a.i,7);v(a,g,h,13);G(a,b);break;case 18:e=J("wswwww".split(""),c,d);f=e[0];k=e[1];d=e[2];c=e[3];var p=e[4];n=e[5];c=Ca(a.h,k,a.g[f].ia,c,p);l=ta(a.h,
c);l.mode=d;l.uid=a.g[f].uid;l.Xa=n;w(["Q"],[l.Pa],a.i,7);v(a,g,h,13);G(a,b);break;case 22:e=J(["w"],c,d);f=e[0];l=ta(a.h,a.g[f].ia);f=w(["s"],[l.Ef],a.i,7);v(a,g,h,f);G(a,b);break;case 72:e=J(["w","s","w","w"],c,d);f=e[0];k=e[1];d=e[2];n=e[3];c=Da(a.h,k,a.g[f].ia);l=ta(a.h,c);l.mode=d|Ea;l.uid=a.g[f].uid;l.Xa=n;w(["Q"],[l.Pa],a.i,7);v(a,g,h,13);G(a,b);break;case 14:e=J(["w","s","w","w","w"],c,d);f=e[0];k=e[1];c=e[2];d=e[3];n=e[4];a.v.send("9p-create",[k,a.g[f].ia]);c=Ga(a.h,k,a.g[f].ia);a.g[f].ia=
c;a.g[f].type=1;a.g[f].Hc=k;l=ta(a.h,c);l.uid=a.g[f].uid;l.Xa=n;l.mode=d|Ha;w(["Q","w"],[l.Pa,a.j-24],a.i,7);v(a,g,h,17);G(a,b);break;case 52:e=J("wbwddws".split(""),c,d);f=e[0];c=e[2];k=0===e[4]?Infinity:e[4];e=Ia(e[1],e[3],k,e[5],e[6]);k=Ja(a.h,a.g[f].ia,e,c);w(["b"],[k],a.i,7);v(a,g,h,1);G(a,b);break;case 54:e=J("wbddws".split(""),c,d);f=e[0];k=0===e[3]?Infinity:e[3];e=Ia(e[1],e[2],k,e[4],e[5]);k=Ka(a.h,a.g[f].ia,e);k||(k=e,k.type=2);f=w(["b","d","d","w","s"],[k.type,k.start,Infinity===k.length?
0:k.length,k.h,k.g],a.i,7);v(a,g,h,f);G(a,b);break;case 24:e=J(["w","d"],c,d);f=e[0];l=ta(a.h,a.g[f].ia);if(!l||l.status===Oa){ja(a,h,2);G(a,b);break}e[0]=e[1];e[1]=l.Pa;e[2]=l.mode;e[3]=l.uid;e[4]=l.Xa;e[5]=l.pb;e[6]=l.ag<<8|l.bg;e[7]=l.size;e[8]=a.o;e[9]=Math.floor(l.size/512+1);e[10]=l.Yd;e[11]=0;e[12]=l.Uc;e[13]=0;e[14]=l.Ke;e[15]=0;e[16]=0;e[17]=0;e[18]=0;e[19]=0;w("dQwwwddddddddddddddd".split(""),e,a.i,7);v(a,g,h,153);G(a,b);break;case 26:e=J("wwwwwddddd".split(""),c,d);f=e[0];l=ta(a.h,a.g[f].ia);
e[1]&1&&(l.mode=e[2]);e[1]&2&&(l.uid=e[3]);e[1]&4&&(l.Xa=e[4]);e[1]&16&&(l.Yd=Math.floor((new Date).getTime()/1E3));e[1]&32&&(l.Uc=Math.floor((new Date).getTime()/1E3));e[1]&64&&(l.Ke=Math.floor((new Date).getTime()/1E3));e[1]&128&&(l.Yd=e[6]);e[1]&256&&(l.Uc=e[8]);e[1]&8&&await Pa(a.h,a.g[f].ia,e[5]);v(a,g,h,0);G(a,b);break;case 50:e=J(["w","d"],c,d);f=e[0];v(a,g,h,0);G(a,b);break;case 40:case 116:e=J(["w","d","w"],c,d);f=e[0];k=e[1];n=e[2];l=ta(a.h,a.g[f].ia);if(!l||l.status===Oa){ja(a,h,2);G(a,
b);break}if(2===a.g[f].type){(void 0).length<k+n&&(n=(void 0).length-k);for(e=0;e<n;e++)a.i[11+e]=(void 0)[k+e];w(["w"],[n],a.i,7);v(a,g,h,4+n)}else va(a.h,a.g[f].ia,void 0),e=a.g[f].ia,n=Math.min(n,a.i.length-11),l.size<k+n?n=l.size-k:40===g&&(n=Qa(a.h,e,k+n)-k),k>l.size&&(n=0),a.v.send("9p-read-start",[a.g[f].Hc]),e=await Ra(a.h,e,k,n),a.v.send("9p-read-end",[a.g[f].Hc,n]),e&&a.i.set(e,11),w(["w"],[n],a.i,7),v(a,g,h,4+n);G(a,b);break;case 118:e=J(["w","d","w"],c,d);f=e[0];k=e[1];n=e[2];e=a.g[f].Hc;
if(2===a.g[f].type){ja(a,h,95);G(a,b);break}else await Sa(a.h,a.g[f].ia,k,n,c.subarray(d.offset));a.v.send("9p-write-end",[e,n]);w(["w"],[n],a.i,7);v(a,g,h,4);G(a,b);break;case 74:e=J(["w","s","w","s"],c,d);k=await Ta(a.h,a.g[e[0]].ia,e[1],a.g[e[2]].ia,e[3]);if(0>k){ja(a,h,-k);G(a,b);break}v(a,g,h,0);G(a,b);break;case 76:e=J(["w","s","w"],c,d);d=e[0];k=e[1];c=e[2];f=Ua(a.h,a.g[d].ia,k);if(-1===f){ja(a,h,2);G(a,b);break}k=Va(a.h,a.g[d].ia,k);if(0>k){ja(a,h,-k);G(a,b);break}v(a,g,h,0);G(a,b);break;
case 100:f=J(["w","s"],c,d);a.j!==f[0]&&(a.j=f[0],a.i=new Uint8Array(Math.min(16777216,2*a.j)));f=w(["w","s"],[a.j,a.D],a.i,7);v(a,g,h,f);G(a,b);break;case 104:e=J(["w","w","s","s","w"],c,d);f=e[0];a.g[f]={ia:0,type:1,uid:e[4],Hc:""};l=ta(a.h,a.g[f].ia);w(["Q"],[l.Pa],a.i,7);v(a,g,h,13);G(a,b);a.v.send("9p-attach");break;case 108:e=J(["h"],c,d);v(a,g,h,0);G(a,b);break;case 110:e=J(["w","w","h"],c,d);f=e[0];n=e[1];p=e[2];if(0===p){a.g[n]={ia:a.g[f].ia,type:1,uid:a.g[f].uid,Hc:a.g[f].Hc};w(["h"],[0],
a.i,7);v(a,g,h,2);G(a,b);break}k=[];for(e=0;e<p;e++)k.push("s");d=J(k,c,d);c=a.g[f].ia;k=9;var x=0;for(e=0;e<p;e++){c=Ua(a.h,c,d[e]);if(-1===c)break;k+=w(["Q"],[ta(a.h,c).Pa],a.i,k);x++;a.g[n]={ia:c,type:1,uid:a.g[f].uid,Hc:d[e]}}w(["h"],[x],a.i,7);v(a,g,h,k-7);G(a,b);break;case 120:e=J(["w"],c,d);a.g[e[0]]&&0<=a.g[e[0]].ia&&(await Wa(a.h,a.g[e[0]].ia),a.g[e[0]].ia=-1,a.g[e[0]].type=-1);v(a,g,h,0);G(a,b);break;case 32:e=J(["w","s","d","w"],c,d);f=e[0];k=e[1];c=e[3];a.g[f].type=2;v(a,g,h,0);G(a,b);
break;case 30:e=J(["w","w","s"],c,d),f=e[0],k=e[2],ja(a,h,95),G(a,b)}};function Ya(a,b){function c(B){B=B.toString(16);return"#"+"0".repeat(6-B.length)+B}function d(B){var A=256*ha,F=8*T,H=E?E.canvas:null;H&&H.width===A&&H.height===F||(H?(H.width=A,H.height=F):(H=new OffscreenCanvas(A,F),E=H.getContext("2d")),I=E.createImageData(A,F));const M=I.data;let K=0,O;F=cb?function(da){O=O||da;M[K+3]=da;M[K+7]=da;K+=8}:function(da){O=O||da;M[K+3]=da;K+=4};H=32-T;const ba=A*(T-1)*4;A=4*(ha-A*T);const la=1020*ha;for(let da=0,ya=0;2048>da;++da,ya+=H,K+=A){const Fa=da%256;da&&!Fa&&
(K+=ba);O=!1;for(let La=0;La<T;++La,++ya,K+=la){const Ma=B[ya];for(let ua=128;0<ua;ua>>=1)F(Ma&ua?255:0);za&&F(db&&192<=Fa&&223>=Fa&&Ma&1?255:0)}X[da]=O?1:0}E.putImageData(I,0,0)}function e(B,A,F,H){if(A&&F){B.style.width="";B.style.height="";H&&(B.style.transform="");var M=B.getBoundingClientRect();H?B.style.transform=(1===A?"":" scaleX("+A+")")+(1===F?"":" scaleY("+F+")"):(0===A%1&&0===F%1?(g.style.imageRendering="crisp-edges",g.style.imageRendering="pixelated",g.style["-ms-interpolation-mode"]=
"nearest-neighbor"):(g.style.imageRendering="",g.style["-ms-interpolation-mode"]=""),H=window.devicePixelRatio||1,0!==H%1&&(A/=H,F/=H));1!==A&&(B.style.width=M.width*A+"px");1!==F&&(B.style.height=M.height*F+"px")}}const f=a.Rf;this.Rg=b;console.assert(f,"options.container must be provided");this.G=1;this.M=2;var g=f.getElementsByTagName("canvas")[0],h=g.getContext("2d",{alpha:!1}),k=f.getElementsByTagName("div")[0],l=document.createElement("div"),n,p,x=void 0!==a.scale?a.scale:1,r=void 0!==a.scale?
a.scale:1,t=1,y,m,u,D,L,P,z,E,I,X=new Int8Array(2048),T,ha,za,cb,db,eb=0,fb=0,Xa,wb=0,Aa,Na,C,N=[],R=0,Z=!1;this.Kb=function(){const B=new Uint16Array([32,9786,9787,9829,9830,9827,9824,8226,9688,9675,9689,9794,9792,9834,9835,9788,9658,9668,8597,8252,182,167,9644,8616,8593,8595,8594,8592,8735,8596,9650,9660]),A=new Uint16Array([8962,199,252,233,226,228,224,229,231,234,235,232,239,238,236,196,197,201,230,198,244,246,242,251,249,255,214,220,162,163,165,8359,402,225,237,243,250,241,209,170,186,191,8976,
172,189,188,161,171,187,9617,9618,9619,9474,9508,9569,9570,9558,9557,9571,9553,9559,9565,9564,9563,9488,9492,9524,9516,9500,9472,9532,9566,9567,9562,9556,9577,9574,9568,9552,9580,9575,9576,9572,9573,9561,9560,9554,9555,9579,9578,9496,9484,9608,9604,9612,9616,9600,945,223,915,960,931,963,181,964,934,920,937,948,8734,966,949,8745,8801,177,8805,8804,8992,8993,247,8776,176,8729,183,8730,8319,178,9632,160]);for(var F=0,H;256>F;F++)H=126<F?A[F-127]:32>F?B[F]:F,N.push(String.fromCharCode(H));l.classList.add("cursor");
l.style.position="absolute";l.style.backgroundColor="#ccc";l.style.width="7px";l.style.display="inline-block";this.g(!1);this.i(80,25);2===m&&this.h(720,400);this.Ug(x,r);this.Ec()};this.tj=function(){const B=new Image;if(1===m||2===m)B.src=g.toDataURL("image/png");else{const A=[9,16],F=document.createElement("canvas");F.width=D*A[0];F.height=L*A[1];const H=F.getContext("2d");H.imageSmoothingEnabled=!1;H.font=window.getComputedStyle(k).font;H.textBaseline="top";for(let M=0;M<L;M++)for(let K=0;K<D;K++){const O=
4*(M*D+K),ba=u[O],la=u[O+3];H.fillStyle=c(u[O+2]);H.fillRect(K*A[0],M*A[1],A[0],A[1]);H.fillStyle=c(la);H.fillText(N[ba],K*A[0],M*A[1])}"none"!==l.style.display&&n<L&&p<D&&(H.fillStyle=l.style.backgroundColor,H.fillRect(p*A[0],n*A[1]+parseInt(l.style.marginTop,10),parseInt(l.style.width,10),parseInt(l.style.height,10)));B.src=F.toDataURL("image/png")}return B};this.j=function(B,A,F,H,M,K){A=4*(B*D+A);u[A]=F;u[A+1]=H;u[A+2]=M;u[A+3]=K;y[B]=1};this.Ec=function(){R=requestAnimationFrame(()=>this.Y())};
this.Y=function(){Z||(0===m?this.aa():1===m?this.T():this.V());this.Ec()};this.aa=function(){for(var B=0;B<L;B++)y[B]&&(this.S(B),y[B]=0)};this.T=function(){this.Rg()};this.V=function(){if(P){var B=performance.now();if(266<B-wb){Xa=!Xa;C&&(y[n]=1);var A=4*D;for(let K=0,O=0;K<L;++K)if(y[K])O+=A;else for(var F=0;F<D;++F,O+=4)if(u[O+1]&1){y[K]=1;O+=A-4*F;break}wb=B}{B=E.canvas;A=z.canvas;F=4*D;const K=D*ha,O=T;let ba=0;for(let la=0,da=0,ya=0;la<L;++la,da+=T){if(!y[la]){ya+=F;continue}++ba;z.clearRect(0,
O,K,T);let Fa,La,Ma;for(let ua=0;ua<K;ua+=ha,ya+=4){const Pd=u[ya];var H=u[ya+1];const Qd=u[ya+2],Rd=u[ya+3],Sd=H&2?fb:eb;H=(!(H&1)||Xa)&&X[(Sd<<8)+Pd];La!==Qd&&(void 0!==La&&(P.fillStyle=c(La),P.fillRect(Ma,da,ua-Ma,T)),La=Qd,Ma=ua);if(M!==Rd){void 0!==M&&(z.fillStyle=c(M),z.fillRect(Fa,0,ua-Fa,T));var M=Rd;Fa=ua}H&&z.drawImage(B,Pd*ha,Sd*T,ha,T,ua,O,ha,T)}z.fillStyle=c(M);z.fillRect(Fa,0,K-Fa,T);z.globalCompositeOperation="destination-in";z.drawImage(A,0,O,K,T,0,0,K,T);z.globalCompositeOperation=
"source-over";P.fillStyle=c(La);P.fillRect(Ma,da,K-Ma,T);P.drawImage(A,0,0,K,T,0,da,K,T)}ba&&(Xa&&C&&y[n]&&(P.fillStyle=c(u[4*(n*D+p)+3]),P.fillRect(p*ha,n*T+Aa,ha,Na-Aa+1)),y.fill(0));M=ba}M&&h.drawImage(P.canvas,0,0)}};this.wa=function(){R&&(cancelAnimationFrame(R),R=0)};this.pause=function(){Z=!0;l.classList.remove("blinking-cursor")};this.continue=function(){Z=!1;l.classList.add("blinking-cursor")};this.g=function(B){m=B?1:a.gl?2:0;0===m?(k.style.display="block",g.style.display="none"):(k.style.display=
"none",g.style.display="block",2===m&&y&&y.fill(1))};this.o=function(B,A,F,H,M,K){const O=F?16:A?9:8;if(T!==B||ha!==O||za!==A||cb!==F||db!==H||K)K=ha!==O||T!==B,T=B,ha=O,za=A,cb=F,db=H,2===m&&(d(M),y.fill(1),K&&this.P())};this.s=function(B,A){if(eb!==B||fb!==A)eb=B,fb=A,y.fill(1)};this.N=function(){h.fillStyle="#000";h.fillRect(0,0,g.width,g.height)};this.P=function(){if(E){var B=ha*D,A=T*L,F=2*T;P&&P.canvas.width===B&&P.canvas.height===A&&z.canvas.height===F||(P?(P.canvas.width=B,P.canvas.height=
A,z.canvas.width=B,z.canvas.height=F):(P=(new OffscreenCanvas(B,A)).getContext("2d",{alpha:!1}),z=(new OffscreenCanvas(B,F)).getContext("2d")),this.h(B,A),y.fill(1))}};this.i=function(B,A){if(B!==D||A!==L)if(y=new Int8Array(A),u=new Int32Array(B*A*4),D=B,L=A,0===m){for(;k.childNodes.length>A;)k.removeChild(k.firstChild);for(;k.childNodes.length<A;)k.appendChild(document.createElement("div"));for(B=0;B<A;B++)this.S(B);e(k,x,r,!0)}else 2===m&&this.P()};this.h=function(B,A){g.style.display="block";g.width=
B;g.height=A;h.imageSmoothingEnabled=!1;t=640>=B&&2*B<window.innerWidth*window.devicePixelRatio&&2*A<window.innerHeight*window.devicePixelRatio?2:1;e(g,x*t,r*t,!1)};this.Ug=function(B,A){x=B;r=A;e(k,x,r,!0);e(g,x*t,r*t,!1)};this.D=function(B,A,F){if(B!==Aa||A!==Na||F!==C)0===m?F?(l.style.display="inline",l.style.height=A-B+"px",l.style.marginTop=B+"px"):l.style.display="none":2===m&&n<L&&(y[n]=1),Aa=B,Na=A,C=F};this.C=function(B,A){if(B!==n||A!==p)B<L&&(y[B]=1),n<L&&(y[n]=1),n=B,p=A};this.S=function(B){var A=
4*B*D,F;var H=k.childNodes[B];var M=document.createElement("div");for(var K=0;K<D;){var O=document.createElement("span");var ba=u[A+1]&1;var la=u[A+2];var da=u[A+3];ba&&O.classList.add("blink");O.style.backgroundColor=c(la);O.style.color=c(da);for(F="";K<D&&(u[A+1]&1)===ba&&u[A+2]===la&&u[A+3]===da;)if(F+=N[u[A]],K++,A+=4,B===n)if(K===p)break;else if(K===p+1){l.style.backgroundColor=O.style.color;M.appendChild(l);break}O.textContent=F;M.appendChild(O)}H.parentNode.replaceChild(M,H)};this.l=function(B){for(const A of B)h.putImageData(A.xc,
A.Sg-A.Of,A.Tg-A.Pf,A.Of,A.Pf,A.wg,A.vg)};this.Kb()};(function(){function a(r){document.title=r+" - v86";const t=document.querySelector("meta[name=description]");t&&(t.content="Running "+r)}function b(r){return!!r&&"0"!==r}function c(r){return document.getElementById(r)}function d(){function r(){const z={};for(var E of P)z[E.id.replace(/filter_/,"")]=E.checked;E=!Object.values(z).includes(!0);for(const I of L){const X=E||z.graphical&&I.Bh||z.text&&!I.Bh||z.linux&&"Linux"===I.family||z.bsd&&"BSD"===I.family||z.windows&&"Windows"===I.family||z.unix&&
"Unix"===I.family||z.dos&&"DOS"===I.family||z.custom&&"Custom"===I.family||z.floppy&&"Floppy"===I.Fg||z.cd&&"CD"===I.Fg||z.hd&&"HD"===I.Fg||z.modern&&"Modern"===I.status||z.historic&&"Historic"===I.status||z.opensource&&"Open-source"===I.source||z.proprietary&&"Proprietary"===I.source||z.bootsector&&512>=I.size||z.lt5mb&&5242880>=I.size||z.gt5mb&&5242880<I.size||z["16bit"]&&"16-bit"===I.hh||z["32bit"]&&"32-bit"===I.hh||z.asm&&I.languages.has("ASM")||z.c&&I.languages.has("C")||z.cpp&&I.languages.has("C++")||
z.other_lang&&["Java","Haskell","Rust","Erlang","Oberon"].some(T=>I.languages.has(T));I.element.style.display=X?"":"none"}}function t(z,E){if(z=c(z))z.onclick=()=>c("relay_url").value=E}if(window.WebAssembly){c("start_emulation").onclick=function(z){e(null,null);c("start_emulation").blur();z.preventDefault()};var y=new URLSearchParams(location.search),m=y.get("cdn")||(l?"images/":"//i.copy.sh/");m=[{id:"archlinux",name:"Arch Linux",F:536870912,oa:8388608,state:{url:m+"arch_state-v2.bin.zst"},filesystem:{Nf:m+
"arch/"},vf:"virtio"},{id:"archlinux-boot",name:"Arch Linux",F:536870912,oa:8388608,filesystem:{Nf:m+"arch/",Hi:{url:m+"fs.json"}},Fb:"rw apm=off vga=0x344 video=vesafb:ypan,vremap:8 root=host9p rootfstype=9p rootflags=trans=virtio,cache=loose mitigations=off audit=0 init_on_free=on tsc=reliable random.trust_cpu=on nowatchdog init=/usr/bin/init-openrc net.ifnames=0 biosdevname=0",df:!0,vf:"virtio"},{id:"copy/skiffos",name:"SkiffOS",X:{url:m+"skiffos/.iso",size:124672E3,async:!0,L:1048576,da:!0},F:536870912},
{id:"serenity",name:"SerenityOS",J:{url:m+"serenity-v3/.img.zst",size:734003200,async:!0,L:1048576,da:!0},F:536870912,state:{url:m+"serenity_state-v4.bin.zst"},K:"https://serenityos.org/",Mb:!0},{id:"serenity-boot",name:"SerenityOS",J:{url:m+"serenity-v3/.img.zst",size:734003200,async:!0,L:1048576,da:!0},F:536870912,K:"https://serenityos.org/"},{id:"redox",name:"Redox",J:{url:m+"redox_demo_i686_2024-09-07_1225_harddrive/.img",size:671088640,async:!0,L:1048576,da:!0},F:1073741824,state:{url:m+"redox_state-v2.bin.zst"},
K:"https://www.redox-os.org/",ua:!0},{id:"redox-boot",name:"Redox",J:{url:m+"redox_demo_i686_2024-09-07_1225_harddrive/.img",size:671088640,async:!0,L:1048576,da:!0},F:1073741824,K:"https://www.redox-os.org/",ua:!0},{id:"helenos",F:268435456,X:{url:m+"HelenOS-0.14.1-ia32.iso",size:25792512,async:!1},name:"HelenOS",K:"http://www.helenos.org/"},{id:"fiwix",F:268435456,J:{url:m+"FiwixOS-3.3-i386/.img",size:1073741824,async:!0,L:1048576,da:!0},name:"FiwixOS",K:"https://www.fiwix.org/"},{id:"haiku",F:536870912,
J:{url:m+"haiku-v4/.img",size:1073741824,async:!0,L:1048576,da:!0},state:{url:m+"haiku_state-v4.bin.zst"},name:"Haiku",K:"https://www.haiku-os.org/"},{id:"haiku-boot",F:536870912,J:{url:m+"haiku-v4/.img",size:1073741824,async:!0,L:1048576,da:!0},name:"Haiku",K:"https://www.haiku-os.org/"},{id:"beos",F:536870912,J:{url:m+"beos5/.img",size:536870912,async:!0,L:1048576,da:!0},name:"BeOS 5"},{id:"msdos",J:{url:m+"msdos622/.img",size:67108864,async:!0,L:262144,da:!0},name:"MS-DOS 6.22"},{id:"msdos4",U:{url:m+
"msdos4.img",size:1474560},name:"MS-DOS 4"},{id:"freedos",U:{url:m+"freedos722.img",size:737280},name:"FreeDOS"},{id:"freegem",J:{url:m+"freegem/.bin",size:209715200,async:!0,L:262144,da:!0},name:"Freedos with FreeGEM"},{id:"xcom",U:{url:m+"xcom144.img",size:1474560},name:"Freedos with Xcom",K:"http://xcom.infora.hu/index.html"},{id:"psychdos",J:{url:m+"psychdos/.img",size:549453824,async:!0,L:262144,da:!0},name:"PsychDOS",K:"https://psychoslinux.gitlab.io/DOS/INDEX.HTM"},{id:"86dos",U:{url:m+"pc86dos.img",
size:163840},name:"86-DOS",K:"https://www.os2museum.com/wp/pc-86-dos/"},{id:"oberon",J:{url:m+"oberon.img",size:25165824,async:!1},name:"Oberon"},{id:"windows1",U:{url:m+"windows101.img",size:1474560},name:"Windows 1.01"},{id:"windows2",J:{url:m+"windows2.img",size:4177920,async:!1},name:"Windows 2.03"},{id:"linux26",X:{url:m+"linux.iso",size:6547456,async:!1},name:"Linux"},{id:"linux3",X:{url:m+"linux3.iso",size:8638464,async:!1},name:"Linux"},{id:"linux4",X:{url:m+"linux4.iso",size:7731200,async:!1},
name:"Linux",filesystem:{}},{id:"buildroot",vb:{url:m+"buildroot-bzimage.bin",size:5166352,async:!1},name:"Buildroot Linux",filesystem:{},Fb:"tsc=reliable mitigations=off random.trust_cpu=on"},{id:"buildroot6",vb:{url:m+"buildroot-bzimage68.bin",size:10068480,async:!1},name:"Buildroot Linux 6.8",filesystem:{},Fb:"tsc=reliable mitigations=off random.trust_cpu=on"},{id:"basiclinux",J:{url:m+"bl3-5.img",size:104857600,async:!1},name:"BasicLinux"},{id:"xpud",X:{url:m+"xpud-0.9.2.iso",size:67108864,async:!1},
name:"xPUD",F:268435456},{id:"elks",J:{url:m+"elks-hd32-fat.img",size:32514048,async:!1},name:"ELKS",K:"https://github.com/ghaerr/elks"},{id:"nodeos",vb:{url:m+"nodeos-kernel.bin",size:14452E3,async:!1},name:"NodeOS",Fb:"tsc=reliable mitigations=off random.trust_cpu=on"},{id:"dsl",F:268435456,X:{url:m+"dsl-4.11.rc2.iso",size:52824064,async:!1},name:"Damn Small Linux",K:"http://www.damnsmalllinux.org/"},{id:"xwoaf",F:268435456,X:{url:m+"xwoaf_rebuild4.iso",size:2205696,async:!1},name:"xwoaf",K:"https://pupngo.dk/xwinflpy/xwoaf_rebuild.html"},
{id:"minix",name:"Minix",F:268435456,X:{url:m+"minix-3.3.0/.iso",size:605581312,async:!0,L:1048576,da:!0},K:"https://www.minix3.org/"},{id:"unix-v7",name:"Unix V7",J:{url:m+"unix-v7x86-0.8a/.img",size:152764416,async:!0,L:262144,da:!0}},{id:"kolibrios",U:{url:l?m+"kolibri.img":"//builds.kolibrios.org/en_US/data/data/kolibri.img",size:1474560},name:"KolibriOS",K:"https://kolibrios.org/en/"},{id:"kolibrios-fallback",U:{url:m+"kolibri.img",size:1474560},name:"KolibriOS"},{id:"mu",J:{url:m+"mu-shell.img",
size:10321920,async:!1},F:268435456,name:"Mu",K:"https://github.com/akkartik/mu"},{id:"openbsd",J:{url:m+"openbsd/.img",size:1073741824,async:!0,L:1048576,da:!0},state:{url:m+"openbsd_state.bin.zst"},F:268435456,name:"OpenBSD"},{id:"sortix",X:{url:m+"sortix-1.0-i686.iso",size:71075840,async:!1},F:536870912,name:"Sortix"},{id:"openbsd-boot",J:{url:m+"openbsd/.img",size:1073741824,async:!0,L:1048576,da:!0},F:268435456,name:"OpenBSD"},{id:"netbsd",J:{url:m+"netbsd/.img",size:511000064,async:!0,L:1048576,
da:!0},F:268435456,name:"NetBSD"},{id:"crazierl",Nb:{url:m+"crazierl-elf.img",size:896592,async:!1},Lb:{url:m+"crazierl-initrd.img",size:18448316,async:!1},ua:!0,Fb:"kernel /libexec/ld-elf32.so.1",F:134217728,name:"Crazierl"},{id:"solos",U:{url:m+"os8.img",size:1474560},name:"Sol OS",K:"http://oby.ro/os/"},{id:"bootchess",U:{url:m+"bootchess.img",size:1474560},name:"BootChess",K:"http://www.pouet.net/prod.php?which=64962"},{id:"bootbasic",U:{url:m+"bootbasic.img",size:512},name:"bootBASIC",K:"https://github.com/nanochess/bootBASIC"},
{id:"bootlogo",U:{url:m+"bootlogo.img",size:512},name:"bootLogo",K:"https://github.com/nanochess/bootLogo"},{id:"sectorlisp",U:{url:m+"sectorlisp-friendly.bin",size:512},name:"SectorLISP",K:"https://justine.lol/sectorlisp2/"},{id:"sectorforth",U:{url:m+"sectorforth.img",size:512},name:"sectorforth",K:"https://github.com/cesarblum/sectorforth"},{id:"floppybird",U:{url:m+"floppybird.img",size:1474560},name:"Floppy Bird",K:"http://mihail.co/floppybird"},{id:"stillalive",U:{url:m+"stillalive-os.img",
size:368640},name:"Still Alive",K:"https://github.com/maniekx86/stillalive-os"},{id:"hello-v86",U:{url:m+"hello-v86.img",size:512},name:"Hello v86"},{id:"tetros",U:{url:m+"tetros.img",size:512},name:"TetrOS",K:"https://github.com/daniel-e/tetros"},{id:"dino",U:{url:m+"bootdino.img",size:512},name:"dino",K:"https://github.com/franeklubi/dino"},{id:"bootrogue",U:{url:m+"bootrogue.img",size:512},name:"bootRogue",K:"https://github.com/nanochess/bootRogue"},{id:"duskos",J:{url:m+"duskos.img",async:!1,
size:8388608},name:"Dusk OS",K:"http://duskos.org/"},{id:"windows2000",F:536870912,J:{url:m+"windows2k/.img",size:2147483648,async:!0,L:262144,da:!0},name:"Windows 2000",state:{url:m+"windows2k_state-v2.bin.zst"},Mb:!0},{id:"windows2000-boot",F:536870912,J:{url:m+"windows2k/.img",size:2147483648,async:!0,L:262144,da:!0},name:"Windows 2000"},{id:"windows-me",F:134217728,J:{url:m+"windowsme/.img",size:834666496,async:!0,L:262144,da:!0},state:{url:m+"windows-me_state.bin.zst"},name:"Windows ME"},{id:"windowsnt4",
F:536870912,J:{url:m+"winnt4_noacpi/.img",size:523837440,async:!0,L:262144,da:!0},name:"Windows NT 4.0",jd:2},{id:"windowsnt3",F:268435456,J:{url:m+"winnt31/.img",size:91226112,async:!0,L:262144,da:!0},name:"Windows NT 3.1"},{id:"windows98",F:134217728,J:{url:m+"windows98/.img",size:314572800,async:!0,L:262144,da:!0},name:"Windows 98",state:{url:m+"windows98_state.bin.zst"},Mb:!0},{id:"windows98-boot",F:134217728,J:{url:m+"windows98/.img",size:314572800,async:!0,L:262144,da:!0},name:"Windows 98"},
{id:"windows95",F:67108864,J:{url:m+"windows95-v2/.img",size:471859200,async:!0,L:262144,da:!0},name:"Windows 95"},{id:"windows95-boot",F:67108864,J:{url:m+"windows95-v2/.img",size:471859200,async:!0,L:262144,da:!0},name:"Windows 95"},{id:"windows30",F:67108864,X:{url:m+"Win30.iso",size:7774208,async:!1},name:"Windows 3.0"},{id:"windows31",F:67108864,J:{url:m+"win31.img",async:!1,size:34463744},name:"Windows 3.1"},{id:"tilck",F:134217728,J:{url:m+"tilck.img",async:!1,size:37748736},name:"Tilck",K:"https://github.com/vvaltchev/tilck"},
{id:"littlekernel",Nb:{url:m+"littlekernel-multiboot.img",async:!1,size:969580},name:"Little Kernel",K:"https://github.com/littlekernel/lk"},{id:"sanos",F:134217728,J:{url:m+"sanos-flp.img",async:!1,size:1474560},name:"Sanos",K:"http://www.jbox.dk/sanos/"},{id:"freebsd",F:268435456,J:{url:m+"freebsd/.img",size:2147483648,async:!0,L:1048576,da:!0},state:{url:m+"freebsd_state.bin.zst"},name:"FreeBSD"},{id:"freebsd-boot",F:268435456,J:{url:m+"freebsd/.img",size:2147483648,async:!0,L:1048576,da:!0},name:"FreeBSD"},
{id:"reactos",F:536870912,J:{url:m+"reactos-v2/.img",size:681574400,async:!0,L:1048576,da:!0},state:{url:m+"reactos_state-v2.bin.zst"},Mb:!0,name:"ReactOS",ua:!0,K:"https://reactos.org/"},{id:"reactos-boot",F:536870912,J:{url:m+"reactos-v2/.img",size:681574400,async:!0,L:1048576,da:!0},name:"ReactOS",ua:!0,K:"https://reactos.org/"},{id:"skift",X:{url:m+"skift-20200910.iso",size:64452608,async:!1},name:"Skift",K:"https://skiftos.org/"},{id:"snowdrop",U:{url:m+"snowdrop.img",size:1474560},name:"Snowdrop",
K:"http://www.sebastianmihai.com/snowdrop/"},{id:"openwrt",J:{url:m+"openwrt-18.06.1-x86-legacy-combined-squashfs.img",size:19846474,async:!1},name:"OpenWrt"},{id:"qnx",U:{url:m+"qnx-demo-network-4.05.img",size:1474560},name:"QNX 4.05"},{id:"9front",F:134217728,J:{url:m+"9front-8963.f84cf1e60427675514fb056cc1723e45da01e043.386/.iso",size:477452288,async:!0,L:1048576,da:!0},state:{url:m+"9front_state-v2.bin.zst"},ua:!0,name:"9front",K:"https://9front.org/"},{id:"9front-boot",F:134217728,J:{url:m+"9front-8963.f84cf1e60427675514fb056cc1723e45da01e043.386/.iso",
size:477452288,async:!0,L:1048576,da:!0},ua:!0,name:"9front",K:"https://9front.org/"},{id:"mobius",U:{url:m+"mobius-fd-release5.img",size:1474560},name:"Mobius"},{id:"android",F:536870912,X:{url:m+"android-x86-1.6-r2/.iso",size:54661120,async:!0,L:1048576,da:!0},name:"Android"},{id:"android4",F:536870912,X:{url:m+"android_x86_nonsse3_4.4r1_20140904/.iso",size:247463936,async:!0,L:1048576,da:!0},name:"Android 4"},{id:"tinycore",F:268435456,J:{url:m+"TinyCore-11.0.iso",size:19922944,async:!1},name:"Tinycore",
K:"http://www.tinycorelinux.net/"},{id:"slitaz",F:536870912,J:{url:m+"slitaz-rolling-2024.iso",size:56573952,async:!1},name:"SliTaz",K:"https://slitaz.org/"},{id:"freenos",F:268435456,X:{url:m+"FreeNOS-1.0.3.iso",async:!1,size:11014144},name:"FreeNOS",ua:!0,K:"http://www.freenos.org/"},{id:"syllable",F:536870912,J:{url:m+"syllable-destop-0.6.7/.img",async:!0,size:524288E3,L:524288,da:!0},name:"Syllable",K:"http://syllable.metaproject.frl/"},{id:"toaruos",F:536870912,X:{url:m+"toaruos-1.6.1-core.iso",
size:67567616,async:!1},name:"ToaruOS",ua:!0,K:"https://toaruos.org/"},{id:"nopeos",X:{url:m+"nopeos-0.1.iso",size:532480,async:!1},name:"Nope OS",K:"https://github.com/d99kris/nopeos"},{id:"soso",X:{url:m+"soso.iso",size:22546432,async:!1},name:"Soso",K:"https://github.com/ozkl/soso"},{id:"pcmos",U:{url:m+"PCMOS386-9-user-patched.img",size:1474560},name:"PC-MOS/386",K:"https://github.com/roelandjansen/pcmos386v501"},{id:"jx",U:{url:m+"jx-demo.img",size:1474560},name:"JX",K:"https://www4.cs.fau.de/Projects/JX/index.html"},
{id:"house",U:{url:m+"hOp-0.8.img",size:1474560},name:"House",K:"https://programatica.cs.pdx.edu/House/"},{id:"bleskos",name:"BleskOS",X:{url:m+"bleskos_2024u32.iso",size:1835008,async:!1},K:"https://github.com/VendelinSlezak/BleskOS"},{id:"boneos",name:"BoneOS",X:{url:m+"BoneOS.iso",size:11429888,async:!1},K:"https://amanuel.io/projects/BoneOS/"},{id:"mikeos",name:"MikeOS",X:{url:m+"mikeos.iso",size:3311616,async:!1},K:"https://mikeos.sourceforge.net/"},{id:"bluejay",name:"Blue Jay",U:{url:m+"bj050.img",
size:1474560},K:"https://archiveos.org/blue-jay/"},{id:"t3xforth",name:"T3XFORTH",U:{url:m+"t3xforth.img",size:1474560},K:"https://t3x.org/t3xforth/"},{id:"nanoshell",name:"NanoShell",X:{url:m+"nanoshell.iso",size:6785024,async:!1},K:"https://github.com/iProgramMC/NanoShellOS"},{id:"catk",name:"CatK",X:{url:m+"catkernel.iso",size:11968512,async:!1},K:"https://catk.neocities.org/"},{id:"mcp",name:"M/CP",U:{url:m+"mcp2.img",size:512},K:"https://github.com/ybuzoku/MCP"},{id:"ibm-exploring",name:"Exploring The IBM Personal Computer",
U:{url:m+"ibm-exploring.img",size:368640}},{id:"leetos",name:"lEEt/OS",U:{url:m+"leetos.img",size:1474560},K:"http://sininenankka.dy.fi/leetos/index.php"},{id:"newos",name:"NewOS",U:{url:m+"newos-flp.img",size:1474560,async:!1},K:"https://newos.org/"},{id:"aros-broadway",name:"AROS Broadway",F:536870912,X:{url:m+"broadway10/.iso",size:742051840,async:!0,L:524288,da:!0},K:"https://web.archive.org/web/20231109224346/http://www.aros-broadway.de/"},{id:"icaros",name:"Icaros Desktop",F:536870912,X:{url:m+
"icaros-pc-i386-2.3/.iso",size:726511616,async:!0,L:524288,da:!0},K:"http://vmwaros.blogspot.com/"},{id:"tinyaros",name:"Tiny Aros",F:536870912,X:{url:m+"tinyaros-pc-i386/.iso",size:111175680,async:!0,L:524288,da:!0},K:"https://www.tinyaros.it/"}];var u=y.get("profile");if(!u){var D=document.createElement("link");D.rel="prefetch";D.href="build/v86.wasm";document.head.appendChild(D)}D=document.createElement("link");D.rel="prefetch";D.href="build/xterm.js";document.head.appendChild(D);for(const z of m){if(u===
z.id){e(z,y);return}const E=c("start_"+z.id);E&&(E.onclick=I=>{I.ctrlKey||(I.preventDefault(),E.blur(),e(z,null))})}if("custom"===u)y.has("hda.url")||y.has("cdrom.url")||y.has("fda.url")?e(null,y):(y.has("m")&&(c("memory_size").value=y.get("m")),y.has("vram")&&(c("vga_memory_size").value=y.get("vram")),y.has("relay_url")&&(c("relay_url").value=y.get("relay_url")),y.has("mute")&&(c("disable_audio").checked=b(y.get("mute"))),y.has("acpi")&&(c("acpi").checked=b(y.get("acpi"))),y.has("boot_order")&&(c("boot_order").value=
y.get("boot_order")));else if(/^[a-zA-Z0-9\-_]+\/[a-zA-Z0-9\-_]+$/g.test(u)){const z="https://v86-user-images.b-cdn.net/"+u;fetch(z+"/profile.json").catch(()=>alert("Profile not found: "+u)).then(E=>E.json()).then(E=>{function I(X){return X&&{url:z+"/"+X.url,async:X.async,size:X.size}}E={id:E.id,name:E.name,F:E.memory_size,oa:E.vga_memory_size,ua:E.acpi,Eb:E.boot_order,J:I(E.hda),X:I(E.cdrom),U:I(E.fda),Nb:I(E.multiboot),vb:I(E.bzimage),Lb:I(E.initrd)};e(E,y)})}var L=Array.from(document.querySelectorAll("#oses tbody tr")).map(z=>
{const [,E,I]=z.children[1].textContent.match(/([\d\.]+)\+? (\w+)/);let X=+E;"MB"===I?X*=1048576:"KB"===I&&(X*=1024);return{element:z,size:X,Bh:"gui_icon"===z.children[2].firstChild.className,family:z.children[3].textContent.replace(/-like/,""),hh:z.children[4].textContent,status:z.children[5].textContent,source:z.children[6].textContent,languages:new Set(z.children[7].textContent.split(", ")),Fg:z.children[8].textContent}}),P=document.querySelectorAll("#filter input");for(const z of P)z.onchange=
r;t("network_none","");t("network_fetch","fetch");t("network_relay","wss://relay.widgetry.org/");t("network_wisp","wisps://wisp.mercurywork.shop/v86/")}else alert("Your browser is not supported because it doesn't support WebAssembly")}function e(r,t){c("boot_options").style.display="none";const y=new Map;y.set("profile",r?.id||"custom");const m={};if(r&&(r.state&&(c("reset").style.display="none"),a(r.name),m.yc=r.state,m.filesystem=r.filesystem,m.U=r.U,m.X=r.X,m.J=r.J,m.Nb=r.Nb,m.vb=r.vb,m.Lb=r.Lb,
m.Fb=r.Fb,m.df=r.df,m.Mb=r.Mb,m.jd=r.jd,m.ua=r.ua,m.F=r.F,m.oa=r.oa,m.Eb=r.Eb,m.vf=r.vf,r.K)){c("description").style.display="block";var u=document.createElement("a");u.href=r.K;u.textContent=r.name;u.target="_blank";c("description").append(document.createTextNode("Running "),u)}t&&(m.yc||(u=parseInt(t.get("chunk_size"),10),0<=u?(u=Math.min(4194304,Math.max(512,u)),u=Za(u)):u=262144,t.has("hda.url")&&(m.J={size:parseInt(t.get("hda.size"),10)||void 0,url:t.get("hda.url"),L:u,async:!0}),t.has("cdrom.url")&&
(m.X={size:parseInt(t.get("cdrom.size"),10)||void 0,url:t.get("cdrom.url"),L:u,async:!0}),t.has("fda.url")&&(m.U={size:parseInt(t.get("fda.size"),10)||void 0,url:t.get("fda.url"),async:!1}),u=parseInt(t.get("m"),10),0<u&&(m.F=1048576*Math.max(16,u)),u=parseInt(t.get("vram"),10),0<u&&(m.oa=1048576*u),m.ua=t.has("acpi")?b(t.get("acpi")):m.ua,m.fl="bochs"===t.get("bios"),m.vf="virtio"===t.get("net_device_type")?"virtio":"ne2k"),m.we=t.get("relay_url"),m.gf=b(t.get("disable_jit")),m.Uf=b(t.get("mute")));
m.we||(m.we=c("relay_url").value,n.includes(m.we)||y.set("relay_url",m.we));m.Uf=c("disable_audio").checked||m.Uf;m.Uf&&y.set("mute","1");if(!m.yc){if(u=c("bios").files[0])m.ub={buffer:u};var D=c("floppy_image").files[0];D&&(m.U={buffer:D});const z=c("cdrom_image").files[0];z&&(m.X={buffer:z});const E=c("hda_image").files[0];E&&(m.J={buffer:E});const I=c("hdb_image")?.files[0];I&&(m.Mc={buffer:I});const X=c("multiboot_image")?.files[0];X&&(m.Nb={buffer:X});var L=c("bzimage").files[0];L&&(m.vb={buffer:L});
if(L=c("initrd").files[0])m.Lb={buffer:L};(u=X?.name||E?.name||z?.name||I?.name||D?.name||u?.name)&&a(u);u=parseInt(c("memory_size").value,10)||128;m.F&&128===u||(m.F=1048576*u);128!==u&&y.set("m",String(u));u=parseInt(c("vga_memory_size").value,10)||8;m.oa&&8===u||(m.oa=1048576*u);8!==u&&y.set("vram",String(u));u=parseInt(c("boot_order").value,16)||0;m.Eb&&0===u||(m.Eb=u);0!==m.Eb&&y.set("boot_order",String(m.Eb));void 0===m.ua&&(m.ua=c("acpi").checked,m.ua&&y.set("acpi","1"));m.ub||(m.fl?(u="bochs-bios.bin",
D="bochs-vgabios.bin"):(u="seabios.bin",D="vgabios.bin"),m.ub={url:"bios/"+u},m.If={url:"bios/"+D})}t||k(y);const P=new $a({screen:{Rf:c("screen_container"),gl:!1},Re:{type:m.vf||"ne2k",we:m.we},Gi:!0,F:m.F,oa:m.oa,Eb:m.Eb,ub:m.ub,If:m.If,U:m.U,J:m.J,Mc:m.Mc,X:m.X,Nb:m.Nb,vb:m.vb,Lb:m.Lb,Fb:m.Fb,df:m.df,ua:m.ua,gf:m.gf,yc:m.yc,filesystem:m.filesystem||{},Wi:m.Uf,Mb:m.Mb,jd:m.jd});ab(P,"emulator-ready",function(){if(P.Ga.u.Ka.exports.profiler_is_enabled()){const z=document.createElement("pre");document.body.appendChild(z);
setInterval(function(){if(P.od()){var E=bb.bl(P.Ga.u);z.textContent=E}},1E3)}"dsl helenos android android4 redox beos".split(" ").includes(r?.id)&&setTimeout(()=>{gb(P,"\n")},3E3);f(m,P);t?.has("c")&&setTimeout(function(){gb(P,t.get("c")+"\n")},25);t?.has("s")&&setTimeout(function(){for(var z=t.get("s")+"\n",E=0;E<z.length;E++)P.v.send("serial0-input",z.charCodeAt(E))},25)});ab(P,"download-progress",function(z){{const X=c("loading");X.style.display="block";if(z.pf.endsWith(".wasm")){var E=z.pf.split("/");
X.textContent="Fetching "+E[E.length-1]+" ..."}else if(z.nf===z.mf-1&&z.loaded>=z.total-2048)X.textContent="Done downloading. Starting now ...";else{E="Downloading images ";"number"===typeof z.nf&&z.mf&&(E+="["+(z.nf+1)+"/"+z.mf+"] ");if(z.total&&"number"===typeof z.loaded){z=Math.floor(z.loaded/z.total*100);z=Math.min(100,Math.max(0,z));var I=Math.floor(z/2);E=E+(z+"% [")+"#".repeat(I);E+=" ".repeat(50-I)+"]"}else E+=".".repeat(p++%50);X.textContent=E}}});ab(P,"download-error",function(z){const E=
c("loading");E.style.display="block";E.textContent=`Loading ${z.pf} failed. Check your connection and reload the page to try again.`})}function f(r,t){function y(){var C=Date.now(),N=t.Ga?t.Ga.u.qj[0]>>>0:0;N<z&&(z-=4294967296);var R=N-z;z=N;X+=R;if(N=C-L)P+=N,L=C,c("speed").textContent=(R/1E3/N).toFixed(1),c("avg_speed").textContent=(X/1E3/P).toFixed(1),C=c("running_time"),R=P/1E3|0,C.textContent=60>R?R+"s":3600>R?(R/60|0)+"m "+hb(R%60,2)+"s":(R/3600|0)+"h "+hb((R/60|0)%60,2)+"m "+hb(R%60,2)+"s"}
function m(C,N,R){var Z=c("get_"+R+"_image");!C||104857600<C.size?Z.style.display="none":Z.onclick=function(){const B=N.file&&N.file.name||r.id+("cdrom"===R?".iso":".img");if(N.zh){var A=N.zh(B);ib(A,B)}else N.ac(function(F){F?jb(F,B):alert("The file could not be loaded. Maybe it's too big?")});Z.blur()}}function u(C){C.ctrlKey?window.onbeforeunload=function(){window.onbeforeunload=null;return"CTRL-W cannot be sent to the emulator."}:window.onbeforeunload=null}c("loading").style.display="none";c("runtime_options").style.display=
"block";c("runtime_infos").style.display="block";c("screen_container").style.display="block";r.filesystem?g(t):ab(t,"9p-attach",function(){g(t)});c("run").onclick=function(){t.od()?(c("run").value="Run",t.stop()):(c("run").value="Pause",t.Bf());c("run").blur()};c("exit").onclick=function(){t.stop();location.href=location.pathname};c("lock_mouse").onclick=function(){if(!D)c("toggle_mouse").onclick();kb();c("lock_mouse").blur()};var D=!0;c("toggle_mouse").onclick=function(){D=!D;t.i&&(t.i.Wf=D);c("toggle_mouse").value=
(D?"Dis":"En")+"able mouse";c("toggle_mouse").blur()};var L=0,P=0,z=0,E=null,I=!1,X=0;ab(t,"emulator-started",function(){L=Date.now();E=setInterval(y,1E3)});ab(t,"emulator-stopped",function(){y();null!==E&&clearInterval(E)});var T=0,ha=0,za=[];ab(t,"9p-read-start",function(C){C=C[0];za.push(C);c("info_filesystem").style.display="block";c("info_filesystem_status").textContent="Loading ...";c("info_filesystem_last_file").textContent=C});ab(t,"9p-read-end",function(C){T+=C[1];c("info_filesystem_bytes_read").textContent=
T;const N=C[0];za=za.filter(R=>R!==N);za[0]?c("info_filesystem_last_file").textContent=za[0]:c("info_filesystem_status").textContent="Idle"});ab(t,"9p-write-end",function(C){ha+=C[1];c("info_filesystem_bytes_written").textContent=ha;za[0]||(c("info_filesystem_last_file").textContent=C[0])});var cb=0,db=0,eb=0,fb=0;c("ide_type").textContent=t.ob.X?" (CD-ROM)":" (hard disk)";ab(t,"ide-read-start",function(){c("info_storage").style.display="block";c("info_storage_status").textContent="Loading ..."});
ab(t,"ide-read-end",function(C){cb+=C[1];db+=C[2];c("info_storage_status").textContent="Idle";c("info_storage_bytes_read").textContent=cb;c("info_storage_sectors_read").textContent=db});ab(t,"ide-write-end",function(C){eb+=C[1];fb+=C[2];c("info_storage_bytes_written").textContent=eb;c("info_storage_sectors_written").textContent=fb});var Xa=0,wb=0;ab(t,"eth-receive-end",function(C){wb+=C[0];c("info_network").style.display="block";c("info_network_bytes_received").textContent=wb});ab(t,"eth-transmit-end",
function(C){Xa+=C[0];c("info_network").style.display="block";c("info_network_bytes_transmitted").textContent=Xa});ab(t,"mouse-enable",function(C){I=C;c("info_mouse_enabled").textContent=C?"Yes":"No"});ab(t,"screen-set-size",function(C){const [N,R,Z]=C;c("info_res").textContent=N+"x"+R+(Z?"x"+Z:"");c("info_vga_mode").textContent=Z?"Graphical":"Text"});c("reset").onclick=function(){t.Pg();c("reset").blur()};m(r.J,t.ob.J,"hda");m(r.Mc,t.ob.Mc,"hdb");m(r.U,t.ob.U,"fda");m(r.Ne,t.ob.Ne,"fdb");m(r.X,t.ob.X,
"cdrom");c("change_fda_image").value=r.U?"Eject floppy image":"Insert floppy image";c("change_fda_image").onclick=function(){if(t.Ga.u.A.ee.md)t.Vf(),c("change_fda_image").value="Insert floppy image";else{const C=document.createElement("input");C.type="file";C.onchange=async function(){const N=C.files[0];N&&(await t.Df({buffer:N}),c("change_fda_image").value="Eject floppy image")};C.click()}c("change_fda_image").blur()};c("memory_dump").onclick=function(){const C=t.Ga.u.kb;jb(new Uint8Array(C.buffer,
C.byteOffset,C.length),"v86memory.bin");c("memory_dump").blur()};c("capture_network_traffic").onclick=function(){function C(R,Z){var B=N,A=B.push,F=performance.now()/1E3;{const O=[];let ba=0;for(;ba+15<Z.length;ba+=16){var H=hb(ba.toString(16).toUpperCase(),5)+"   ";for(var M=0;16>M;M++)H+=hb(Z[ba+M].toString(16).toUpperCase(),2)+" ";H+="  ";for(M=0;16>M;M++){var K=Z[ba+M];H+=33<=K&&34!==K&&92!==K&&126>=K?String.fromCharCode(K):"."}O.push(H)}for(H=hb(ba.toString(16).toUpperCase(),5)+"   ";ba<Z.length;ba++)H+=
hb(Z[ba].toString(16).toUpperCase(),2)+" ";M=ba&15;H+="   ".repeat(16-M);H+="  ";for(K=0;K<M;K++){const la=Z[ba+K];H+=33<=la&&34!==la&&92!==la&&126>=la?String.fromCharCode(la):"."}O.push(H);Z="\n"+O.join("\n")+"\n"}A.call(B,{direction:R,time:F,oj:Z});c("capture_network_traffic").value=N.length+" packets"}this.value="0 packets";let N=[];t.de.register("net0-receive",C.bind(this,"I"));ab(t,"net0-send",C.bind(this,"O"));this.onclick=function(){const R=N.map(({direction:Z,time:B,oj:A})=>Z+" "+B.toFixed(6)+
A+"\n").join("");jb(R,"traffic.hex");N=[];this.value="0 packets"}};c("save_state").onclick=async function(){const C=await t.Cf();jb(C,"v86state.bin");c("save_state").blur()};c("load_state").onclick=function(){c("load_state_input").click();c("load_state").blur()};c("load_state_input").onchange=async function(){var C=this.files[0];if(C){var N=t.od();N&&await t.stop();var R=new FileReader;R.onload=async function(Z){try{await t.Ve(Z.target.result)}catch(B){throw alert("Something bad happened while restoring the state:\n"+
B+"\n\nNote that the current configuration must be the same as the original"),B;}N&&t.Bf()};R.readAsArrayBuffer(C);this.value=""}};c("ctrlaltdel").onclick=function(){lb(t,[29,56,83,157,184,211]);c("ctrlaltdel").blur()};c("alttab").onclick=function(){lb(t,[56,15]);setTimeout(function(){lb(t,[184,143])},100);c("alttab").blur()};c("scale").onchange=function(){var C=parseFloat(this.value);(C||0<C)&&t.ec&&t.ec.Ug(C,C)};c("fullscreen").onclick=function(){if(t.ec){var C=document.getElementById("screen_container");
if(C){var N=C.requestFullScreen||C.webkitRequestFullscreen||C.mozRequestFullScreen||C.msRequestFullScreen;N&&(N.call(C),(C=document.getElementsByClassName("phone_keyboard")[0])&&C.focus());try{navigator.keyboard.lock()}catch(R){}kb()}}};c("screen_container").onclick=function(){t.od()&&t.g&&"suspended"===t.g.Z.state&&t.g.Z.resume();if(D&&I)kb();else if(window.getSelection().isCollapsed){const C=document.getElementsByClassName("phone_keyboard")[0];C.style.top=document.body.scrollTop+100+"px";C.style.left=
document.body.scrollLeft+100+"px";C.focus()}};const Aa=document.getElementsByClassName("phone_keyboard")[0];Aa.setAttribute("autocorrect","off");Aa.setAttribute("autocapitalize","off");Aa.setAttribute("spellcheck","false");Aa.tabIndex=0;c("screen_container").addEventListener("mousedown",()=>{Aa.focus()},!1);c("take_screenshot").onclick=function(){const C=t.ec?t.ec.tj():null;try{window.open("").document.write(C.outerHTML)}catch(N){}c("take_screenshot").blur()};if(t.g){let C=!1;c("mute").onclick=function(){C?
(t.g.cg.ng(1,void 0),C=!1,c("mute").value="Mute"):(t.g.cg.ng(0,void 0),C=!0,c("mute").value="Unmute");c("mute").blur()}}else c("mute").remove();window.addEventListener("keydown",u,!1);window.addEventListener("keyup",u,!1);window.addEventListener("blur",u,!1);const Na=document.createElement("script");Na.src="build/xterm.js";Na.async=!0;Na.onload=function(){var C=c("terminal");t.fc&&t.fc.wa&&t.fc.wa();t.fc=new mb(C,t.v);t.fc.show()};document.body.appendChild(Na)}function g(r){c("filesystem_panel").style.display=
"block";c("filesystem_send_file").onchange=function(){Array.prototype.forEach.call(this.files,function(t){var y=new nb(t);y.onload=function(){y.ac(async function(m){await r.Pi("/"+t.name,new Uint8Array(m))})};y.load()},this);this.value="";this.blur()};c("filesystem_get_file").onkeypress=async function(t){if(13===t.which){this.disabled=!0;try{var y=await r.Af(this.value)}catch(m){console.log(m)}this.disabled=!1;y?(t=this.value.replace(/\/$/,"").split("/"),t=t[t.length-1]||"root",jb(y,t),this.value=
""):alert("Can't read file")}}}function h(){location.reload()}function k(r){window.history.pushState&&(r="?"+r.entries().map(([t,y])=>t+"="+y.replace(/[?&=#+]/g,encodeURIComponent)).toArray().join("&"),window.history.pushState({search:r},"",r))}const l=!location.hostname.endsWith("copy.sh"),n=["wss://relay.widgetry.org/","ws://localhost:8080/"];let p=0;const x="memory_size video_memory_size networking_proxy disable_audio enable_acpi boot_order".split(" ");for(const r of x)try{window.localStorage.removeItem(r)}catch(t){}window.addEventListener("load",
d,!1);window.addEventListener("load",function(){setTimeout(function(){window.addEventListener("popstate",h)},0)});"complete"===document.readyState&&d()})();function ob(a){this.ports=[];this.u=a;for(var b=0;65536>b;b++)this.ports[b]=pb(this);var c=a.F[0];for(b=0;b<<17<c;b++)a.g[b]=a.j[b]=void 0,a.aa[b]=a.i[b]=void 0;qb(this,c,4294967296-c,function(){return 255},function(){},function(){return-1},function(){})}function pb(a){return{ue:a.hj,ab:a.fj,zf:a.gj,tg:a.Ag,Lf:a.Ag,Ba:a.Ag,za:void 0}}q=ob.prototype;q.hj=function(){return 255};q.fj=function(){return 65535};q.gj=function(){return-1};q.Ag=function(){};
function Q(a,b,c,d,e,f){d&&(a.ports[b].ue=d);e&&(a.ports[b].ab=e);f&&(a.ports[b].zf=f);a.ports[b].za=c}function S(a,b,c,d,e,f){d&&(a.ports[b].tg=d);e&&(a.ports[b].Lf=e);f&&(a.ports[b].Ba=f);a.ports[b].za=c}
q.ve=function(a,b,c,d,e,f){function g(){return c.call(this)|d.call(this)<<8}function h(){return e.call(this)|f.call(this)<<8}function k(){return c.call(this)|d.call(this)<<8|e.call(this)<<16|f.call(this)<<24}e&&f?(Q(this,a,b,c,g,k),Q(this,a+1,b,d),Q(this,a+2,b,e,h),Q(this,a+3,b,f)):(Q(this,a,b,c,g),Q(this,a+1,b,d))};
q.$c=function(a,b,c,d,e,f){function g(l){c.call(this,l&255);d.call(this,l>>8&255)}function h(l){e.call(this,l&255);f.call(this,l>>8&255)}function k(l){c.call(this,l&255);d.call(this,l>>8&255);e.call(this,l>>16&255);f.call(this,l>>>24)}e&&f?(S(this,a,b,c,g,k),S(this,a+1,b,d),S(this,a+2,b,e,h),S(this,a+3,b,f)):(S(this,a,b,c,g),S(this,a+1,b,d))};q.uj=function(a){var b=this.u.g[a>>>17];return b(a)|b(a+1)<<8|b(a+2)<<16|b(a+3)<<24};
q.vj=function(a,b){var c=this.u.j[a>>>17];c(a,b&255);c(a+1,b>>8&255);c(a+2,b>>16&255);c(a+3,b>>>24)};function qb(a,b,c,d,e,f,g){f||(f=a.uj.bind(a));g||(g=a.vj.bind(a));for(b>>>=17;0<c;b++)a.u.g[b]=d,a.u.j[b]=e,a.u.aa[b]=f,a.u.i[b]=g,c-=131072}q.Mg=function(a,b){a=this.ports[a];a.tg.call(a.za,b)};q.Lg=function(a){a=this.ports[a];return a.ue.call(a.za)};function rb(a,b){a=a.ports[b];return a.zf.call(a.za)};function sb(a,b){this.i=this.h=!1;this.l=!0;this.j=0;this.g=null;this.u=new tb(a,b,()=>{this.l&&ub(this,0)});this.v=a;this.o()}q=sb.prototype;q.Bf=function(){this.i=!1;this.h||(this.h=!0,this.v.send("emulator-started"));ub(this,0)};function vb(a){if(a.i||!a.h)a.i=a.h=!1,a.v.send("emulator-stopped");else{a.l=!1;var b=a.u.Nd();ub(a,b)}}function ub(a,b){const c=++a.j;a.l=!0;a.C(b,c)}q.stop=function(){this.h&&(this.i=!0)};q.wa=function(){this.s()};q.Pg=function(){this.u.va();xb(this.u)};
q.Kb=function(a){this.u.Kb(a,this.v);this.v.send("emulator-ready")};
if("undefined"!==typeof process)sb.prototype.C=function(a,b){1>a?global.setImmediate(c=>{c===this.j&&vb(this)},b):setTimeout(c=>{c===this.j&&vb(this)},a,b)},sb.prototype.o=function(){},sb.prototype.s=function(){};else if("undefined"!==typeof Worker){function a(){let b;globalThis.onmessage=function(c){const d=c.data.t;b=b&&clearTimeout(b);1>d?postMessage(c.data.ri):b=setTimeout(()=>postMessage(c.data.ri),d)}}sb.prototype.o=function(){const b=URL.createObjectURL(new Blob(["("+a.toString()+")()"],{type:"text/javascript"}));
this.g=new Worker(b);this.g.onmessage=c=>{c.data===this.j&&vb(this)};URL.revokeObjectURL(b)};sb.prototype.C=function(b,c){this.g.postMessage({t:b,ri:c})};sb.prototype.s=function(){this.g&&this.g.terminate();this.g=null}}else sb.prototype.C=function(a){setTimeout(()=>{vb(this)},a)},sb.prototype.o=function(){},sb.prototype.s=function(){};sb.prototype.Cf=function(){return this.u.Cf()};sb.prototype.Ve=function(a){return this.u.Ve(a)};
if("object"===typeof performance&&performance.now)var yb=performance.now.bind(performance);else if("function"===typeof require){const {performance:a}=require("perf_hooks");yb=a.now.bind(a)}else"object"===typeof process&&process.hrtime?yb=function(){var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:yb=Date.now;var nb,zb,Ab,Bb,Cb,Db,Eb;function Fb(a,b){return(a||0===a?a+"":"").padEnd(b," ")}function hb(a,b){return(a||0===a?a+"":"").padStart(b,"0")}function U(a,b,c,d){return new Proxy({},{get:function(e,f){e=new a(b.buffer,c,d);f=e[f];return"function"===typeof f?f.bind(e):f},set:function(e,f,g){(new a(b.buffer,c,d))[f]=g;return!0}})}function Gb(a,b){return"0x"+hb((a?a.toString(16):"").toUpperCase(),b||1)}
if("undefined"!==typeof crypto&&crypto.getRandomValues){const a=new Int32Array(1);var Hb=function(){crypto.getRandomValues(a);return a[0]}}else if("undefined"!==typeof require){const a=require("crypto");Hb=function(){return a.Rl(4).readInt32LE(0)}}
(function(){if("function"===typeof Math.clz32)zb=function(d){return 31-Math.clz32(d)};else{for(var a=new Int8Array(256),b=0,c=-2;256>b;b++)b&b-1||c++,a[b]=c;zb=function(d){d>>>=0;var e=d>>>16;if(e){var f=e>>>8;return f?24+a[f]:16+a[e]}return(f=d>>>8)?8+a[f]:a[d]}}})();function Za(a){return 1>=a?1:1<<1+zb(a-1)}
function Ib(a){var b=new Uint8Array(a),c,d;this.length=0;this.push=function(e){this.length!==a&&this.length++;b[d]=e;d=d+1&a-1};this.shift=function(){if(this.length){var e=b[c];c=c+1&a-1;this.length--;return e}return-1};this.clear=function(){this.length=d=c=0};this.clear()}function Jb(){this.size=65536;this.data=new Float32Array(65536);this.length=this.g=this.start=0}
Jb.prototype.push=function(a){this.length===this.size?this.start=this.start+1&this.size-1:this.length++;this.data[this.g]=a;this.g=this.g+1&this.size-1};Jb.prototype.shift=function(){if(this.length){var a=this.data[this.start];this.start=this.start+1&this.size-1;this.length--;return a}};
function Kb(a,b){var c=new Float32Array(b);b>a.length&&(b=a.length);var d=a.start+b,e=a.data.subarray(a.start,d);c.set(e);d>=a.size&&(d-=a.size,c.set(a.data.subarray(0,d),e.length));a.start=d;a.length-=b;return c}Jb.prototype.clear=function(){this.length=this.g=this.start=0};function jb(a,b){a instanceof Array||(a=[a]);ib(new Blob(a),b)}
function ib(a,b){var c=document.createElement("a");c.download=b;c.href=window.URL.createObjectURL(a);c.dataset.downloadurl=["application/octet-stream",c.download,c.href].join(":");document.createEvent?(a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(a)):c.click();window.URL.revokeObjectURL(c.href)}function Lb(a){"number"===typeof a?this.view=new Uint8Array(a+7>>3):a instanceof ArrayBuffer&&(this.view=new Uint8Array(a))}
Lb.prototype.set=function(a,b){const c=a>>3;a=1<<(a&7);this.view[c]=b?this.view[c]|a:this.view[c]&~a};Lb.prototype.get=function(a){return this.view[a>>3]>>(a&7)&1};Lb.prototype.ac=function(){return this.view.buffer};var Ob="undefined"===typeof XMLHttpRequest?Mb:Nb;
function Nb(a,b,c){function d(){const k=c||0;setTimeout(()=>{Nb(a,b,k+1)},1E3*([1,1,2,3,5,8,13,21][k]||34))}var e=new XMLHttpRequest;e.open(b.method||"get",a,!0);e.responseType=b.He?"json":"arraybuffer";if(b.headers)for(var f=Object.keys(b.headers),g=0;g<f.length;g++){var h=f[g];e.setRequestHeader(h,b.headers[h])}b.te&&(f=b.te.start,e.setRequestHeader("Range","bytes="+f+"-"+(f+b.te.length-1)),e.setRequestHeader("X-Accept-Encoding","identity"),e.onreadystatechange=function(){200===e.status&&(console.error("Server sent full file in response to ranged request, aborting",
{filename:a}),e.abort())});e.onload=function(){if(4===e.readyState)if(200!==e.status&&206!==e.status)console.error("Loading the image "+a+" failed (status %d)",e.status),500<=e.status&&600>e.status&&d();else if(e.response){if(b.te){const k=e.getResponseHeader("Content-Encoding");k&&"identity"!==k&&console.error("Server sent Content-Encoding in response to ranged request",{filename:a,El:k})}b.done&&b.done(e.response,e)}};e.onerror=function(k){console.error("Loading the image "+a+" failed",k);d()};
b.progress&&(e.onprogress=function(k){b.progress(k)});e.send(null)}function Mb(a,b){const c=require("fs");b.te?c.open(a,"r",(d,e)=>{if(d)throw d;d=b.te.length;var f=Buffer.allocUnsafe(d);c.read(e,f,0,d,b.te.start,g=>{if(g)throw g;b.done&&b.done(new Uint8Array(f));c.close(e,h=>{if(h)throw h;})})}):c.readFile(a,{encoding:b.He?"utf-8":null},function(d,e){d?console.log("Could not read file:",a,d):(d=e,b.He?d=JSON.parse(d):d=(new Uint8Array(d)).buffer,b.done(d))})};(function(){function a(g){this.buffer=g;this.byteLength=g.byteLength;this.onload=void 0}function b(g,h,k){this.filename=g;this.byteLength=h;this.g=new Map;this.i=new Set;this.L=k;this.s=!!k;this.onload=void 0}function c(g,h,k,l,n){const p=g.match(/\.[^\.]+(\.zst)?$/);this.j=p?p[0]:"";this.h=g.substring(0,g.length-this.j.length);this.D=this.j.endsWith(".zst");this.h.endsWith("/")||(this.h+="-");this.g=new Map;this.i=new Set;this.byteLength=h;this.L=k;this.G=!!l;this.C=n;this.s=!!k;this.onload=void 0}
function d(g){this.file=g;this.byteLength=g.size;1073741824<g.size&&console.warn("SyncFileBuffer: Allocating buffer of "+(g.size>>20)+" MB ...");this.buffer=new ArrayBuffer(g.size);this.onload=void 0}function e(g){this.file=g;this.byteLength=g.size;this.g=new Map;this.i=new Set;this.onload=void 0}Ab=a;Db=b;Cb=c;Bb=e;nb=d;Eb=function(g,h){if(g.buffer instanceof ArrayBuffer)return new Ab(g.buffer);if("undefined"!==typeof File&&g.buffer instanceof File)return h=g.async,void 0===h&&(h=268435456<=g.buffer.size),
h?new Bb(g.buffer):new nb(g.buffer);if(g.url)return g.da?new Cb(g.url,g.size,g.L,!1,h):new Db(g.url,g.size,g.L)};a.prototype.load=function(){this.onload&&this.onload({buffer:this.buffer})};a.prototype.get=function(g,h,k){k(new Uint8Array(this.buffer,g,h))};a.prototype.set=function(g,h,k){(new Uint8Array(this.buffer,g,h.byteLength)).set(h);k()};a.prototype.ac=function(g){g(this.buffer)};a.prototype.ha=function(){const g=[];g[0]=this.byteLength;g[1]=new Uint8Array(this.buffer);return g};a.prototype.H=
function(g){this.byteLength=g[0];this.buffer=g[1].slice().buffer};b.prototype.load=function(){void 0!==this.byteLength?this.onload&&this.onload(Object.create(null)):f(this.filename,(g,h)=>{if(g)throw Error("Cannot use: "+this.filename+". "+g);this.byteLength=h;this.onload&&this.onload(Object.create(null))})};b.prototype.h=function(g,h){var k=h/256;g/=256;for(var l=0;l<k;l++)if(!this.g.get(g+l))return;if(1===k)return this.g.get(g);h=new Uint8Array(h);for(l=0;l<k;l++)h.set(this.g.get(g+l),256*l);return h};
b.prototype.get=function(g,h,k){var l=this.h(g,h);if(l)k(l);else{var n=g,p=h;this.L&&(n=g-g%this.L,p=Math.ceil((g-n+h)/this.L)*this.L);Ob(this.filename,{done:function(x){x=new Uint8Array(x);this.j(n,p,x);n===g&&p===h?k(x):k(x.subarray(g-n,g-n+h))}.bind(this),te:{start:n,length:p}})}};b.prototype.set=function(g,h,k){g/=256;for(var l=h.length/256,n=0;n<l;n++){var p=this.g.get(g+n);void 0===p?this.g.set(g+n,h.slice(256*n,256*(n+1))):p.set(h.subarray(256*n,256*(n+1)));this.i.add(g+n)}k()};b.prototype.j=
function(g,h,k){g/=256;h/=256;for(var l=0;l<h;l++){const n=this.g.get(g+l);n?k.set(n,256*l):this.s&&this.g.set(g+l,k.slice(256*l,256*(l+1)))}};b.prototype.ac=function(g){g()};b.prototype.ha=function(){const g=[],h=[];for(const [k,l]of this.g)this.i.has(k)&&h.push([k,l]);g[0]=h;return g};b.prototype.H=function(g){g=g[0];this.g.clear();this.i.clear();for(const [h,k]of g)this.g.set(h,k),this.i.add(h)};c.prototype.load=function(){this.onload&&this.onload(Object.create(null))};c.prototype.get=function(g,
h,k){var l=this.l(g,h);if(l)k(l);else if(this.L){const p=Math.floor(g/this.L),x=g-p*this.L,r=Math.ceil((x+h)/this.L),t=new Uint8Array(r*this.L);let y=0;for(let m=0;m<r;m++){var n=(p+m)*this.L;l=this.G?this.h+(p+m+"").padStart(8,"0")+this.j:this.h+n+"-"+(n+this.L)+this.j;(n=this.l(n,this.L))?(t.set(n,m*this.L),y++,y===r&&k(t.subarray(x,x+h))):Ob(l,{done:async function(u){u=new Uint8Array(u);this.D&&(u=await this.C(this.L,u),u=new Uint8Array(u));t.set(u,m*this.L);this.o((p+m)*this.L,this.L|0,u);y++;
y===r&&k(t.subarray(x,x+h))}.bind(this)})}}else Ob(this.h+g+"-"+(g+h)+this.j,{done:function(p){p=new Uint8Array(p);this.o(g,h,p);k(p)}.bind(this)})};c.prototype.l=b.prototype.h;c.prototype.set=b.prototype.set;c.prototype.o=b.prototype.j;c.prototype.ha=b.prototype.ha;c.prototype.H=b.prototype.H;d.prototype.load=function(){this.g(0)};d.prototype.g=function(g){var h=new FileReader;h.onload=function(k){k=new Uint8Array(k.target.result);(new Uint8Array(this.buffer,g)).set(k);this.g(g+4194304)}.bind(this);
g<this.byteLength?h.readAsArrayBuffer(this.file.slice(g,Math.min(g+4194304,this.byteLength))):(this.file=void 0,this.onload&&this.onload({buffer:this.buffer}))};d.prototype.get=a.prototype.get;d.prototype.set=a.prototype.set;d.prototype.ac=a.prototype.ac;d.prototype.ha=a.prototype.ha;d.prototype.H=a.prototype.H;e.prototype.load=function(){this.onload&&this.onload(Object.create(null))};e.prototype.get=function(g,h,k){var l=this.h(g,h);l?k(l):(l=new FileReader,l.onload=function(n){n=new Uint8Array(n.target.result);
this.j(g,h,n);k(n)}.bind(this),l.readAsArrayBuffer(this.file.slice(g,g+h)))};e.prototype.h=b.prototype.h;e.prototype.set=b.prototype.set;e.prototype.j=b.prototype.j;e.prototype.ha=b.prototype.ha;e.prototype.H=b.prototype.H;e.prototype.ac=function(g){g()};e.prototype.zh=function(g){for(var h=[],k=Array.from(this.g.keys()).sort(function(r,t){return r-t}),l=0,n=0;n<k.length;n++){var p=k[n],x=this.g.get(p);p*=256;p!==l&&(h.push(this.file.slice(l,p)),l=p);h.push(x);l+=x.length}l!==this.file.size&&h.push(this.file.slice(l));
return new File(h,g)};var f="undefined"===typeof XMLHttpRequest?function(g,h){require("fs").stat(g,(k,l)=>{k?h(k):h(null,l.size)})}:function(g,h){Ob(g,{done:(k,l)=>{k=l.getResponseHeader("Content-Range")||"";(l=k.match(/\/(\d+)\s*$/))?h(null,+l[1]):h("`Range: bytes=...` header not supported (Got `"+k+"`)")},headers:{Range:"bytes=0-0","X-Accept-Encoding":"identity"}})}})();function Pb(a,b,c,d,e,f){this.La=new Qb(this,a,b,d,e,f);this.Ua=new Qb(this,a,c,!1,e,f);this.Ea=this.La;this.u=a;0===e?(this.g=496,this.ma=14,this.Oa=240):1===e&&(this.g=368,this.ma=15,this.Oa=248);this.i=this.g|516;this.h=46080;this.O=[134,128,16,112,5,0,160,2,0,128,1,1,0,0,0,0,this.g&255|1,this.g>>8,0,0,this.i&255|1,this.i>>8,0,0,0,0,0,0,0,0,0,0,this.h&255|1,this.h>>8,0,0,0,0,0,0,0,0,0,0,67,16,212,130,0,0,0,0,0,0,0,0,0,0,0,0,this.ma,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.Ob=[{size:8},{size:4},void 0,void 0,{size:16}];this.name="ide"+e;this.l=2;Q(a.B,this.g|7,this,function(){Rb(this.u,this.ma);return this.gi()});Q(a.B,this.i|2,this,this.gi);S(a.B,this.i|2,this,this.kl);Q(a.B,this.g|0,this,function(){return Sb(this.Ea,1)},function(){return Sb(this.Ea,2)},function(){return Sb(this.Ea,4)});Q(a.B,this.g|1,this,function(){return this.Ea.error&
255});Q(a.B,this.g|2,this,function(){return this.Ea.pa&255});Q(a.B,this.g|3,this,function(){return this.Ea.Na&255});Q(a.B,this.g|4,this,function(){return this.Ea.ya&255});Q(a.B,this.g|5,this,function(){return this.Ea.Ca&255});Q(a.B,this.g|6,this,function(){return this.Ea.kd&255});S(a.B,this.g|0,this,function(g){Tb(this.Ea,g,1)},function(g){Tb(this.Ea,g,2)},function(g){Tb(this.Ea,g,4)});S(a.B,this.g|1,this,function(g){this.La.ge=(this.La.ge<<8|g)&65535;this.Ua.ge=(this.Ua.ge<<8|g)&65535});S(a.B,this.g|
2,this,function(g){this.La.pa=(this.La.pa<<8|g)&65535;this.Ua.pa=(this.Ua.pa<<8|g)&65535});S(a.B,this.g|3,this,function(g){this.La.Na=(this.La.Na<<8|g)&65535;this.Ua.Na=(this.Ua.Na<<8|g)&65535});S(a.B,this.g|4,this,function(g){this.La.ya=(this.La.ya<<8|g)&65535;this.Ua.ya=(this.Ua.ya<<8|g)&65535});S(a.B,this.g|5,this,function(g){this.La.Ca=(this.La.Ca<<8|g)&65535;this.Ua.Ca=(this.Ua.Ca<<8|g)&65535});S(a.B,this.g|6,this,function(g){this.Ea=g&16?this.Ua:this.La;this.La.kd=g;this.Ua.kd=g;this.La.Pe=
this.Ua.Pe=g>>6&1;this.La.head=this.Ua.head=g&15});this.j=this.Da=this.re=0;S(a.B,this.g|7,this,function(g){Rb(this.u,this.ma);var h=this.Ea;if(h.buffer)switch(h.s=g,h.error=0,g){case 8:h.i=0;h.g=0;h.h=0;Ub(h);h.ba();break;case 16:h.status=80;h.ya=0;h.ba();break;case 248:h.status=80;var k=h.j-1;h.Na=k&255;h.ya=k>>8&255;h.Ca=k>>16&255;h.kd=h.kd&240|k>>24&15;h.ba();break;case 39:h.status=80;k=h.j-1;h.Na=k&255;h.ya=k>>8&255;h.Ca=k>>16&255;h.Na|=k>>24<<8&65280;h.ba();break;case 32:case 36:case 41:case 196:Vb(h,
g);break;case 48:case 52:case 57:case 197:var l=52===g||57===g;k=Wb(h,l);l=Xb(h,l);g=48===g||52===g;k*=h.l;l*=h.l;l+k>h.buffer.byteLength?(h.status=255,h.ba()):(h.status=88,Yb(h,k),h.g=g?512:Math.min(k,512*h.M),h.V=l);break;case 144:h.ba();h.error=257;h.status=80;break;case 145:h.status=80;h.ba();break;case 160:h.G&&(h.status=88,Zb(h,12),h.g=12,h.pa=1,h.ba());break;case 161:h.G?($b(h),h.status=88,h.ya=20,h.Ca=235):h.status=65;h.ba();break;case 198:h.M=h.pa&255;h.status=80;h.ba();break;case 37:case 200:k=
37===g;l=Wb(h,k);Xb(h,k)*h.l+l*h.l>h.buffer.byteLength?(h.status=255,h.ba()):(h.status=88,h.za.Da|=1);break;case 53:case 202:k=53===g;l=Wb(h,k);Xb(h,k)*h.l+l*h.l>h.buffer.byteLength?(h.status=255,h.ba()):(h.status=88,h.za.Da|=1);break;case 64:h.status=80;h.ba();break;case 218:h.status=65;h.error=4;h.ba();break;case 224:h.status=80;h.ba();break;case 225:h.status=80;h.ba();break;case 231:h.status=80;h.ba();break;case 236:if(h.G){h.status=65;h.error=4;h.ba();break}$b(h);h.status=88;h.ba();break;case 234:h.status=
80;h.ba();break;case 239:h.status=80;h.ba();break;case 222:h.status=80;h.ba();break;case 245:h.status=80;h.ba();break;case 249:h.status=65;h.error=4;break;default:h.status=65,h.error=4}else h.error=4,h.status=65,h.ba()});Q(a.B,this.h|4,this,void 0,void 0,this.Xi);S(a.B,this.h|4,this,void 0,void 0,this.aj);Q(a.B,this.h,this,this.Zi,void 0,this.Yi);S(a.B,this.h,this,this.nh,void 0,this.bj);Q(a.B,this.h|2,this,this.$i);S(a.B,this.h|2,this,this.oh);Q(a.B,this.h|8,this,function(){return 0});Q(a.B,this.h|
10,this,function(){return 0});ac(a.A.$a,this)}q=Pb.prototype;q.gi=function(){return this.Ea.buffer?this.Ea.status:0};q.kl=function(a){a&4&&(Rb(this.u,this.ma),Ub(this.La),Ub(this.Ua));this.l=a};q.Xi=function(){return this.re};q.aj=function(a){this.re=a};q.$i=function(){return this.Da};q.oh=function(a){this.Da&=~(a&6)};q.Yi=function(){return this.j|this.Da<<16};q.Zi=function(){return this.j};q.bj=function(a){this.nh(a&255);this.oh(a>>16&255)};
q.nh=function(a){const b=this.j;this.j=a&9;if((b&1)!==(a&1))if(0===(a&1))this.Da&=-2;else switch(this.Da|=1,this.Ea.s){case 37:case 200:bc(this.Ea);break;case 202:case 53:cc(this.Ea);break;case 160:dc(this.Ea)}};q.ba=function(){0===(this.l&2)&&(this.Da|=4,this.u.Wa(this.ma))};q.ha=function(){var a=[];a[0]=this.La;a[1]=this.Ua;a[2]=this.g;a[3]=this.ma;a[4]=this.Oa;a[5]=this.i;a[6]=this.h;a[7]=this.name;a[8]=this.l;a[9]=this.re;a[10]=this.Da;a[11]=this.Ea===this.La;a[12]=this.j;return a};
q.H=function(a){this.La.H(a[0]);this.Ua.H(a[1]);this.g=a[2];this.ma=a[3];this.Oa=a[4];this.i=a[5];this.h=a[6];this.name=a[7];this.l=a[8];this.re=a[9];this.Da=a[10];this.Ea=a[11]?this.La:this.Ua;this.j=a[12]};
function Qb(a,b,c,d,e,f){this.za=a;this.v=f;this.Y=e;this.u=b;this.buffer=c;this.l=d?2048:512;this.G=d;this.D=this.o=this.C=this.j=0;this.buffer&&(this.j=this.buffer.byteLength/this.l,this.j!==(this.j|0)&&(this.j=Math.ceil(this.j)),d?(this.C=1,this.o=0):(this.C=16,this.o=63),this.D=this.j/this.C/this.o,this.D!==(this.D|0)&&(this.D=Math.floor(this.D)),a=b.A.zd,a.ca[57]|=1<<4*this.Y,a.ca[18]=a.ca[18]&15|240,a.ca[27]=this.D&255,a.ca[28]=this.D>>8&255,a.ca[29]=this.C&255,a.ca[30]=255,a.ca[31]=255,a.ca[32]=
200,a.ca[33]=this.D&255,a.ca[34]=this.D>>8&255,a.ca[35]=this.o&255);this.buffer=c;this.kd=this.head=this.Ca=this.ya=this.ge=this.Na=this.pa=this.Pe=0;this.status=80;this.M=128;this.i=this.error=0;this.data=new Uint8Array(65536);this.T=new Uint16Array(this.data.buffer);this.N=new Int32Array(this.data.buffer);this.g=this.h=0;this.S=this.s=-1;this.fa=this.V=0;this.P=new Set;this.aa=new Set;Object.seal(this)}
function Ub(a){a.G?(a.status=0,a.pa=1,a.error=1,a.Na=1,a.ya=20,a.Ca=235):(a.status=81,a.pa=1,a.error=1,a.Na=1,a.ya=0,a.Ca=0);for(const b of a.P)a.aa.add(b);a.P.clear()}q=Qb.prototype;q.ba=function(){this.za.ba()};q.hf=function(){this.status=80;var a=this.data.subarray(0,this.h);ec(this,this.s,this.h/512);this.ba();this.buffer.set(this.V,a,function(){});fc(this,this.h)};
function gc(a,b){var c=(b[7]<<8|b[8])*a.l;b=(b[2]<<24|b[3]<<16|b[4]<<8|b[5])*a.l;a.h=0;var d=a.Ca<<8&65280|a.ya&255;a.ya=a.Ca=0;65535===d&&d--;d>c&&(d=c);b>=a.buffer.byteLength?(a.status=255,a.ba()):0===c?(a.status=80,a.i=0):(c=Math.min(c,a.buffer.byteLength-b),a.status=208,hc(a),a.qa(b,c,e=>{ic(a,e);a.status=88;a.pa=a.pa&-8|2;a.ba();d&=-4;a.g=d;a.g>a.h&&(a.g=a.h);a.ya=a.g&255;a.Ca=a.g>>8&255;jc(a,c)}))}
function kc(a,b){var c=(b[7]<<8|b[8])*a.l;b=(b[2]<<24|b[3]<<16|b[4]<<8|b[5])*a.l;b>=a.buffer.byteLength?(a.status=255,a.ba()):(a.status=208,hc(a),a.qa(b,c,d=>{jc(a,c);a.status=88;a.pa=a.pa&-8|2;ic(a,d);dc(a)}))}function dc(a){if(0!==(a.za.Da&1)&&0!==(a.status&8)){var b=a.za.re,c=0,d=a.data;do{var e=a.u.h(b),f=a.u.ab(b+4),g=a.u.ue(b+7)&128;f||(f=65536);lc(a.u,d.subarray(c,Math.min(c+f,a.h)),e);c+=f;b+=8;if(c>=a.h&&!g)break}while(!g);a.status=80;a.za.Da&=-2;a.pa=a.pa&-8|3;a.ba()}}
function Sb(a,b){if(a.i<a.g){var c=1===b?a.data[a.i]:2===b?a.T[a.i>>>1]:a.N[a.i>>>2];a.i+=b;a.i>=a.g&&(160===a.s?a.g===a.h?(a.status=80,a.pa=a.pa&-8|3,a.ba()):(a.status=88,a.pa=a.pa&-8|2,a.ba(),b=a.Ca<<8&65280|a.ya&255,a.g+b>a.h?(a.ya=a.h-a.g&255,a.Ca=a.h-a.g>>8&255,a.g=a.h):a.g+=b):(a.error=0,a.i>=a.h?a.status=80:(b=196===a.s||41===a.s?Math.min(a.M,(a.h-a.g)/512):1,ec(a,a.s,b),a.g+=512*b,a.status=88,a.ba())));return c}a.i+=b;return 0}
function Tb(a,b,c){if(!(a.i>=a.g)&&(1===c?a.data[a.i++]=b:2===c?(a.T[a.i>>>1]=b,a.i+=2):(a.N[a.i>>>2]=b,a.i+=4),a.i===a.g))if(160===a.s){a.i=0;a.S=a.data[0];switch(a.S){case 0:Zb(a,0);a.g=a.h;a.status=80;break;case 3:Zb(a,a.data[4]);a.g=a.h;a.status=88;a.data[0]=240;a.data[2]=5;a.data[7]=8;break;case 18:b=a.data[4];a.status=88;a.data.set([5,128,1,49,31,0,0,0,83,79,78,89,32,32,32,32,67,68,45,82,79,77,32,67,68,85,45,49,48,48,48,32,49,46,49,97]);a.g=a.h=Math.min(36,b);break;case 26:Zb(a,a.data[4]);a.g=
a.h;a.status=88;break;case 30:Zb(a,0);a.g=a.h;a.status=80;break;case 37:b=a.j-1;ic(a,new Uint8Array([b>>24&255,b>>16&255,b>>8&255,b&255,0,0,a.l>>8&255,a.l&255]));a.g=a.h;a.status=88;break;case 40:a.ge&1?kc(a,a.data):gc(a,a.data);break;case 66:b=a.data[8];Zb(a,Math.min(8,b));a.g=a.h;a.status=88;break;case 67:b=a.data[8]|a.data[7]<<8;c=a.data[9]>>6;Zb(a,b);a.g=a.h;0===c?(b=a.j,a.data.set(new Uint8Array([0,18,1,1,0,20,1,0,0,0,0,0,0,22,170,0,b>>24,b>>16&255,b>>8&255,b&255]))):1===c&&a.data.set(new Uint8Array([0,
10,1,1,0,0,0,0,0,0,0,0]));a.status=88;break;case 70:b=a.data[8]|a.data[7]<<8;b=Math.min(b,32);Zb(a,b);a.g=a.h;a.data[0]=b-4>>24&255;a.data[1]=b-4>>16&255;a.data[2]=b-4>>8&255;a.data[3]=b-4&255;a.data[6]=8;a.data[10]=3;a.status=88;break;case 81:Zb(a,0);a.g=a.h;a.status=80;break;case 82:a.status=81;a.h=0;a.error=80;break;case 90:b=a.data[8]|a.data[7]<<8;42===a.data[2]&&Zb(a,Math.min(30,b));a.g=a.h;a.status=88;break;case 189:Zb(a,a.data[9]|a.data[8]<<8);a.g=a.h;a.data[5]=1;a.status=88;break;case 74:a.status=
81;a.h=0;a.error=80;break;case 190:Zb(a,0);a.g=a.h;a.status=80;break;default:a.status=81,a.h=0,a.error=80}a.pa=a.pa&-8|2;0===(a.status&128)&&a.ba();0===(a.status&128)&&0===a.h&&(a.pa|=1,a.status&=-9)}else a.i>=a.h?a.hf():(a.status=88,a.g+=512,a.ba())}
function ec(a,b,c){a.pa-=c;36===b||41===b||52===b||57===b||37===b||53===b?(b=c+mc(a),a.Na=b&255|b>>16&65280,a.ya=b>>8&255,a.Ca=b>>16&255):a.Pe?(b=c+nc(a),a.Na=b&255,a.ya=b>>8&255,a.Ca=b>>16&255,a.head=a.head&-16|b&15):(b=c+oc(a),c=b/(a.C*a.o)|0,a.ya=c&255,a.Ca=c>>8&255,a.head=(b/a.o|0)%a.C&15,a.Na=b%a.o+1&255,oc(a))}
function Vb(a,b){var c=36===b||41===b,d=Wb(a,c);c=Xb(a,c);var e=32===b||36===b,f=d*a.l;c*=a.l;c+f>a.buffer.byteLength?(a.status=255,a.ba()):(a.status=192,hc(a),a.qa(c,f,g=>{ic(a,g);a.status=88;a.g=e?512:Math.min(f,512*a.M);ec(a,b,e?1:Math.min(d,a.o));a.ba();jc(a,f)}))}
function bc(a){var b=37===a.s,c=Wb(a,b);b=Xb(a,b);var d=c*a.l;b*=a.l;hc(a);a.qa(b,d,e=>{var f=a.za.re,g=0;do{var h=a.u.h(f),k=a.u.ab(f+4),l=a.u.ue(f+7)&128;k||(k=65536);lc(a.u,e.subarray(g,g+k),h);g+=k;f+=8}while(!l);ec(a,a.s,c);a.status=80;a.za.Da&=-2;a.s=-1;a.ba();jc(a,d)})}
function cc(a){var b=53===a.s,c=Wb(a,b),d=Xb(a,b);b=c*a.l;d*=a.l;var e=a.za.re,f=0;const g=new Uint8Array(b);do{var h=a.u.h(e),k=a.u.ab(e+4),l=a.u.ue(e+7)&128;k||(k=65536);g.set(a.u.kb.subarray(h,h+k),f);f+=k;e+=8}while(!l);a.buffer.set(d,g,()=>{ec(a,a.s,c);a.status=80;a.ba();a.za.Da&=-2;a.s=-1});fc(a,b)}function oc(a){return((a.ya&255|a.Ca<<8&65280)*a.C+a.head)*a.o+(a.Na&255)-1}function nc(a){return a.Na&255|a.ya<<8&65280|a.Ca<<16&16711680|(a.head&15)<<24}
function mc(a){return(a.Na&255|a.ya<<8&65280|a.Ca<<16&16711680|a.Na>>8<<24&4278190080)>>>0}function Xb(a,b){return b?mc(a):a.Pe?nc(a):oc(a)}function Wb(a,b){b?(a=a.pa,0===a&&(a=65536)):(a=a.pa&255,0===a&&(a=256));return a}
function $b(a){if(a.kd&16)Zb(a,0);else{for(var b=0;512>b;b++)a.data[b]=0;b=Math.min(16383,a.D);ic(a,[64,a.G?133:0,b,b>>8,0,0,a.C,a.C>>8,a.o/512,a.o/512>>8,0,2,a.o,a.o>>8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,2,4,0,0,0,0,0,0,0,0,0,56,118,32,54,68,72,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,128,0,1,0,0,2,0,0,0,2,0,2,7,0,b,b>>8,a.C,a.C>>8,a.o,0,a.j&255,a.j>>8&255,a.j>>16&255,a.j>>24&255,0,0,a.j&255,a.j>>8&255,a.j>>16&255,
a.j>>24&255,0,0,160===a.s?0:7,160===a.s?0:4,0,0,30,0,30,0,30,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,126,0,0,0,0,0,0,116,0,64,0,64,0,116,0,64,0,0,0,0,0,0,0,0,0,0,1,96,0,0,0,0,0,0,0,0,0,0,0,0,a.j&255,a.j>>8&255,a.j>>16&255,a.j>>24&255]);a.h=512;a.g=512}}function Zb(a,b){Yb(a,b);for(var c=0;c<b+3>>2;c++)a.N[c]=0}function Yb(a,b){a.data.length<b&&(a.data=new Uint8Array(b+3&-4),a.T=new Uint16Array(a.data.buffer),a.N=new Int32Array(a.data.buffer));a.h=b;a.i=0}
function ic(a,b){Yb(a,b.length);a.data.set(b)}function hc(a){a.v.send("ide-read-start")}function jc(a,b){a.v.send("ide-read-end",[a.Y,b,b/a.l|0])}function fc(a,b){a.v.send("ide-write-end",[a.Y,b,b/a.l|0])}q.qa=function(a,b,c){const d=this.fa++;this.P.add(d);this.buffer.get(a,b,e=>{this.aa.delete(d)?this.P.has(d):(this.P.delete(d),c(e))})};
q.ha=function(){var a=[];a[0]=this.pa;a[1]=this.D;a[2]=this.Ca;a[3]=this.ya;a[4]=this.i;a[5]=0;a[6]=0;a[7]=0;a[8]=0;a[9]=this.kd;a[10]=this.error;a[11]=this.head;a[12]=this.C;a[13]=this.G;a[14]=this.Pe;a[15]=this.ge;a[16]=this.data;a[17]=this.h;a[18]=this.Na;a[19]=this.j;a[20]=this.l;a[21]=this.M;a[22]=this.o;a[23]=this.status;a[24]=this.V;a[25]=this.s;a[26]=this.g;a[27]=this.S;a[28]=this.buffer;return a};
q.H=function(a){this.pa=a[0];this.D=a[1];this.Ca=a[2];this.ya=a[3];this.i=a[4];this.kd=a[9];this.error=a[10];this.head=a[11];this.C=a[12];this.G=a[13];this.Pe=a[14];this.ge=a[15];this.data=a[16];this.h=a[17];this.Na=a[18];this.j=a[19];this.l=a[20];this.M=a[21];this.o=a[22];this.status=a[23];this.V=a[24];this.s=a[25];this.g=a[26];this.S=a[27];this.T=new Uint16Array(this.data.buffer);this.N=new Int32Array(this.data.buffer);this.buffer&&this.buffer.H(a[28])};function pc(a){this.cc=new Uint8Array(4);this.g=new Uint8Array(4);this.me=new Uint8Array(4);this.ne=new Uint8Array(4);this.le=new Int32Array(this.cc.buffer);new Int32Array(this.g.buffer);this.Kh=new Int32Array(this.me.buffer);this.Mh=new Int32Array(this.ne.buffer);this.nc=[];this.A=[];this.u=a;for(var b=0;256>b;b++)this.nc[b]=void 0,this.A[b]=void 0;this.B=a.B;S(a.B,3324,this,function(c){qc(this,this.le[0],c)},function(c){rc(this,this.le[0],c)},function(c){var d=this.le[0],e=d>>8&65535,f=d&255;d=
this.nc[e];e=this.A[e];if(d)if(16<=f&&40>f)if(e=e.Ob[f-16>>2]){f>>=2;var g=d[f]&1;-1===(c|3|e.size-1)?(c=~(e.size-1)|g,0===g&&(d[f]=c)):0===g&&(d[f]=e.Jh);1===g&&(sc(this,e,d[f]&65534,c&65534),d[f]=c|1)}else d[f>>2]=0;else 48===f?d[f>>2]=e.Lh?-1===(c|2047)?-e.Lh|0:e.xj|0:0:4!==f&&(d[f>>>2]=c)});S(a.B,3325,this,function(c){qc(this,this.le[0]+1|0,c)});S(a.B,3326,this,function(c){qc(this,this.le[0]+2|0,c)},function(c){rc(this,this.le[0]+2|0,c)});S(a.B,3327,this,function(c){qc(this,this.le[0]+3|0,c)});
a.B.ve(3324,this,function(){return this.me[0]},function(){return this.me[1]},function(){return this.me[2]},function(){return this.me[3]});a.B.ve(3320,this,function(){return this.ne[0]},function(){return this.ne[1]},function(){return this.ne[2]},function(){return this.ne[3]});a.B.$c(3320,this,function(c){this.cc[0]=c&252},function(c){2===(this.cc[1]&6)&&6===(c&6)?tc(a):this.cc[1]=c},function(c){this.cc[2]=c},function(c){this.cc[3]=c;c=this.cc[0]&252;var d=this.nc[this.cc[2]<<8|this.cc[1]];void 0!==
d?(this.Mh[0]=-2147483648,this.Kh[0]=c<d.byteLength?d[c>>2]:0):(this.Kh[0]=-1,this.Mh[0]=0)});ac(this,{Oa:0,O:[134,128,55,18,0,0,0,0,2,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0],Ob:[],name:"82441FX PMC"});this.i={Oa:8,O:[134,128,0,112,7,0,0,2,0,0,1,6,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ob:[],name:"82371SB PIIX3 ISA"};
this.j=ac(this,this.i);this.h=new Uint8Array(this.j.buffer)}pc.prototype.ha=function(){for(var a=[],b=0;256>b;b++)a[b]=this.nc[b];a[256]=this.cc;a[257]=this.g;a[258]=this.me;a[259]=this.ne;return a};pc.prototype.H=function(a){for(var b=0;256>b;b++){var c=this.A[b],d=a[b];if(c&&d){for(var e=0;e<c.Ob.length;e++){var f=d[4+e];if(f&1){var g=c.Ob[e];sc(this,g,g.Jh&65534,f&65534)}}this.nc[b].set(d)}}this.cc.set(a[256]);this.g.set(a[257]);this.me.set(a[258]);this.ne.set(a[259])};
function qc(a,b,c){var d=b&255;(new Uint8Array(a.nc[b>>8&65535].buffer))[d]=c}function rc(a,b,c){var d=b&255;a=new Uint16Array(a.nc[b>>8&65535].buffer);!a||16<=d&&44>d||(a[d>>>1]=c)}function ac(a,b){var c=b.Oa,d=new Int32Array(64);d.set(new Int32Array((new Uint8Array(b.O)).buffer));a.nc[c]=d;a.A[c]=b;c=d.slice(4,10);for(var e=0;e<b.Ob.length;e++){var f=b.Ob[e];if(f){var g=c[e],h=g&1;f.Jh=g;f.entries=[];if(0!==h)for(g&=-2,h=0;h<f.size;h++)f.entries[h]=a.B.ports[g+h]}}return d}
function sc(a,b,c,d){for(var e=b.size,f=a.B.ports,g=0;g<e;g++){4096<=c+g&&(f[c+g]=pb(a.B));var h=b.entries[g];4096<=d+g&&(f[d+g]=h)}}pc.prototype.Ta=function(a){this.u.Wa(this.h[96+((this.nc[a][15]>>8&255)-1+((a>>3)-1&255)&3)])};function uc(a,b){Rb(a.u,a.h[96+((a.nc[b][15]>>8&255)+(b>>3&255)-2&3)])};function vc(a,b){this.B=a.B;this.u=a;this.Gb=a.A.Gb;this.h=0;this.S=new Uint8Array(10);this.T=0;this.i=null;this.g=new Uint8Array(10);this.P=this.D=this.aa=this.fa=this.G=this.s=this.l=this.j=0;this.V=1;this.M=this.C=0;this.md=null;b?this.Df(b):(this.Vf(),this.u.A.zd.ca[16]=64);Q(this.B,1008,this,this.yk);Q(this.B,1010,this,this.zk);Q(this.B,1012,this,this.Bk);Q(this.B,1013,this,this.Dk);Q(this.B,1015,this,this.Fk);S(this.B,1010,this,this.Ak);S(this.B,1012,this,this.Ck);S(this.B,1013,this,this.Ek)}
q=vc.prototype;q.Vf=function(){this.md=null;this.Y=this.N=this.o=0;this.M=128};
q.Df=function(a){var b={[163840]:{type:1,Rb:40,Pb:8,Ib:1},[184320]:{type:1,Rb:40,Pb:9,Ib:1},[204800]:{type:1,Rb:40,Pb:10,Ib:1},[327680]:{type:1,Rb:40,Pb:8,Ib:2},[368640]:{type:1,Rb:40,Pb:9,Ib:2},[409600]:{type:1,Rb:40,Pb:10,Ib:2},[737280]:{type:3,Rb:80,Pb:9,Ib:2},[1228800]:{type:2,Rb:80,Pb:15,Ib:2},[1474560]:{type:4,Rb:80,Pb:18,Ib:2},[1763328]:{type:5,Rb:82,Pb:21,Ib:2},[2949120]:{type:5,Rb:80,Pb:36,Ib:2},512:{type:1,Rb:1,Pb:1,Ib:1}};let c=a.byteLength,d=b[c];d||(c=1474560<a.byteLength?2949120:1474560,
d=b[c],b=new Uint8Array(c),b.set(new Uint8Array(a.buffer)),a=new Ab(b.buffer));this.o=d.Pb;this.N=d.Ib;this.Y=d.Rb;this.md=a;this.M=128;this.u.A.zd.ca[16]=d.type<<4};q.ha=function(){var a=[];a[0]=this.h;a[1]=this.S;a[2]=this.T;a[4]=this.g;a[5]=this.j;a[6]=this.l;a[8]=this.s;a[9]=this.G;a[10]=this.fa;a[11]=this.aa;a[12]=this.D;a[13]=this.P;a[14]=this.V;a[15]=this.C;a[16]=this.o;a[17]=this.N;a[18]=this.Y;return a};
q.H=function(a){this.h=a[0];this.S=a[1];this.T=a[2];this.i=a[3];this.g=a[4];this.j=a[5];this.l=a[6];this.s=a[8];this.G=a[9];this.fa=a[10];this.aa=a[11];this.D=a[12];this.P=a[13];this.V=a[14];this.C=a[15];this.o=a[16];this.N=a[17];this.Y=a[18]};q.yk=function(){return 0};q.Bk=function(){var a=128;this.j<this.l&&(a|=80);0===(this.C&8)&&(a|=32);return a};q.Fk=function(){return this.M};q.Dk=function(){return this.j<this.l?(Rb(this.u,6),this.g[this.j++]):255};q.Ck=function(a){a&128&&(this.s=192,this.u.Wa(6))};
q.Ek=function(a){if(0<this.h)this.S[this.T++]=a,this.h--,0===this.h&&this.i.call(this,this.S);else{switch(a){case 3:this.i=this.ij;this.h=2;break;case 19:this.i=this.Oi;this.h=3;break;case 4:this.i=this.Li;this.h=1;break;case 5:case 69:case 197:this.i=function(b){wc(this,!0,b)};this.h=8;break;case 6:case 70:case 198:case 230:this.i=function(b){wc(this,!1,b)};this.h=8;break;case 7:this.i=this.Ki;this.h=1;break;case 8:this.j=0;this.l=2;this.g[0]=this.s;this.g[1]=this.D;break;case 74:this.i=this.Qk;
this.h=1;break;case 15:this.h=2;this.i=this.gh;break;case 14:case 16:this.s=128,this.g[0]=this.s,this.j=0,this.l=1,this.h=0}this.T=0}};q.zk=function(){return this.C};q.Ak=function(a){4===(a&4)&&0===(this.C&4)&&(this.s=192,this.u.Wa(6));this.C=a};q.Li=function(){this.G=this.md?0:5;this.j=0;this.l=1;this.g[0]=0};q.gh=function(a){if(0===(a[0]&3)){var b=a[1];a=a[0]>>2&1;b!==this.D&&(this.M=0);this.G=this.md?0:5;this.s=32;this.D=b;this.P=a}this.Ta()};q.Ki=function(a){this.gh([a[0],0])};
function wc(a,b,c){var d=c[2],e=c[1],f=c[3],g=128<<c[4],h=c[5]-c[3]+1,k=((d+a.N*e)*a.o+f-1)*g;a.md?(a.G=0,b?a.Gb.hf(a.md,k,h*g,2,a.done.bind(a,c,e,d,f)):xc(a.Gb,a.md,k,a.done.bind(a,c,e,d,f))):a.G=5}q.done=function(a,b,c,d,e){e||(d++,d>this.o&&(d=1,c++,c>=this.N&&(c=0,b++)),b!==this.D&&(this.M=0),this.s=32,this.D=b,this.P=c,this.V=d,this.j=0,this.l=7,this.g[0]=c<<2|32,this.g[1]=0,this.g[2]=0,this.g[3]=b,this.g[4]=c,this.g[5]=d,this.g[6]=a[4],this.Ta())};q.ij=function(){};q.Oi=function(){};
q.Qk=function(){this.j=0;this.l=7;this.g[0]=0;this.g[1]=0;this.g[2]=0;this.g[3]=0;this.g[4]=0;this.g[5]=0;this.g[6]=0;this.Ta()};q.Ta=function(){this.C&8&&this.u.Wa(6)};function lc(a,b,c){b.length&&(a.$f(c),a.$f(c+b.length-1),a.rj(c,c+b.length),a.kb.set(b,c))};function yc(a){this.u=a;this.o=new Uint8Array(8);this.s=new Uint8Array(8);this.g=new Uint16Array(8);this.j=new Uint16Array(8);this.h=new Uint16Array(8);this.l=new Uint16Array(8);this.Gc=new Uint8Array(8);this.C=new Uint8Array(8);this.sg=[];this.i=0;a=a.B;S(a,0,this,this.td.bind(this,0));S(a,2,this,this.td.bind(this,1));S(a,4,this,this.td.bind(this,2));S(a,6,this,this.td.bind(this,3));S(a,1,this,this.vd.bind(this,0));S(a,3,this,this.vd.bind(this,1));S(a,5,this,this.vd.bind(this,2));S(a,7,this,this.vd.bind(this,
3));Q(a,0,this,this.sd.bind(this,0));Q(a,2,this,this.sd.bind(this,1));Q(a,4,this,this.sd.bind(this,2));Q(a,6,this,this.sd.bind(this,3));Q(a,1,this,this.ud.bind(this,0));Q(a,3,this,this.ud.bind(this,1));Q(a,5,this,this.ud.bind(this,2));Q(a,7,this,this.ud.bind(this,3));S(a,192,this,this.td.bind(this,4));S(a,196,this,this.td.bind(this,5));S(a,200,this,this.td.bind(this,6));S(a,204,this,this.td.bind(this,7));S(a,194,this,this.vd.bind(this,4));S(a,198,this,this.vd.bind(this,5));S(a,202,this,this.vd.bind(this,
6));S(a,206,this,this.vd.bind(this,7));Q(a,192,this,this.sd.bind(this,4));Q(a,196,this,this.sd.bind(this,5));Q(a,200,this,this.sd.bind(this,6));Q(a,204,this,this.sd.bind(this,7));Q(a,194,this,this.ud.bind(this,4));Q(a,198,this,this.ud.bind(this,5));Q(a,202,this,this.ud.bind(this,6));Q(a,206,this,this.ud.bind(this,7));S(a,135,this,this.xd.bind(this,0));S(a,131,this,this.xd.bind(this,1));S(a,129,this,this.xd.bind(this,2));S(a,130,this,this.xd.bind(this,3));S(a,143,this,this.xd.bind(this,4));S(a,139,
this,this.xd.bind(this,5));S(a,137,this,this.xd.bind(this,6));S(a,138,this,this.xd.bind(this,7));Q(a,135,this,this.wd.bind(this,0));Q(a,131,this,this.wd.bind(this,1));Q(a,129,this,this.wd.bind(this,2));Q(a,130,this,this.wd.bind(this,3));Q(a,143,this,this.wd.bind(this,4));Q(a,139,this,this.wd.bind(this,5));Q(a,137,this,this.wd.bind(this,6));Q(a,138,this,this.wd.bind(this,7));S(a,1159,this,this.qe.bind(this,0));S(a,1155,this,this.qe.bind(this,1));S(a,1153,this,this.qe.bind(this,2));S(a,1154,this,this.qe.bind(this,
3));S(a,1163,this,this.qe.bind(this,5));S(a,1161,this,this.qe.bind(this,6));S(a,1162,this,this.qe.bind(this,7));Q(a,1159,this,this.pe.bind(this,0));Q(a,1155,this,this.pe.bind(this,1));Q(a,1153,this,this.pe.bind(this,2));Q(a,1154,this,this.pe.bind(this,3));Q(a,1163,this,this.pe.bind(this,5));Q(a,1161,this,this.pe.bind(this,6));Q(a,1162,this,this.pe.bind(this,7));S(a,10,this,this.ei.bind(this,0));S(a,212,this,this.ei.bind(this,4));S(a,15,this,this.di.bind(this,0));S(a,222,this,this.di.bind(this,4));
Q(a,15,this,this.ci.bind(this,0));Q(a,222,this,this.ci.bind(this,4));S(a,11,this,this.bi.bind(this,0));S(a,214,this,this.bi.bind(this,4));S(a,12,this,this.ai);S(a,216,this,this.ai)}q=yc.prototype;q.ha=function(){return[this.o,this.s,this.g,this.j,this.h,this.l,this.Gc,this.C,this.i]};q.H=function(a){this.o=a[0];this.s=a[1];this.g=a[2];this.j=a[3];this.h=a[4];this.l=a[5];this.Gc=a[6];this.C=a[7];this.i=a[8]};q.vd=function(a,b){this.h[a]=zc(this,this.h[a],b,!1);this.l[a]=zc(this,this.l[a],b,!0)};
q.ud=function(a){return Ac(this,this.h[a])};q.td=function(a,b){this.g[a]=zc(this,this.g[a],b,!1);this.j[a]=zc(this,this.j[a],b,!0)};q.sd=function(a){return Ac(this,this.g[a])};q.qe=function(a,b){this.s[a]=b};q.pe=function(a){return this.s[a]};q.xd=function(a,b){this.o[a]=b};q.wd=function(a){return this.o[a]};q.ei=function(a,b){Bc(this,(b&3)+a,b&4?1:0)};q.di=function(a,b){for(var c=0;4>c;c++)Bc(this,a+c,b&1<<c)};
q.ci=function(a){var b=0|this.Gc[a+0];b|=this.Gc[a+1]<<1;b|=this.Gc[a+2]<<2;return b|=this.Gc[a+3]<<3};q.bi=function(a,b){this.C[(b&3)+a]=b};q.ai=function(){this.i=0};function Bc(a,b,c){if(a.Gc[b]!==c&&(a.Gc[b]=c,!c))for(c=0;c<a.sg.length;c++)a.sg[c].Yf.call(a.sg[c].Xg,b)}function xc(a,b,c,d){var e=a.h[2]+1,f=Cc(a,2);if(c+e>b.byteLength)d(!0);else{var g=a.u;a.g[2]+=e;b.get(c,e,function(h){lc(g,h,f);d(!1)})}}
q.hf=function(a,b,c,d,e){var f=this.h[d]+1&65535,g=5<=d?2:1,h=f*g,k=Cc(this,d),l=!1,n=!1,p=this.C[d]&16;c<h?(f=Math.floor(c/g),h=f*g,l=!0):c>h&&(n=!0);b+h>a.byteLength?e(!0):(this.g[d]+=f,this.h[d]-=f,!l&&p&&(this.g[d]=this.j[d],this.h[d]=this.l[d]),a.set(b,this.u.kb.subarray(k,k+h),()=>{n&&p?this.hf(a,b+h,c-h,d,e):e(!1)}))};function Cc(a,b){var c=a.g[b];5<=b&&(c<<=1);c=c&65535|a.o[b]<<16;return c|=a.s[b]<<24}function zc(a,b,c,d){d||(a.i^=1);return a.i?b&-256|c:b&-65281|c<<8}
function Ac(a,b){a.i^=1;return a.i?b&255:b>>8&255};function Dc(a,b){this.u=a;this.v=b;this.i=new Float64Array(3);this.j=new Uint16Array(3);this.g=new Uint8Array(4);this.h=new Uint8Array(4);this.ae=new Uint8Array(4);this.s=new Uint8Array(4);this.l=new Uint8Array(4);this.o=new Uint16Array(3);this.Xb=new Uint16Array(3);Q(a.B,97,this,function(){var c=yb(),d=66.66666666666667*c&1;c=Ec(this,2,c);return d<<4|c<<5});S(a.B,97,this,function(c){c&1?this.v.send("pcspeaker-enable"):this.v.send("pcspeaker-disable")});Q(a.B,64,this,function(){return Fc(this,0)});
Q(a.B,65,this,function(){return Fc(this,1)});Q(a.B,66,this,function(){return Fc(this,2)});S(a.B,64,this,function(c){Gc(this,0,c)});S(a.B,65,this,function(c){Gc(this,1,c)});S(a.B,66,this,function(c){Gc(this,2,c);this.v.send("pcspeaker-update",[this.ae[2],this.Xb[2]])});S(a.B,67,this,this.C)}Dc.prototype.ha=function(){var a=[];a[0]=this.g;a[1]=this.h;a[2]=this.ae;a[3]=this.s;a[4]=this.l;a[5]=this.o;a[6]=this.Xb;a[7]=this.i;a[8]=this.j;return a};
Dc.prototype.H=function(a){this.g=a[0];this.h=a[1];this.ae=a[2];this.s=a[3];this.l=a[4];this.o=a[5];this.Xb=a[6];this.i=a[7];this.j=a[8]};Dc.prototype.Ec=function(a,b){var c=100;b||(this.h[0]&&Ec(this,0,a)?(this.j[0]=Hc(this,0,a),this.i[0]=a,Rb(this.u,0),this.u.Wa(0),0===this.ae[0]&&(this.h[0]=0)):Rb(this.u,0),this.h[0]&&(c=(this.j[0]-Math.floor(1193.1816666*(a-this.i[0])))/1193.1816666));return c};
function Hc(a,b,c){if(!a.h[b])return 0;c=a.j[b]-Math.floor(1193.1816666*(c-a.i[b]));a=a.Xb[b];c>=a?c%=a:0>c&&(c=c%a+a);return c}function Ec(a,b,c){c-=a.i[b];return 0>c?!0:a.j[b]<Math.floor(1193.1816666*c)}function Fc(a,b){var c=a.l[b];if(c)return a.l[b]--,2===c?a.o[b]&255:a.o[b]>>8;c=a.g[b];3===a.ae[b]&&(a.g[b]^=1);a=Hc(a,b,yb());return c?a&255:a>>8}
function Gc(a,b,c){a.Xb[b]=a.g[b]?a.Xb[b]&-256|c:a.Xb[b]&255|c<<8;3===a.s[b]&&a.g[b]||(a.Xb[b]||(a.Xb[b]=65535),a.j[b]=a.Xb[b],a.h[b]=!0,a.i[b]=yb());3===a.s[b]&&(a.g[b]^=1)}Dc.prototype.C=function(a){var b=a>>1&7,c=a>>6&3;a=a>>4&3;3!==c&&(0===a?(this.l[c]=2,b=Hc(this,c,yb()),this.o[c]=b?b-1:0):(6<=b&&(b&=-5),this.g[c]=1===a?0:1,0===c&&Rb(this.u,0),this.ae[c]=b,this.s[c]=a,2===c&&this.v.send("pcspeaker-update",[this.ae[2],this.Xb[2]])))};const Ic=Uint32Array.from([655360,655360,720896,753664]),Jc=Uint32Array.from([131072,65536,32768,32768]);
function Kc(a,b,c,d){this.u=a;this.v=b;this.screen=c;this.oa=d;this.S=0;this.Qc=14;this.Ld=15;this.zb=80;this.Yc=25;this.Wd=this.j=this.Ed=this.Cb=0;this.Xc=[];this.Vd=this.g=0;this.Nc=new Uint8Array(25);this.M=this.aa=this.Ud=this.Db=this.C=this.G=this.Tc=this.Vc=this.o=0;this.h=!1;this.V=new Int32Array(256);this.D=0;this.Mf=45253;this.T=this.s=0;this.i=!1;this.Va=32;this.Kd=this.Jd=this.Sb=this.vc=0;void 0===this.oa||262144>this.oa?this.oa=262144:268435456<this.oa?this.oa=268435456:this.oa=Za(this.oa);
this.O=[52,18,17,17,3,1,0,0,0,0,0,3,0,0,0,0,8,14680064,57344,224,0,0,0,0,0,0,191,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,0,17,0,0,190,254,0,0,0,0,0,0,0,0,0,0,0,0];this.Oa=144;this.Ob=[{size:this.oa}];this.Lh=65536;this.xj=4272947200;this.name="vga";this.jc=this.Rc=this.ic=this.va=0;this.hb=255;this.fb=new Uint8Array(16);this.P=-1;this.Zc=32;this.hc=this.Wc=this.Lc=this.l=0;this.Hd=-1;this.Bb=15;this.Tb=this.Id=0;this.Sc=-1;this.tc=this.Ab=this.Td=this.eb=0;this.Rd=255;this.Y=this.Vb=this.Ub=this.sc=
this.Sd=this.Bd=0;this.N=this.Be=255;this.lc=!1;b=a.B;S(b,960,this,this.ek);Q(b,960,this,this.Uh,this.dk);Q(b,961,this,this.Vh);S(b,962,this,this.fk);b.$c(964,this,this.hk,this.jk);Q(b,964,this,this.gk);Q(b,965,this,this.ik);b.$c(974,this,this.vk,this.xk);Q(b,974,this,this.uk);Q(b,975,this,this.wk);Q(b,966,this,this.kk);S(b,966,this,this.lk);S(b,967,this,this.nk);Q(b,967,this,this.mk);S(b,968,this,this.qk);Q(b,968,this,this.pk);S(b,969,this,this.sk);Q(b,969,this,this.rk);Q(b,972,this,this.tk);S(b,
980,this,this.Jg,this.Xh);S(b,981,this,this.jg,this.Zh);Q(b,980,this,this.Wh);Q(b,981,this,this.Kg,this.Yh);S(b,948,this,this.Jg,this.Xh);S(b,949,this,this.jg,this.Zh);Q(b,948,this,this.Wh);Q(b,949,this,this.Kg,this.Yh);Q(b,970,this,function(){return 0});Q(b,986,this,this.$h);Q(b,954,this,this.$h);this.Qd=-1;this.mb=0;S(b,462,this,void 0,this.zj);S(b,463,this,void 0,this.Bj);Q(b,463,this,void 0,this.Aj);c=a.Bi(this.oa)>>>0;this.Fe=U(Uint8Array,a.Ja,c,this.oa);this.Nd=this.oa;this.Md=0;this.Pd=this.oa;
this.Od=0;this.xc=null;this.fa=new Uint8Array(262144);this.Ce=new Uint8Array(this.fa.buffer,0,65536);this.De=new Uint8Array(this.fa.buffer,65536,65536);this.Dd=new Uint8Array(this.fa.buffer,131072,65536);this.Ee=new Uint8Array(this.fa.buffer,196608,65536);this.ad=new Uint8Array(524288);qb(b,655360,131072,e=>Lc(this,e),(e,f)=>{if(this.i)this.u.tg((e-655360|this.vc)+3758096384|0,f);else{var g=this.sc>>2&3;e-=Ic[g];if(!(0>e||e>=Jc[g]))if(this.h){var h=f;f=Mc(this.Rd);var k=Nc(this.Bd);g=Nc(this.Sd);
switch(this.Ab&3){case 0:h=(h|h<<8)>>>(this.tc&7)&255;var l=Mc(h);h=Nc(this.Bd);l=Oc(this,(l|g&h)&(~g|h),this.D);l=f&l|~f&this.D;break;case 1:l=this.D;break;case 2:l=Nc(h);l=Oc(this,l,this.D);l=f&l|~f&this.D;break;case 3:h=(h|h<<8)>>>(this.tc&7)&255,f&=Mc(h),l=f&k|~f&this.D}f=15;switch(this.Id&12){case 0:f=5<<(e&1);e&=-2;break;case 8:case 12:f=1<<(e&3),e&=-4}f&=this.Bb;f&1&&(this.Ce[e]=l>>0&255);f&2&&(this.De[e]=l>>8&255);f&4&&(this.Dd[e]=l>>16&255);f&8&&(this.Ee[e]=l>>24&255);l=Pc(this,e);f=l+7;
l<this.Pd&&(this.Pd=l);f>this.Od&&(this.Od=f);l<this.Nd&&(this.Nd=l);f>this.Md&&(this.Md=f)}else if(this.Bb&3){if(g=e,this.fa[g]=f,e=Math.max(this.zb,2*this.aa),g>>1>=this.g?(h=(g>>1)-this.g,l=h/e|0,e=h%e):(h=g>>1,l=(h/e|0)+Qc(this,this.M),e=h%e),!(e>=this.zb||l>=this.Yc)){g&1?(h=f,f=this.fa[g&-2]):h=this.fa[g|1];var n=this.l&8;g=(n&&h&128?this.screen.G:0)|(!this.lc||h&8?0:this.screen.M);k=this.lc?7:15;n=n?7:15;this.v.send("screen-put-char",[l,e,f]);this.screen.j(l,e,f,g,this.V[this.hb&this.fb[h>>
4&n]],this.V[this.hb&this.fb[h&k]])}}else this.Bb&4&&(this.Dd[e]=f)}});ac(a.A.$a,this)}q=Kc.prototype;
q.ha=function(){var a=[];a[0]=this.oa;a[1]=this.S;a[2]=this.Qc;a[3]=this.Ld;a[4]=this.zb;a[5]=this.Yc;a[6]=this.fa;a[7]=this.jc;a[8]=this.g;a[9]=this.h;a[10]=this.V;a[11]=this.D;a[12]=this.Ub;a[13]=this.Vb;a[14]=this.sc;a[15]=this.s;a[16]=this.T;a[17]=this.o;a[18]=this.i;a[19]=this.Va;a[20]=this.vc;a[21]=this.Sb;a[22]=this.va;a[23]=this.ic;a[24]=this.Rc;a[25]=this.fb;a[26]=this.Hd;a[27]=this.Bb;a[28]=this.Id;a[29]=this.Sc;a[30]=this.Td;a[31]=this.Ab;a[32]=this.tc;a[33]=this.Rd;a[34]=this.Y;a[35]=
this.Be;a[36]=this.N;a[37]=this.Qd;a[38]=this.mb;a[39]=this.Fe;a[41]=this.P;a[42]=this.aa;a[43]=this.Bd;a[44]=this.Sd;a[45]=this.Vd;a[46]=this.Nc;a[47]=this.Vc;a[48]=this.Tc;a[49]=this.G;a[50]=this.C;a[51]=this.Db;a[52]=this.Ud;a[53]=this.aa;a[54]=this.Zc;a[55]=this.l;a[56]=this.Lc;a[57]=this.Wc;a[58]=this.hc;a[59]=this.Tb;a[60]=this.M;a[61]=this.ad;a[62]=this.hb;a[63]=this.eb;a[64]=this.lc;return a};
q.H=function(a){this.oa=a[0];this.S=a[1];this.Qc=a[2];this.Ld=a[3];this.zb=a[4];this.Yc=a[5];a[6]&&this.fa.set(a[6]);this.jc=a[7];this.g=a[8];this.h=a[9];this.V=a[10];this.D=a[11];this.Ub=a[12];this.Vb=a[13];this.sc=a[14];this.s=a[15];this.T=a[16];this.o=a[17];this.i=a[18];this.Va=a[19];this.vc=a[20];this.Sb=a[21];this.va=a[22];this.ic=a[23];this.Rc=a[24];this.fb=a[25];this.Hd=a[26];this.Bb=a[27];this.Id=a[28];this.Sc=a[29];this.Td=a[30];this.Ab=a[31];this.tc=a[32];this.Rd=a[33];this.Y=a[34];this.Be=
a[35];this.N=a[36];this.Qd=a[37];this.mb=a[38];this.Fe.set(a[39]);this.P=a[41];this.aa=a[42];this.Bd=a[43];this.Sd=a[44];this.Vd=a[45];this.Nc.set(a[46]);this.Vc=a[47];this.Tc=a[48];this.G=a[49];this.C=a[50];this.Db=a[51];this.Ud=a[52];this.aa=a[53];this.Zc=a[54];this.l=a[55];this.Lc=a[56];this.Wc=a[57];this.hc=a[58];this.Tb=a[59];this.M=a[60];a[61]&&this.ad.set(a[61]);this.hb=void 0===a[62]?255:a[62];this.eb=void 0===a[63]?0:a[63];this.lc=void 0===a[64]?0:a[64];this.screen.g(this.h);this.h?(this.Ed=
this.Cb=0,this.i?(Rc(this,this.s,this.T,this.s,this.T,this.Va),Sc(this)):(Tc(this),Sc(this),Uc(this))):(Vc(this,!0),Wc(this,this.zb,this.Yc),Xc(this),Yc(this),Zc(this));$c(this)};
function Lc(a,b){if(a.i)return a.u.ue((b-655360|a.vc)+3758096384|0);var c=a.sc>>2&3;b-=Ic[c];if(0>b||b>=Jc[c])return 0;a.D=a.Ce[b];a.D|=a.De[b]<<8;a.D|=a.Dd[b]<<16;a.D|=a.Ee[b]<<24;if(a.Ab&8)return c=255,a.Vb&1&&(c&=a.Ce[b]^~(a.Ub&1?255:0)),a.Vb&2&&(c&=a.De[b]^~(a.Ub&2?255:0)),a.Vb&4&&(c&=a.Dd[b]^~(a.Ub&4?255:0)),a.Vb&8&&(c&=a.Ee[b]^~(a.Ub&8?255:0)),c;c=a.Td;a.h?a.Id&8?(c=b&3,b&=-4):a.Ab&16&&(c=b&1,b&=-2):c&=3;return a.fa[c<<16|b]}function Mc(a){return a|a<<8|a<<16|a<<24}
function Nc(a){return(a&1?255:0)|(a&2?255:0)<<8|(a&4?255:0)<<16|(a&8?255:0)<<24}function Oc(a,b,c){switch(a.tc&24){case 8:return b&c;case 16:return b|c;case 24:return b^c}return b}
function ad(a){const b=Qc(a,a.M),c=Math.max(0,2*(2*a.aa-a.zb)),d=a.l&8,e=a.lc?7:15,f=d?7:15,g=a.screen.G,h=a.screen.M;let k=a.g<<1;for(let l=0;l<a.Yc;l++){l===b&&(k=0);for(let n=0;n<a.zb;n++){const p=a.fa[k],x=a.fa[k|1],r=(d&&x&128?g:0)|(!a.lc||x&8?0:h);a.v.send("screen-put-char",[l,n,p]);a.screen.j(l,n,p,r,a.V[a.hb&a.fb[x>>4&f]],a.V[a.hb&a.fb[x&e]]);k+=2}k+=c}}
function Zc(a){var b=Math.max(a.zb,2*a.aa);let c;a.S>=a.g?(c=(a.S-a.g)/b|0,b=(a.S-a.g)%b):(c=(a.S/b|0)+Qc(a,a.M),b=a.S%b);a.screen.C(c,b)}function $c(a){a.h?a.i?a.u.Vc():(a.Nd=0,a.Md=524288):ad(a)}function Uc(a){a.h&&!a.i&&(a.Pd=0,a.Od=524288,$c(a))}q.wa=function(){};function bd(a){var b=128+(~a.Db&a.o&64);b-=a.Db&64;b-=a.l&64;return b>>>6}
function Pc(a,b){var c=bd(a);if(~a.o&3){var d=b-a.g;d&=a.o<<13|-24577;d<<=c;var e=d/a.j|0;d%=a.j;switch(a.o&3){case 2:e=e<<1|b>>13&1;break;case 1:e=e<<1|b>>14&1;break;case 0:e=e<<2|b>>13&3}return e*a.j+d+(a.g<<c)}return b<<c}function Qc(a,b){a.Y&128&&(b>>>=1);b=Math.ceil(b/(1+(a.Y&31)));a.o&1||(b<<=1);a.o&2||(b<<=1);return b}function Wc(a,b,c){a.zb=b;a.Yc=c;a.screen.i(b,c);a.v.send("screen-set-size",[b,c,0])}
function Rc(a,b,c,d,e,f){d=Math.max(d,1);e=Math.max(e,1);if(a.Cb!==b||a.Ed!==c||a.j!==d||a.Wd!==e){a.Cb=b;a.Ed=c;a.j=d;a.Wd=e;if("undefined"!==typeof ImageData){const g=d*e,h=a.u.Ai(g)>>>0;a.bf=h;a.xc=new ImageData(new Uint8ClampedArray(a.u.Ja.buffer,h,4*g),d,e);a.u.Vc()}a.screen.h(b,c);a.v.send("screen-set-size",[b,c,f])}}
function Tc(a){if(!a.i){var b=Math.min(1+a.Vc,a.Tc),c=Math.min(1+a.G,a.C);if(b&&c)if(a.h){b<<=3;var d=a.aa<<4;a.l&64&&(b>>>=1,d>>>=1);c=Qc(a,c);var e=Jc[0];var f=a.aa<<2;a.Db&64?f<<=1:a.o&64&&(f>>>=1);Rc(a,b,c,d,f?Math.ceil(e/f):c,8);cd(a);Sc(a)}else a.Y&128&&(c>>>=1),d=c/(1+(a.Y&31))|0,b&&d&&Wc(a,b,d)}}
function Sc(a){a.h||ad(a);if(a.i)a.Xc=[];else if(a.j&&a.Cb)if(!a.Zc||a.Tb&32)a.Xc=[],a.screen.N();else{var b=a.Vd,c=a.Wc;a.l&64&&(c>>>=1);var d=a.Ud>>5&3,e=Pc(a,b+d);b=e/a.j|0;var f=e%a.j+c;e=Qc(a,1+a.M);e=Math.min(e,a.Ed);var g=a.Ed-e;a.Xc=[];f=-f;for(var h=0;f<a.Cb;f+=a.j,h++)a.Xc.push({xc:a.xc,Sg:f,Tg:0,Of:0,Pf:b+h,wg:a.j,vg:e});b=0;a.l&32||(b=Pc(a,d)+c);f=-b;for(h=0;f<a.Cb;f+=a.j,h++)a.Xc.push({xc:a.xc,Sg:f,Tg:e,Of:0,Pf:h,wg:a.j,vg:g})}}function cd(a){a.N|=8;a.Vd!==a.g&&(a.Vd=a.g,Sc(a))}
function Yc(a){var b=a.Y&31;const c=Math.min(b,a.Qc&31);b=Math.min(b,a.Ld&31);a.screen.D(c,b,!(a.Qc&32)&&c<b)}
q.ek=function(a){if(-1===this.P)this.P=a&31,this.Zc!==(a&32)&&(this.Zc=a&32,Sc(this));else{if(16>this.P)this.fb[this.P]=a,this.l&64||$c(this);else switch(this.P){case 16:if(this.l!==a){var b=this.l;this.l=a;const c=0!==(a&1);this.i||this.h===c||(this.h=c,this.screen.g(this.h));(b^a)&64&&Uc(this);Tc(this);$c(this);Vc(this,!1)}break;case 18:this.Lc!==a&&(this.Lc=a,$c(this));break;case 19:this.Wc!==a&&(this.Wc=a&15,Sc(this));break;case 20:this.hc!==a&&(this.hc=a,$c(this))}this.P=-1}};
q.Uh=function(){return(this.P|this.Zc)&255};q.dk=function(){return this.Uh()|this.Vh()<<8&65280};q.Vh=function(){if(16>this.P)return this.fb[this.P]&255;switch(this.P){case 16:return this.l;case 18:return this.Lc;case 19:return this.Wc;case 20:return this.hc}return 255};q.fk=function(a){this.Be=a};q.hk=function(a){this.Hd=a};q.gk=function(){return this.Hd};
q.jk=function(a){switch(this.Hd){case 1:var b=this.Tb;this.Tb=a;(b^a)&32&&Sc(this);Vc(this,!1);break;case 2:b=this.Bb;this.Bb=a;this.h||!(b&4)||this.Bb&4||Vc(this,!0);break;case 3:b=this.eb;this.eb=a;this.h||b===a||Xc(this);break;case 4:this.Id=a}};q.ik=function(){switch(this.Hd){case 1:return this.Tb;case 2:return this.Bb;case 3:return this.eb;case 4:return this.Id;case 6:return 18}return 0};q.lk=function(a){this.hb!==a&&(this.hb=a,$c(this))};q.kk=function(){return this.hb};
q.nk=function(a){this.Rc=3*a;this.jc&=0};q.mk=function(){return this.jc};q.qk=function(a){this.ic=3*a;this.jc|=3};q.pk=function(){return this.ic/3&255};q.sk=function(a){var b=this.ic/3|0,c=this.ic%3,d=this.V[b];if(0===(this.mb&32)){a&=63;const e=a&1;a=a<<2|e<<1|e}d=0===c?d&-16711681|a<<16:1===c?d&-65281|a<<8:d&-256|a;this.V[b]!==d&&(this.V[b]=d,$c(this));this.ic++};q.rk=function(){var a=this.V[this.Rc/3|0]>>8*(2-this.Rc%3)&255;this.Rc++;return this.mb&32?a:a>>2};q.tk=function(){return this.Be};
q.vk=function(a){this.Sc=a};q.uk=function(){return this.Sc};q.xk=function(a){switch(this.Sc){case 0:this.Bd=a;break;case 1:this.Sd=a;break;case 2:this.Ub=a;break;case 3:this.tc=a;break;case 4:this.Td=a;break;case 5:var b=this.Ab;this.Ab=a;(b^a)&96&&Uc(this);break;case 6:this.sc!==a&&(this.sc=a,Tc(this));break;case 7:this.Vb=a;break;case 8:this.Rd=a}};
q.wk=function(){switch(this.Sc){case 0:return this.Bd;case 1:return this.Sd;case 2:return this.Ub;case 3:return this.tc;case 4:return this.Td;case 5:return this.Ab;case 6:return this.sc;case 7:return this.Vb;case 8:return this.Rd}return 0};q.Jg=function(a){this.va=a};q.Xh=function(a){this.Jg(a&255);this.jg(a>>8&255)};q.Wh=function(){return this.va};
q.jg=function(a){switch(this.va){case 1:this.Vc!==a&&(this.Vc=a,Tc(this));break;case 2:this.Tc!==a&&(this.Tc=a,Tc(this));break;case 7:var b=this.G;this.G&=255;this.G=this.G|a<<3&512|a<<7&256;b!==this.G&&Tc(this);this.M=this.M&767|a<<4&256;b=this.C;this.C=this.C&767|a<<5&256;b!==this.C&&Tc(this);Sc(this);break;case 8:this.Ud=a;Sc(this);break;case 9:var c=this.Y;this.Y=a;this.M=this.M&511|a<<3&512;b=this.C;this.C=this.C&511|a<<4&512;((c^this.Y)&159||b!==this.C)&&Tc(this);Yc(this);Sc(this);Vc(this,!1);
break;case 10:this.Qc=a;Yc(this);break;case 11:this.Ld=a;Yc(this);break;case 12:(this.g>>8&255)!==a&&(this.g=this.g&255|a<<8,Sc(this),~this.o&3&&Uc(this));break;case 13:(this.g&255)!==a&&(this.g=this.g&65280|a,Sc(this),~this.o&3&&Uc(this));break;case 14:this.S=this.S&255|a<<8;Zc(this);break;case 15:this.S=this.S&65280|a;Zc(this);break;case 18:(this.G&255)!==a&&(this.G=this.G&768|a,Tc(this));break;case 19:this.aa!==a&&(this.aa=a,Tc(this),~this.o&3&&Uc(this));break;case 20:this.Db!==a&&(b=this.Db,this.Db=
a,Tc(this),(b^a)&64&&Uc(this));break;case 21:(this.C&255)!==a&&(this.C=this.C&768|a,Tc(this));break;case 23:this.o!==a&&(b=this.o,this.o=a,Tc(this),(b^a)&67&&Uc(this));break;case 24:this.M=this.M&768|a;Sc(this);break;default:this.va<this.Nc.length&&(this.Nc[this.va]=a)}};q.Zh=function(a){this.jg(a&255)};
q.Kg=function(){switch(this.va){case 1:return this.Vc;case 2:return this.Tc;case 7:return this.G>>7&2|this.C>>5&8|this.M>>4&16|this.G>>3&64;case 8:return this.Ud;case 9:return this.Y;case 10:return this.Qc;case 11:return this.Ld;case 12:return this.g&255;case 13:return this.g>>8;case 14:return this.S>>8;case 15:return this.S&255;case 18:return this.G&255;case 19:return this.aa;case 20:return this.Db;case 21:return this.C&255;case 23:return this.o;case 24:return this.M&255}return this.va<this.Nc.length?
this.Nc[this.va]:0};q.Yh=function(){return this.Kg()};q.$h=function(){var a=this.N;this.h?(this.N^=1,this.N&=1):(this.N&1&&(this.N^=8),this.N^=1);this.P=-1;return a};q.zj=function(a){this.Qd=a};
q.Bj=function(a){const b=this.i;switch(this.Qd){case 0:45248<=a&&45253>=a&&(this.Mf=a);break;case 1:this.s=a;2560<this.s&&(this.s=2560);break;case 2:this.T=a;1600<this.T&&(this.T=1600);break;case 3:this.Va=a;break;case 4:(this.i=1===(a&1))&&0===(a&128)&&this.Fe.fill(0);this.mb=a;break;case 5:this.vc=a<<16;break;case 8:this.Jd!==a&&(this.Jd=a,this.Sb=this.Kd*this.s+this.Jd,$c(this));break;case 9:this.Kd!==a&&(this.Kd=a,this.Sb=this.Kd*this.s+this.Jd,$c(this))}!this.i||this.s&&this.T||(this.i=!1);this.i&&
!b&&(this.Kd=this.Jd=this.Sb=0,this.h=!0,this.screen.g(this.h),Rc(this,this.s,this.T,this.s,this.T,this.Va));this.i||(this.vc=0);Sc(this)};q.Aj=function(){return dd(this,this.Qd)};function dd(a,b){switch(b){case 0:return a.Mf;case 1:return a.mb&2?2560:a.s;case 2:return a.mb&2?1600:a.T;case 3:return a.mb&2?32:a.Va;case 4:return a.mb;case 5:return a.vc>>>16;case 6:return a.Cb?a.Cb:1;case 8:return a.Jd;case 9:return a.Kd;case 10:return a.oa/65536|0}return 255}
q.Rg=function(){if(this.h){if(0===this.xc.data.byteLength){var a=new Uint8ClampedArray(this.u.Ja.buffer,this.bf,4*this.j*this.Wd);this.xc=new ImageData(a,this.j,this.Wd);Sc(this)}if(this.i){a=0;var b=this.T;if(8===this.Va)for(var c=new Int32Array(this.u.Ja.buffer,this.bf,this.Cb*this.Ed),d=new Uint8Array(this.u.Ja.buffer,this.Fe.byteOffset,this.oa),e=0;e<c.length;e++){var f=this.V[d[e]];c[e]=f&65280|f<<16|f>>16|4278190080}else this.u.Ei(this.Va,this.Sb),e=15===this.Va?2:this.Va/8,a=((this.u.Di[0]/
e|0)-this.Sb)/this.s|0,b=(((this.u.Ci[0]/e|0)-this.Sb)/this.s|0)+1;a<b&&(a=Math.max(a,0),b=Math.min(b,this.T),this.screen.l([{xc:this.xc,Sg:0,Tg:a,Of:0,Pf:a,wg:this.s,vg:b-a}]))}else{a=Math.min(this.Od|15,524287);e=bd(this);f=~this.o&3;b=this.Ab&96;c=this.l&64;for(d=this.Pd&-16;d<=a;){var g=d>>>e;if(f){var h=d/this.j|0,k=d-this.j*h;switch(f){case 1:g=(h&1)<<13;h>>>=1;break;case 2:g=(h&1)<<14;h>>>=1;break;case 3:g=(h&3)<<13,h>>>=2}g|=(h*this.j+k>>>e)+this.g}h=this.Ce[g];k=this.De[g];var l=this.Dd[g],
n=this.Ee[g];g=new Uint8Array(8);switch(b){case 0:h<<=0;k<<=1;l<<=2;n<<=3;for(var p=7;0<=p;p--)g[7-p]=h>>p&1|k>>p&2|l>>p&4|n>>p&8;break;case 32:g[0]=h>>6&3|l>>4&12;g[1]=h>>4&3|l>>2&12;g[2]=h>>2&3|l>>0&12;g[3]=h>>0&3|l<<2&12;g[4]=k>>6&3|n>>4&12;g[5]=k>>4&3|n>>2&12;g[6]=k>>2&3|n>>0&12;g[7]=k>>0&3|n<<2&12;break;case 64:case 96:g[0]=h>>4&15,g[1]=h>>0&15,g[2]=k>>4&15,g[3]=k>>0&15,g[4]=l>>4&15,g[5]=l>>0&15,g[6]=n>>4&15,g[7]=n>>0&15}if(c)for(h=p=0;4>p;p++,d++,h+=2)this.ad[d]=g[h]<<4|g[h+1];else for(p=0;8>
p;p++,d++)this.ad[d]=g[p]}c=this.Nd;a=Math.min(this.Md,524287);b=new Int32Array(this.u.Ja.buffer,this.bf,this.j*this.Wd);e=255;f=0;this.l&128&&(e&=207,f|=this.hc<<4&48);if(this.l&64)for(;c<=a;c++)d=this.ad[c]&e|f,d=this.V[d],b[c]=d&65280|d<<16|d>>16|4278190080;else for(e&=63,f|=this.hc<<4&192;c<=a;c++)d=this.fb[this.ad[c]&this.Lc]&e|f,d=this.V[d],b[c]=d&65280|d<<16|d>>16|4278190080;this.screen.l(this.Xc)}this.Nd=this.oa;this.Md=0;this.Pd=this.oa;this.Od=0}cd(this)};
function Vc(a,b){const c=a.Y&31;if(c&&!a.h){const d=!!(a.Tb&8);a.screen.o(c+1,!d&&!(a.Tb&1),d,!!(a.l&4),a.Dd,b)}}function Xc(a){const b=[0,2,4,6,1,3,5,7],c=(a.eb&12)>>2|(a.eb&32)>>3,d=a.eb&3|(a.eb&16)>>2;a.lc=c!==d;a.screen.s(b[c],b[d]);$c(a)};function ed(a,b){this.u=a;this.v=b;this.ze=this.ld=!1;this.qf=!0;this.ke=this.Ac=this.zc=0;this.va=!0;this.S=this.P=this.G=this.N=this.T=this.M=this.jf=!1;this.ta=new Ib(1024);this.l=0;this.Ad=100;this.j=this.i=0;this.C=!1;this.Fc=0;this.Ue=4;this.s=!1;this.g=new Ib(1024);this.D=this.o=!1;this.v.register("keyboard-code",function(c){this.jf&&(this.ta.push(c),this.Ta())},this);this.v.register("mouse-click",function(c){this.qf&&this.ze&&(this.ke=c[0]|c[2]<<1|c[1]<<2,this.ld&&fd(this,0,0))},this);this.v.register("mouse-delta",
function(c){var d=c[1];if(this.qf&&this.ze){var e=this.Ue*this.Ad/80;this.zc+=c[0]*e;this.Ac+=d*e;this.ld&&(c=this.zc|0,d=this.Ac|0,c||d)&&(this.zc-=c,this.Ac-=d,fd(this,c,d))}},this);this.v.register("mouse-wheel",function(c){this.Fc-=c[0];this.Fc-=2*c[1];this.Fc=Math.min(7,Math.max(-8,this.Fc));fd(this,0,0)},this);this.h=5;this.fa=0;this.Y=this.V=this.aa=!1;Q(a.B,96,this,this.Kk);Q(a.B,100,this,this.Mk);S(a.B,96,this,this.Lk);S(a.B,100,this,this.Nk)}q=ed.prototype;
q.ha=function(){var a=[];a[0]=this.ld;a[1]=this.ze;a[2]=this.qf;a[3]=this.zc;a[4]=this.Ac;a[5]=this.ke;a[6]=this.va;a[7]=this.jf;a[8]=this.M;a[9]=this.T;a[10]=this.N;a[11]=this.G;a[12]=this.P;a[13]=this.S;a[15]=this.l;a[16]=this.Ad;a[17]=this.Ue;a[18]=this.s;a[20]=this.h;a[21]=this.aa;a[22]=this.V;a[23]=this.fa;a[24]=this.Y;a[25]=this.j;a[26]=this.i;a[27]=this.C;return a};
q.H=function(a){this.ld=a[0];this.ze=a[1];this.qf=a[2];this.zc=a[3];this.Ac=a[4];this.ke=a[5];this.va=a[6];this.jf=a[7];this.M=a[8];this.T=a[9];this.N=a[10];this.G=a[11];this.P=a[12];this.S=a[13];this.l=a[15];this.Ad=a[16];this.Ue=a[17];this.s=a[18];this.h=a[20];this.aa=a[21];this.V=a[22];this.fa=a[23];this.Y=a[24];this.j=a[25]||0;this.i=a[26]||0;this.C=a[27]||!1;this.D=this.o=!1;this.ta.clear();this.g.clear();this.v.send("mouse-enable",this.ze)};
q.Ta=function(){this.o||(this.ta.length?gd(this):this.g.length&&hd(this))};function hd(a){a.o=!0;a.D=!0;a.h&2&&(Rb(a.u,12),a.u.Wa(12))}function gd(a){a.o=!0;a.D=!1;a.h&1&&(Rb(a.u,1),a.u.Wa(1))}function fd(a,b,c){a.g.push((0>c)<<5|(0>b)<<4|8|a.ke);a.g.push(b);a.g.push(c);4===a.j?(a.g.push(0|a.Fc&15),a.Fc=0):3===a.j&&(a.g.push(a.Fc&255),a.Fc=0);a.Ta()}
q.Kk=function(){this.o=!1;if(!this.ta.length&&!this.g.length)return this.l;this.D?(Rb(this.u,12),this.l=this.g.shift()):(Rb(this.u,1),this.l=this.ta.shift());(this.ta.length||this.g.length)&&this.Ta();return this.l};q.Mk=function(){var a=16;this.o&&(a|=1);this.D&&(a|=32);return a};
q.Lk=function(a){if(this.V)this.h=a,this.V=!1;else if(this.aa)this.aa=!1,this.g.clear(),this.g.push(a),hd(this);else if(this.T){this.T=!1;this.g.clear();this.g.push(250);this.Ad=a;switch(this.i){case -1:60===a?(this.C=!0,this.i=0):(this.C=!1,this.i=200===a?1:0);break;case 0:200===a&&(this.i=1);break;case 1:this.i=100===a?2:200===a?3:0;break;case 2:80===a&&(this.j=3);this.i=-1;break;case 3:80===a&&(this.j=4),this.i=-1}this.Ad||(this.Ad=100);hd(this)}else if(this.S)this.S=!1,this.g.clear(),this.g.push(250),
this.Ue=3<a?4:1<<a,hd(this);else if(this.N)this.N=!1,this.ta.push(250),gd(this);else if(this.G)this.G=!1,this.ta.push(250),gd(this),a||this.ta.push(1);else if(this.P)this.P=!1,this.ta.push(250),gd(this);else if(this.M){if(this.M=!1,this.qf){this.ta.clear();this.g.clear();this.g.push(250);switch(a){case 230:this.s=!1;break;case 231:this.s=!0;break;case 232:this.S=!0;break;case 233:fd(this,0,0);break;case 235:fd(this,0,0);break;case 242:this.g.push(this.j);this.ke=this.zc=this.Ac=0;this.Ta();break;
case 243:this.T=!0;break;case 244:this.ze=this.ld=!0;this.v.send("mouse-enable",!0);this.ke=this.zc=this.Ac=0;break;case 245:this.ld=!1;break;case 246:this.ld=!1;this.Ad=100;this.s=!1;this.Ue=4;break;case 255:this.g.push(170),this.g.push(0),this.ze=!0,this.v.send("mouse-enable",!0),this.ld=!1,this.Ad=100,this.s=!1,this.Ue=4,this.C||(this.j=0),this.ke=this.zc=this.Ac=0}hd(this)}}else if(this.Y)this.Y=!1,this.fa=a;else{this.g.clear();this.ta.clear();this.ta.push(250);switch(a){case 237:this.N=!0;break;
case 240:this.G=!0;break;case 242:this.ta.push(171);this.ta.push(131);break;case 243:this.P=!0;break;case 244:this.jf=!0;break;case 245:this.jf=!1;break;case 255:this.ta.clear(),this.ta.push(250),this.ta.push(170),this.ta.push(0)}gd(this)}};
q.Nk=function(a){switch(a){case 32:this.ta.clear();this.g.clear();this.ta.push(this.h);gd(this);break;case 96:this.V=!0;break;case 209:this.Y=!0;break;case 211:this.aa=!0;break;case 212:this.M=!0;break;case 167:this.h|=32;break;case 168:this.h&=-33;break;case 169:this.ta.clear();this.g.clear();this.ta.push(0);gd(this);break;case 170:this.ta.clear();this.g.clear();this.ta.push(85);gd(this);break;case 171:this.ta.clear();this.g.clear();this.ta.push(0);gd(this);break;case 173:this.h|=16;break;case 174:this.h&=
-17;break;case 254:tc(this.u)}};function id(a){this.u=a;this.$d=0;this.ca=new Uint8Array(128);this.D=this.g=Date.now();this.l=this.j=0;this.s=!1;this.C=.9765625;this.o=38;this.h=2;this.Hg=this.i=0;S(a.B,112,this,function(b){this.$d=b&127;this.Hg=b>>7});S(a.B,113,this,this.Ni);Q(a.B,113,this,this.Mi)}q=id.prototype;q.ha=function(){var a=[];a[0]=this.$d;a[1]=this.ca;a[2]=this.g;a[3]=this.D;a[4]=this.j;a[5]=this.l;a[6]=this.s;a[7]=this.C;a[8]=this.o;a[9]=this.h;a[10]=this.i;a[11]=this.Hg;return a};
q.H=function(a){this.$d=a[0];this.ca=a[1];this.g=a[2];this.D=a[3];this.j=a[4];this.l=a[5];this.s=a[6];this.C=a[7];this.o=a[8];this.h=a[9];this.i=a[10];this.Hg=a[11]};q.Ec=function(a){a=Date.now();this.g+=a-this.D;this.D=a;this.s&&this.j<a?(this.u.Wa(8),this.i|=192,this.j+=this.C*Math.ceil((a-this.j)/this.C)):this.l&&this.l<a&&(this.u.Wa(8),this.i|=160,this.l=0);let b=100;this.s&&this.j&&(b=Math.min(b,Math.max(0,this.j-a)));this.l&&(b=Math.min(b,Math.max(0,this.l-a)));return b};
function jd(a,b){if(a.h&4)a=b;else{a=b;for(var c=b=0,d;a;)d=a%10,c|=d<<4*b,b++,a=(a-d)/10;a=c}return a}function kd(a,b){var c;a.h&4?c=b:c=(b&15)+10*(b>>4&15);return c}
q.Mi=function(){switch(this.$d){case 0:return jd(this,(new Date(this.g)).getUTCSeconds());case 2:return jd(this,(new Date(this.g)).getUTCMinutes());case 4:return jd(this,(new Date(this.g)).getUTCHours());case 6:return jd(this,(new Date(this.g)).getUTCDay()+1);case 7:return jd(this,(new Date(this.g)).getUTCDate());case 8:return jd(this,(new Date(this.g)).getUTCMonth()+1);case 9:return jd(this,(new Date(this.g)).getUTCFullYear()%100);case 10:return 999<=yb()%1E3?this.o|128:this.o;case 11:return this.h;
case 12:Rb(this.u,8);var a=this.i;this.i&=-241;return a;case 13:return 0;case 50:case 55:return jd(this,(new Date(this.g)).getUTCFullYear()/100|0);default:return this.ca[this.$d]}};
q.Ni=function(a){switch(this.$d){case 10:this.o=a&127;this.C=1E3/(32768>>(this.o&15)-1);break;case 11:this.h=a;this.h&64&&(this.j=Date.now());if(this.h&32){a=new Date;const b=kd(this,this.ca[1]),c=kd(this,this.ca[3]),d=kd(this,this.ca[5]);this.l=+new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),d,c,b))}break;case 1:case 3:case 5:this.ca[this.$d]=a}this.s=64===(this.h&64)&&0<(this.o&15)};function ld(a,b,c){this.v=c;this.u=a;this.h=4;this.pd=this.fd=0;this.ie=96;this.Oc=this.lf=0;this.Pc=1;this.ma=this.mg=this.Sa=this.dg=0;this.input=[];switch(b){case 1016:this.g=0;this.ma=4;break;case 760:this.g=1;this.ma=3;break;case 1E3:this.g=2;this.ma=4;break;case 744:this.ma=this.g=3;break;default:this.g=0,this.ma=4}this.v.register("serial"+this.g+"-input",function(d){this.input.push(d);this.ie|=1;this.lf&1?md(this,12):md(this,4)},this);this.v.register("serial"+this.g+"-modem-status-input",function(d){nd(this,
d)},this);this.v.register("serial"+this.g+"-carrier-detect-input",function(d){nd(this,d?this.Sa|136:this.Sa&-137)},this);this.v.register("serial"+this.g+"-ring-indicator-input",function(d){nd(this,d?this.Sa|68:this.Sa&-69)},this);this.v.register("serial"+this.g+"-data-set-ready-input",function(d){nd(this,d?this.Sa|34:this.Sa&-35)},this);this.v.register("serial"+this.g+"-clear-to-send-input",function(d){nd(this,d?this.Sa|17:this.Sa&-18)},this);a=a.B;S(a,b,this,function(d){od(this,d)},function(d){od(this,
d&255);od(this,d>>8)});S(a,b|1,this,function(d){this.pd&128?this.fd=this.fd&255|d<<8:(0===(this.Oc&2)&&d&2&&md(this,2),this.Oc=d&15,pd(this))});Q(a,b,this,function(){if(this.pd&128)return this.fd&255;{let d=0;0!==this.input.length&&(d=this.input.shift());0===this.input.length&&(this.ie&=-2,qd(this,12),qd(this,4));return d}});Q(a,b|1,this,function(){return this.pd&128?this.fd>>8:this.Oc&15});Q(a,b|2,this,function(){var d=this.Pc&15;2===this.Pc&&qd(this,2);this.lf&1&&(d|=192);return d});S(a,b|2,this,
function(d){this.lf=d});Q(a,b|3,this,function(){return this.pd});S(a,b|3,this,function(d){this.pd=d});Q(a,b|4,this,function(){return this.dg});S(a,b|4,this,function(d){this.dg=d});Q(a,b|5,this,function(){return this.ie});S(a,b|5,this,function(){});Q(a,b|6,this,function(){return this.Sa&=240});S(a,b|6,this,function(d){nd(this,d)});Q(a,b|7,this,function(){return this.mg});S(a,b|7,this,function(d){this.mg=d})}
ld.prototype.ha=function(){var a=[];a[0]=this.h;a[1]=this.fd;a[2]=this.pd;a[3]=this.ie;a[4]=this.lf;a[5]=this.Oc;a[6]=this.Pc;a[7]=this.dg;a[8]=this.Sa;a[9]=this.mg;a[10]=this.ma;return a};ld.prototype.H=function(a){this.h=a[0];this.fd=a[1];this.pd=a[2];this.ie=a[3];this.lf=a[4];this.Oc=a[5];this.Pc=a[6];this.dg=a[7];this.Sa=a[8];this.mg=a[9];this.ma=a[10]};
function pd(a){a.h&4096&&a.Oc&1?(a.Pc=12,a.u.Wa(a.ma)):a.h&16&&a.Oc&1?(a.Pc=4,a.u.Wa(a.ma)):a.h&4&&a.Oc&2?(a.Pc=2,a.u.Wa(a.ma)):a.h&1&&a.Oc&8?(a.Pc=0,a.u.Wa(a.ma)):(a.Pc=1,Rb(a.u,a.ma))}function md(a,b){a.h|=1<<b;pd(a)}function qd(a,b){a.h&=~(1<<b);pd(a)}function od(a,b){a.pd&128?a.fd=a.fd&-256|b:(md(a,2),a.v.send("serial"+a.g+"-output-byte",b))}function nd(a,b){let c=(a.Sa^b)>>4;c|=a.Sa&15;a.Sa=b;a.Sa|=c};function rd(a){this.u=a;var b=a.B;ac(a.A.$a,{Oa:56,O:[134,128,19,113,7,0,128,2,8,0,128,6,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,1,0,0],Ob:[],name:"acpi"});this.g=this.h=0;this.status=1;this.wf=this.oe=0;this.i=sd(this,yb());this.wc=new Uint8Array(4);Q(b,45056,this,void 0,function(){return this.oe});S(b,45056,this,void 0,function(c){this.oe&=~c});Q(b,45058,this,void 0,function(){return this.wf});S(b,45058,this,void 0,function(c){this.wf=
c});Q(b,45060,this,void 0,function(){return this.status});S(b,45060,this,void 0,function(c){this.status=c});Q(b,45064,this,void 0,void 0,function(){return sd(this,yb())&16777215});Q(b,45024,this,function(){return this.wc[0]});Q(b,45025,this,function(){return this.wc[1]});Q(b,45026,this,function(){return this.wc[2]});Q(b,45027,this,function(){return this.wc[3]});S(b,45024,this,function(c){this.wc[0]=c});S(b,45025,this,function(c){this.wc[1]=c});S(b,45026,this,function(c){this.wc[2]=c});S(b,45027,this,
function(c){this.wc[3]=c})}rd.prototype.Ec=function(a){a=sd(this,a);var b=0!==((a^this.i)&8388608);this.wf&1&&b?(this.oe|=1,this.u.Wa(9)):Rb(this.u,9);this.i=a;return 100};function sd(a,b){b=Math.round(3579.545*b);b===a.h?3579.545>a.g&&a.g++:a.h+a.g<=b&&(a.g=0,a.h=b);return a.h+a.g}rd.prototype.ha=function(){var a=[];a[0]=this.status;a[1]=this.oe;a[2]=this.wf;a[3]=this.wc;return a};rd.prototype.H=function(a){this.status=a[0];this.oe=a[1];this.wf=a[2];this.wc=a[3]};function td(a){this.u=a;this.fa=this.C=0;this.va=1;this.g=this.l=0;this.j=yb();this.P=this.T=this.S=this.V=this.h=65536;this.M=this.G=this.s=0;this.i=new Int32Array(8);this.Ya=new Int32Array(8);this.o=new Int32Array(8);this.aa=254;this.D=-1;this.Y=this.error=this.N=0;qb(a.B,4276092928,1048576,b=>{var c=b&3;return this.zf(b&-4)>>8*c&255},()=>{},b=>this.zf(b),(b,c)=>this.Ba(b,c))}q=td.prototype;
q.zf=function(a){a=a-4276092928|0;switch(a){case 32:return this.C;case 48:return 327700;case 128:return this.s;case 208:return this.N;case 224:return this.D;case 240:return this.aa;case 256:case 272:case 288:case 304:case 320:case 336:case 352:case 368:return this.Ya[a-256>>4];case 384:case 400:case 416:case 432:case 448:case 464:case 480:case 496:return this.o[a-384>>4];case 512:case 528:case 544:case 560:case 576:case 592:case 608:case 624:return this.i[a-512>>4];case 640:return this.Y;case 768:return this.G;
case 784:return this.M;case 800:return this.h;case 832:return this.V;case 848:return this.S;case 864:return this.T;case 880:return this.P;case 992:return this.fa;case 896:return this.l;case 912:return this.g;default:return 0}};
q.Ba=function(a,b){switch(a-4276092928|0){case 32:this.C=b;break;case 128:this.s=b&255;ud(this);break;case 176:b=vd(this.Ya);if(-1!==b){wd(this.Ya,b);if(this.o[b>>5]>>(b&31)&1){a=this.u.A.nd;for(var c=0;24>c;c++){var d=a.g[c];(d&255)===b&&d&16384&&(a.g[c]&=-16385,xd(a,c))}}ud(this)}break;case 208:this.N=b&4278190080;break;case 224:this.D=b|16777215;break;case 240:this.aa=b;break;case 640:this.Y=this.error;this.error=0;break;case 768:a=b&255;c=b>>8&7;d=b>>15&1;var e=b>>18&3;this.G=b&-4097;0===e?yd(this,
a,c,d):1===e?yd(this,a,0,d):2===e&&yd(this,a,c,d);break;case 784:this.M=b;break;case 800:this.h=b;break;case 832:this.V=b;break;case 848:this.S=b;break;case 864:this.T=b;break;case 880:this.P=b;break;case 992:this.fa=b;b=b&3|(b&8)>>1;this.va=7===b?0:b+1;break;case 896:this.l=b>>>0,this.g=b>>>0,this.j=yb()}};
q.Ec=function(a){if(0===this.g)return 100;const b=1E6/(1<<this.va);a=(a-this.j)*b>>>0;this.j+=a/b;this.g-=a;0>=this.g&&(a=this.h&393216,131072===a?(this.g%=this.l,0>=this.g&&(this.g+=this.l),0===(this.h&65536)&&yd(this,this.h&255,0,!1)):0===a&&(this.g=0,0===(this.h&65536)&&yd(this,this.h&255,0,!1)));return Math.max(0,this.g/b)};function yd(a,b,c,d){5===c||4===c||a.i[b>>5]>>(b&31)&1||(zd(a.i,b),d?zd(a.o,b):wd(a.o,b),ud(a))}
function ud(a){var b=vd(a.i);-1!==b&&(vd(a.Ya)>=b||(b&240)<=(a.s&240)||a.u.Kd())}q.ha=function(){var a=[];a[0]=this.C;a[1]=this.fa;a[2]=this.va;a[3]=this.l;a[4]=this.g;a[5]=this.j;a[6]=this.h;a[7]=this.V;a[8]=this.S;a[9]=this.T;a[10]=this.P;a[11]=this.s;a[12]=this.G;a[13]=this.M;a[14]=this.i;a[15]=this.Ya;a[16]=this.o;a[17]=this.aa;a[18]=this.D;a[19]=this.N;a[20]=this.error;a[21]=this.Y;return a};
q.H=function(a){this.C=a[0];this.fa=a[1];this.va=a[2];this.l=a[3];this.g=a[4];this.j=a[5];this.h=a[6];this.V=a[7];this.S=a[8];this.T=a[9];this.P=a[10];this.s=a[11];this.G=a[12];this.M=a[13];this.i=a[14];this.Ya=a[15];this.o=a[16];this.aa=a[17];this.D=a[18];this.N=a[19];this.error=a[20];this.Y=a[21]};function zd(a,b){a[b>>5]|=1<<(b&31)}function wd(a,b){a[b>>5]&=~(1<<(b&31))}function vd(a){for(var b=7;0<=b;b--){var c=a[b];if(c)return zb(c>>>0)|b<<5}return-1};function Ad(a){this.u=a;this.g=new Int32Array(24);this.o=new Int32Array(24);for(var b=0;b<this.g.length;b++)this.g[b]=65536;this.i=this.h=this.l=this.j=0;qb(a.B,4273995776,131072,c=>{c=c-4273995776|0;return 16<=c&&20>c?(c-=16,this.read(this.j)>>8*c&255):0},()=>{},c=>{c=c-4273995776|0;return 0===c?this.j:16===c?this.read(this.j):0},(c,d)=>{c=c-4273995776|0;0===c?this.j=d:16===c&&this.write(this.j,d)})}
function xd(a,b){var c=1<<b;if(0!==(a.h&c)){var d=a.g[b];if(0===(d&65536)){var e=d>>8&7;if(0===(d&32768))a.h&=~c;else if(a.g[b]|=16384,d&16384)return;0!==e&&1!==e||yd(a.u.A.Ge,d&255,e,32768===(d&32768));a.g[b]&=-4097}}}Ad.prototype.read=function(a){if(0===a)return this.l<<24;if(1===a)return 1507345;if(2===a)return this.l<<24;if(16<=a&&64>a){var b=a-16>>1;return a&1?this.o[b]:this.g[b]}return 0};
Ad.prototype.write=function(a,b){if(0===a)this.l=b>>>24&15;else if(1!==a&&2!==a&&16<=a&&64>a){var c=a-16>>1;a&1?this.o[c]=b&4278190080:(this.g[c]=b&110591|this.g[c]&-110592,xd(this,c))}};Ad.prototype.ha=function(){var a=[];a[0]=this.g;a[1]=this.o;a[2]=this.j;a[3]=this.l;a[4]=this.h;a[5]=this.i;return a};Ad.prototype.H=function(a){this.g=a[0];this.o=a[1];this.j=a[2];this.l=a[3];this.h=a[4];this.i=a[5]};function Bd(a){this.message=a}Bd.prototype=Error();const Cd={Uint8Array,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array,Float32Array,Float64Array};
function Dd(a,b){if("object"!==typeof a||null===a)return a;if(a instanceof Array)return a.map(e=>Dd(e,b));a.constructor===Object&&console.log(a);if(a.BYTES_PER_ELEMENT){var c=new Uint8Array(a.buffer,a.byteOffset,a.length*a.BYTES_PER_ELEMENT);return{__state_type__:a.constructor.name.replace("bound ",""),buffer_id:b.push(c)-1}}a=a.ha();c=[];for(var d=0;d<a.length;d++)c[d]=Dd(a[d],b);return c}
function Ed(a,b){if("object"!==typeof a||null===a)return a;if(a instanceof Array){for(let c=0;c<a.length;c++)a[c]=Ed(a[c],b);return a}return new Cd[a.__state_type__](b[a.buffer_id])}
tb.prototype.Cf=function(){for(var a=[],b=Dd(this,a),c=[],d=0,e=0;e<a.length;e++){var f=a[e].byteLength;c[e]={offset:d,length:f};d+=f;d=d+3&-4}e=JSON.stringify({buffer_infos:c,state:b});e=(new TextEncoder).encode(e);b=16+e.length;b=b+3&-4;f=b+d;d=new ArrayBuffer(f);var g=new Int32Array(d,0,4);(new Uint8Array(d,16,e.length)).set(e);b=new Uint8Array(d,b);g[0]=-2039052682;g[1]=6;g[2]=f;g[3]=e.length;for(e=0;e<a.length;e++)b.set(a[e],c[e].offset);return d};
tb.prototype.Ve=function(a){function b(p,x){const r=p.length;if(16>r)throw new Bd("Invalid length: "+r);p=new Int32Array(p.buffer,p.byteOffset,4);if(-2039052682!==p[0])throw new Bd("Invalid header: "+Gb(p[0]>>>0));if(6!==p[1])throw new Bd("Version mismatch: dump="+p[1]+" we=6");if(x&&p[2]!==r)throw new Bd("Length doesn't match header: real="+r+" header="+p[2]);return p[3]}function c(p){p=(new TextDecoder).decode(p);return JSON.parse(p)}a=new Uint8Array(a);if(4247762216===(new Uint32Array(a.buffer,
0,1))[0]){var d=this.ti(a.length);(new Uint8Array(this.Ja.buffer,this.wi(d),a.length)).set(a);var e=this.$e(d,16),f=new Uint8Array(this.Ja.buffer,e,16),g=b(f,!1);this.af(e,16);e=this.$e(d,g);f=new Uint8Array(this.Ja.buffer,e,g);f=c(f);this.af(e,g);e=f.state;var h=f.buffer_infos;f=[];g=16+g;for(var k of h){h=(g+3&-4)-g;if(1048576<k.length){var l=this.$e(d,h);this.af(l,h);l=new Uint8Array(k.length);f.push(l.buffer);for(var n=0;n<k.length;){const p=Math.min(k.length-n,1048576),x=this.$e(d,p);l.set(new Uint8Array(this.Ja.buffer,
x,p),n);this.af(x,p);n+=p}}else l=this.$e(d,h+k.length),n=l+h,f.push(this.Ja.buffer.slice(n,n+k.length)),this.af(l,h+k.length);g+=h+k.length}e=Ed(e,f);this.H(e);this.vi(d)}else{k=b(a,!0);if(0>k||k+12>=a.length)throw new Bd("Invalid info block length: "+k);e=c(a.subarray(16,16+k));d=e.state;e=e.buffer_infos;let p=16+k;p=p+3&-4;k=e.map(x=>{const r=p+x.offset;return a.buffer.slice(r,r+x.length)});d=Ed(d,k);this.H(d)}};function Fd(a,b,c){a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[4]=c[4],a[5]=c[5]);a[6]===b[0]&&a[7]===b[1]&&a[8]===b[2]&&a[9]===b[3]&&a[10]===b[4]&&a[11]===b[5]&&(a[6]=c[0],a[7]=c[1],a[8]=c[2],a[9]=c[3],a[10]=c[4],a[11]=c[5]);var d=a[12]<<8|a[13];if(2048===d){if(a=a.subarray(14),4===a[0]>>4&&17===a[9]&&(a=a.subarray(20),d=a[2]<<8|a[3],67===(a[0]<<8|a[1])||67===d)){const e=a.subarray(8);if(1669485411===(e[236]<<24|e[237]<<
16|e[238]<<8|e[239]))for(e[28]===b[0]&&e[29]===b[1]&&e[30]===b[2]&&e[31]===b[3]&&e[32]===b[4]&&e[33]===b[5]&&(e[28]=c[0],e[29]=c[1],e[30]=c[2],e[31]=c[3],e[32]=c[4],e[33]=c[5],a[6]=a[7]=0),d=240;d<e.length;){const f=e[d++];if(255===f)break;const g=e[d++];61===f&&1===e[d+0]&&e[d+1]===b[0]&&e[d+2]===b[1]&&e[d+3]===b[2]&&e[d+4]===b[3]&&e[d+5]===b[4]&&e[d+6]===b[5]&&(e[d+1]=c[0],e[d+2]=c[1],e[d+3]=c[2],e[d+4]=c[3],e[d+5]=c[4],e[d+6]=c[5],a[6]=a[7]=0);d+=g}}}else 2054===d&&(a=a.subarray(14),a[8]===b[0]&&
a[9]===b[1]&&a[10]===b[2]&&a[11]===b[3]&&a[12]===b[4]&&a[13]===b[5]&&(a[8]=c[0],a[9]=c[1],a[10]=c[2],a[11]=c[3],a[12]=c[4],a[13]=c[5]))}function Gd(a){return[a[0].toString(16).padStart(2,"0"),a[1].toString(16).padStart(2,"0"),a[2].toString(16).padStart(2,"0"),a[3].toString(16).padStart(2,"0"),a[4].toString(16).padStart(2,"0"),a[5].toString(16).padStart(2,"0")].join(":")}
function Hd(a,b,c,d){this.u=a;this.$a=a.A.$a;this.id=0;this.se=c;this.Mb=d;this.v=b;this.v.register("net"+this.id+"-receive",function(e){this.Ma(e)},this);this.port=768+256*this.id;this.name="ne2k";this.O=[236,16,41,128,3,1,0,0,0,0,0,2,0,0,0,0,this.port&255|1,this.port>>8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,0,17,0,0,184,254,0,0,0,0,0,0,0,0,0,1,0,0];this.Oa=(0===this.id?5:7+this.id)<<3;this.Ob=[{size:32}];this.Zf=this.Ya=0;this.ib=1;this.qg=this.ye=this.dc=this.ff=0;this.memory=
new Uint8Array(32768);this.ah=this.We=0;this.$g=1;this.ja=new Uint8Array([0,34,21,255*Math.random()|0,255*Math.random()|0,255*Math.random()|0]);this.v.send("net"+this.id+"-mac",Gd(this.ja));this.qd=Uint8Array.of(255,255,255,255,255,255,255,255);this.uf=null;for(b=0;6>b;b++)this.memory[b<<1]=this.memory[b<<1|1]=this.ja[b];this.memory[28]=this.memory[29]=87;this.memory[30]=this.memory[31]=87;this.Fa=0;this.Dc=64;this.rb=128;this.gd=this.kc=76;b=a.B;Q(b,this.port|0,this,function(){return this.ib});S(b,
this.port|0,this,function(e){this.ib=e;this.ib&1||(e&24&&0===this.dc&&Id(this,64),e&4&&(e=this.qg<<8,e=this.memory.subarray(e,e+this.ye),this.uf&&(e=new Uint8Array(e),Fd(e,this.uf,this.ja)),this.v.send("net"+this.id+"-send",e),this.v.send("eth-transmit-end",[e.length]),this.ib&=-5,Id(this,2)))});Q(b,this.port|13,this,function(){return 1===V(this)?this.qd[5]:0});Q(b,this.port|14,this,function(){return 1===V(this)?this.qd[6]:0},function(){return 0});Q(b,this.port|15,this,function(){return 1===V(this)?
this.qd[7]:0});Q(b,this.port|31,this,function(){Id(this,128);return 0});S(b,this.port|31,this,function(){});Q(b,this.port|1,this,function(){var e=V(this);return 0===e?this.Dc:1===e?this.ja[0]:2===e?this.Dc:0});S(b,this.port|1,this,function(e){var f=V(this);0===f?this.Dc=e:1===f&&(this.ja[0]=e)});Q(b,this.port|2,this,function(){var e=V(this);return 0===e?this.rb:1===e?this.ja[1]:2===e?this.rb:0});S(b,this.port|2,this,function(e){var f=V(this);0===f?(e>this.memory.length>>8&&(e=this.memory.length>>
8),this.rb=e):1===f&&(this.ja[1]=e)});Q(b,this.port|7,this,function(){var e=V(this);return 0===e?this.Ya:1===e?this.kc:0});S(b,this.port|7,this,function(e){var f=V(this);0===f?(this.Ya&=~e,Jd(this)):1===f&&(this.kc=e)});S(b,this.port|13,this,function(e){0===V(this)&&(this.ah=e)});S(b,this.port|14,this,function(e){0===V(this)&&(this.ff=e)});Q(b,this.port|10,this,function(){var e=V(this);return 0===e?80:1===e?this.qd[2]:0});S(b,this.port|10,this,function(e){0===V(this)&&(this.dc=this.dc&65280|e&255)});
Q(b,this.port|11,this,function(){var e=V(this);return 0===e?67:1===e?this.qd[3]:0});S(b,this.port|11,this,function(e){0===V(this)&&(this.dc=this.dc&255|e<<8&65280)});Q(b,this.port|8,this,function(){var e=V(this);return 0===e?this.Fa&255:1===e?this.qd[0]:0});S(b,this.port|8,this,function(e){0===V(this)&&(this.Fa=this.Fa&65280|e&255)});Q(b,this.port|9,this,function(){var e=V(this);return 0===e?this.Fa>>8&255:1===e?this.qd[1]:0});S(b,this.port|9,this,function(e){0===V(this)&&(this.Fa=this.Fa&255|e<<
8&65280)});S(b,this.port|15,this,function(e){0===V(this)&&(this.Zf=e,Jd(this))});Q(b,this.port|3,this,function(){var e=V(this);return 0===e?this.gd:1===e?this.ja[2]:0});S(b,this.port|3,this,function(e){var f=V(this);0===f?this.gd=e:1===f&&(this.ja[2]=e)});Q(b,this.port|4,this,function(){var e=V(this);return 0===e?this.$g:1===e?this.ja[3]:0});S(b,this.port|4,this,function(e){var f=V(this);0===f?this.qg=e:1===f&&(this.ja[3]=e)});Q(b,this.port|5,this,function(){var e=V(this);return 0===e?0:1===e?this.ja[4]:
0});S(b,this.port|5,this,function(e){var f=V(this);0===f?this.ye=this.ye&-256|e:1===f&&(this.ja[4]=e)});Q(b,this.port|6,this,function(){var e=V(this);return 0===e?0:1===e?this.ja[5]:0});S(b,this.port|6,this,function(e){var f=V(this);0===f?this.ye=this.ye&255|e<<8:1===f&&(this.ja[5]=e)});Q(b,this.port|12,this,function(){var e=V(this);return 0===e?9:1===e?this.qd[4]:0});S(b,this.port|12,this,function(e){0===V(this)&&(this.We=e)});Q(b,this.port|16,this,this.Si,this.lh,this.Ri);S(b,this.port|16,this,
this.mh,this.mh,this.Ti);ac(a.A.$a,this)}q=Hd.prototype;q.ha=function(){var a=[];a[0]=this.Ya;a[1]=this.Zf;a[2]=this.ib;a[3]=this.ff;a[4]=this.dc;a[5]=this.ye;a[6]=this.qg;a[7]=this.Fa;a[8]=this.Dc;a[9]=this.kc;a[10]=this.gd;a[11]=this.rb;a[12]=this.We;a[13]=this.ah;a[14]=this.$g;a[15]=this.ja;a[16]=this.memory;return a};
q.H=function(a){this.Ya=a[0];this.Zf=a[1];this.ib=a[2];this.ff=a[3];this.dc=a[4];this.ye=a[5];this.qg=a[6];this.Fa=a[7];this.Dc=a[8];this.kc=a[9];this.gd=a[10];this.rb=a[11];this.We=a[12];this.ah=a[13];this.$g=a[14];this.se?(this.ja=a[15],this.memory=a[16]):this.Mb&&(this.uf=a[15],this.memory=a[16]);this.v.send("net"+this.id+"-mac",Gd(this.ja))};function Id(a,b){a.Ya|=b;Jd(a)}function Jd(a){a.Zf&a.Ya?a.$a.Ta(a.Oa):uc(a.$a,a.Oa)}
function Kd(a,b){if(16>=a.Fa||16384<=a.Fa&&32768>a.Fa)a.memory[a.Fa]=b;a.Fa++;a.dc--;a.Fa>=a.rb<<8&&(a.Fa+=a.Dc-a.rb<<8);0===a.dc&&Id(a,64)}q.mh=function(a){Kd(this,a);this.ff&1&&Kd(this,a>>8)};q.Ti=function(a){Kd(this,a);Kd(this,a>>8);Kd(this,a>>16);Kd(this,a>>24)};function Ld(a){let b=0;32768>a.Fa&&(b=a.memory[a.Fa]);a.Fa++;a.dc--;a.Fa>=a.rb<<8&&(a.Fa+=a.Dc-a.rb<<8);0===a.dc&&Id(a,64);return b}q.Si=function(){return this.lh()&255};q.lh=function(){return this.ff&1?Ld(this)|Ld(this)<<8:Ld(this)};
q.Ri=function(){return Ld(this)|Ld(this)<<8|Ld(this)<<16|Ld(this)<<24};
q.Ma=function(a){if(!(this.ib&1)&&(this.v.send("eth-receive-end",[a.length]),this.We&16||this.We&4&&255===a[0]&&255===a[1]&&255===a[2]&&255===a[3]&&255===a[4]&&255===a[5]||!(this.We&8&&1===(a[0]&1)||a[0]!==this.ja[0]||a[1]!==this.ja[1]||a[2]!==this.ja[2]||a[3]!==this.ja[3]||a[4]!==this.ja[4]||a[5]!==this.ja[5]))){this.uf&&(a=new Uint8Array(a),Fd(a,this.ja,this.uf));var b=this.kc<<8,c=Math.max(60,a.length)+4,d=b+4,e=this.kc+1+(c>>8);if(!((this.gd>this.kc?this.gd-this.kc:this.rb-this.kc+this.gd-this.Dc)<
1+(c>>8)&&0!==this.gd)){if(b+c>this.rb<<8){var f=(this.rb<<8)-d;this.memory.set(a.subarray(0,f),d);this.memory.set(a.subarray(f),this.Dc<<8)}else this.memory.set(a,d),60>a.length&&this.memory.fill(0,d+a.length,d+60);e>=this.rb&&(e+=this.Dc-this.rb);this.memory[b]=1;this.memory[b+1]=e;this.memory[b+2]=c;this.memory[b+3]=c>>8;this.kc=e;Id(this,1)}}};function V(a){return a.ib>>6&3};var Md=new Uint8Array(256),Nd=[],Od=[],Td=[],Ud=new Uint8Array(256),Vd=[];
function Wd(a,b){this.u=a;this.v=b;this.Qa=new Ib(64);this.qa=new Ib(64);this.i=this.o=this.Wb=this.M=0;this.R=new Uint8Array(256);Xd(this);this.Me=!1;this.Ff=0;this.Zb=this.Yb=this.ce=this.Jc=!1;this.mc=[new Jb,new Jb];this.Gb=a.A.Gb;this.Hb=this.Ic=this.j=this.pc=this.l=this.D=0;this.qc=1;this.be=5;this.oc=!1;this.g=new ArrayBuffer(65536);this.aa=new Int8Array(this.g);this.C=new Uint8Array(this.g);this.Y=new Int16Array(this.g);this.fa=new Uint16Array(this.g);this.Va=new Ab(this.g);this.rc=this.s=
!1;this.yb=22050;b.send("dac-tell-sampling-rate",this.yb);this.h=1;this.P=170;this.N=0;this.Xd=new Uint8Array(256);this.G=new Ib(64);this.T=this.S=this.fb=0;this.jj=!1;this.ma=5;this.fe=new Uint8Array(16);a.B.ve(544,this,this.Qh,this.Sh,this.Cj,this.Ej);a.B.ve(904,this,this.Qh,this.Sh);a.B.ve(548,this,this.Gj,this.Ij);Q(a.B,550,this,this.Kj);Q(a.B,551,this,this.Mj);Q(a.B,552,this,this.Oj);Q(a.B,553,this,this.Qj);Q(a.B,554,this,this.Sj);Q(a.B,555,this,this.Uj);Q(a.B,556,this,this.Wj);Q(a.B,557,this,
this.Yj);a.B.ve(558,this,this.$j,this.bk);a.B.$c(544,this,this.Rh,this.Th,this.Dj,this.Fj);a.B.$c(904,this,this.Rh,this.Th);a.B.$c(548,this,this.Hj,this.Jj);S(a.B,550,this,this.Lj);S(a.B,551,this,this.Nj);a.B.$c(552,this,this.Pj,this.Rj);S(a.B,554,this,this.Tj);S(a.B,555,this,this.Vj);S(a.B,556,this,this.Xj);S(a.B,557,this,this.Zj);S(a.B,558,this,this.ak);S(a.B,559,this,this.ck);a.B.ve(816,this,this.Gk,this.Ik);a.B.$c(816,this,this.Hk,this.Jk);this.Gb.sg.push({Yf:this.va,Xg:this});b.register("dac-request-data",
function(){!this.pc||this.rc?Yd(this):Zd(this)},this);b.register("speaker-has-initialized",function(){Xd(this)},this);b.send("speaker-confirm-initialized");$d(this)}function $d(a){a.Qa.clear();a.qa.clear();a.Wb=0;a.o=0;a.Me=!1;a.Ff=0;a.Jc=!1;a.ce=!1;a.Yb=!1;a.Zb=!1;a.mc[0].clear();a.mc[1].clear();a.D=0;a.l=0;a.pc=0;a.j=0;a.Ic=0;a.Hb=0;a.oc=!1;a.C.fill(0);a.s=!1;a.rc=!1;a.P=170;a.N=0;a.yb=22050;a.h=1;ae(a,1);a.fe.fill(0);a.Xd.fill(0);a.Xd[5]=1;a.Xd[9]=248}q=Wd.prototype;
q.ha=function(){var a=[];a[2]=this.M;a[3]=this.Wb;a[4]=this.o;a[5]=this.i;a[6]=this.R;a[7]=this.Me;a[8]=this.Ff;a[9]=this.Jc;a[10]=this.ce;a[11]=this.Yb;a[12]=this.Zb;a[15]=this.D;a[16]=this.l;a[17]=this.pc;a[18]=this.j;a[19]=this.Ic;a[20]=this.Hb;a[21]=this.qc;a[22]=this.be;a[23]=this.oc;a[24]=this.C;a[25]=this.s;a[26]=this.rc;a[27]=this.yb;a[28]=this.h;a[29]=this.P;a[30]=this.N;a[31]=this.Xd;a[33]=this.mb;a[34]=this.ma;a[35]=this.fe;return a};
q.H=function(a){this.M=a[2];this.Wb=a[3];this.o=a[4];this.i=a[5];this.R=a[6];be(this);this.Me=a[7];this.Ff=a[8];this.Jc=a[9];this.ce=a[10];this.Yb=a[11];this.Zb=a[12];this.D=a[15];this.l=a[16];this.pc=a[17];this.j=a[18];this.Ic=a[19];this.Hb=a[20];this.qc=a[21];this.be=a[22];this.oc=a[23];this.C=a[24];this.s=a[25];this.rc=a[26];this.yb=a[27];this.h=a[28];this.P=a[29];this.N=a[30];this.Xd=a[31];this.mb=a[33];this.ma=a[34];this.fe=a[35];this.g=this.C.buffer;this.aa=new Int8Array(this.g);this.Y=new Int16Array(this.g);
this.fa=new Uint16Array(this.g);this.Va=new Ab(this.g);this.rc?this.v.send("dac-disable"):this.v.send("dac-enable")};q.Qh=function(){return 255};q.Sh=function(){return 255};q.Cj=function(){return 255};q.Ej=function(){return 255};q.Gj=function(){return this.i};q.Ij=function(){var a=this.i,b=Od[a];return b?b.call(this):this.R[a]};q.Kj=function(){return 255};q.Mj=function(){return 255};q.Oj=function(){return 255};q.Qj=function(){return 255};q.Sj=function(){this.qa.length&&(this.M=this.qa.shift());return this.M};
q.Uj=function(){return 255};q.Wj=function(){return 127};q.Yj=function(){return 255};q.$j=function(){this.fe[1]&&ae(this,1);return(this.qa.length&&!this.Jc)<<7|127};q.bk=function(){ae(this,2);return 0};q.Rh=function(){this.S=0};q.Th=function(a){var b=Vd[this.S];b||(b=this.V);b.call(this,a,0,this.S)};q.Dj=function(){this.T=0};q.Fj=function(a){var b=Vd[this.T];b||(b=this.V);b.call(this,a,1,this.T)};q.Hj=function(a){this.i=a};q.Jj=function(a){ce(this,this.i,a)};
q.Lj=function(a){this.Jc?this.Jc=!1:a&&$d(this);this.qa.clear();this.qa.push(170)};q.Nj=function(){};q.Pj=function(){};q.Rj=function(){};q.Tj=function(){};q.Vj=function(){};q.Xj=function(a){0===this.Wb?(this.Wb=a,this.Qa.clear(),this.o=Md[a]):this.Qa.push(a);this.Qa.length>=this.o&&(a=Nd[this.Wb],a||(a=this.qh),a.call(this),this.o=this.Wb=0,this.Qa.clear())};q.Zj=function(){};q.ak=function(){};q.ck=function(){};q.Gk=function(){this.G.length&&(this.fb=this.G.shift());return this.fb};q.Hk=function(){};
q.Ik=function(){return 0|128*!this.G.length};q.Jk=function(a){255===a&&(this.G.clear(),this.G.push(254))};q.qh=function(){};function W(a,b,c){c||(c=Wd.prototype.qh);for(var d=0;d<a.length;d++)Md[a[d]]=b,Nd[a[d]]=c}function de(a){for(var b=[],c=0;16>c;c++)b.push(a+c);return b}W([14],2,function(){this.Xd[this.Qa.shift()]=this.Qa.shift()});W([15],1,function(){this.qa.clear();this.qa.push(this.Xd[this.Qa.shift()])});
W([16],1,function(){var a=this.Qa.shift();a=ee(a/127.5+-1);this.mc[0].push(a);this.mc[1].push(a);this.v.send("dac-enable")});W([20,21],2,function(){this.Ic=1;this.Hb=this.qc;this.Jc=this.Yb=this.Zb=this.oc=!1;fe(this);ge(this)});W([22],2);W([23],2);W([28],0,function(){this.Ic=1;this.Hb=this.qc;this.oc=!0;this.Jc=this.Yb=this.Zb=!1;ge(this)});W([31],0);W([32],0,function(){this.qa.clear();this.qa.push(127)});W([36],2);W([44],0);W([48],0);W([49],0);W([52],0);W([53],0);W([54],0);W([55],0);W([56],0);
W([64],1,function(){he(this,1E6/(256-this.Qa.shift())/(this.ce?2:1))});W([65,66],2,function(){he(this,this.Qa.shift()<<8|this.Qa.shift())});W([72],2,function(){fe(this)});W([116],2);W([117],2);W([118],2);W([119],2);W([125],0);W([127],0);W([128],2);W([144],0,function(){this.Ic=1;this.Hb=this.qc;this.oc=!0;this.Zb=!1;this.Jc=!0;this.Yb=!1;ge(this)});W([145],0);W([152],0);W([153],0);W([160],0);W([168],0);
W(de(176),3,function(){if(!(this.Wb&8)){var a=this.Qa.shift();this.Ic=2;this.Hb=this.be;this.oc=!!(this.Wb&4);this.Zb=!!(a&16);this.ce=!!(a&32);this.Yb=!0;fe(this);ge(this)}});W(de(192),3,function(){if(!(this.Wb&8)){var a=this.Qa.shift();this.Ic=1;this.Hb=this.qc;this.oc=!!(this.Wb&4);this.Zb=!!(a&16);this.ce=!!(a&32);this.Yb=!1;fe(this);ge(this)}});W([208],0,function(){this.rc=!0;this.v.send("dac-disable")});W([209],0,function(){this.Me=!0});W([211],0,function(){this.Me=!1});
W([212],0,function(){this.rc=!1;this.v.send("dac-enable")});W([213],0,function(){this.rc=!0;this.v.send("dac-disable")});W([214],0,function(){this.rc=!1;this.v.send("dac-enable")});W([216],0,function(){this.qa.clear();this.qa.push(255*this.Me)});W([217,218],0,function(){this.oc=!1});W([224],1,function(){this.qa.clear();this.qa.push(~this.Qa.shift())});W([225],0,function(){this.qa.clear();this.qa.push(4);this.qa.push(5)});W([226],1);
W([227],0,function(){this.qa.clear();for(var a=0;44>a;a++)this.qa.push("COPYRIGHT (C) CREATIVE TECHNOLOGY LTD, 1992.".charCodeAt(a));this.qa.push(0)});W([228],1,function(){this.Ff=this.Qa.shift()});W([232],0,function(){this.qa.clear();this.qa.push(this.Ff)});W([242,243],0,function(){this.Ta()});var ie=new Uint8Array(256);ie[14]=255;ie[15]=7;ie[55]=56;W([249],1,function(){var a=this.Qa.shift();this.qa.clear();this.qa.push(ie[a])});function ce(a,b,c){(b=Td[b])&&b.call(a,c)}Wd.prototype.eb=function(){return this.R[this.i]};
Wd.prototype.hb=function(a){this.R[this.i]=a};function Xd(a){a.R[4]=204;a.R[34]=204;a.R[38]=204;a.R[40]=0;a.R[46]=0;a.R[10]=0;a.R[48]=192;a.R[49]=192;a.R[50]=192;a.R[51]=192;a.R[52]=192;a.R[53]=192;a.R[54]=0;a.R[55]=0;a.R[56]=0;a.R[57]=0;a.R[59]=0;a.R[60]=31;a.R[61]=21;a.R[62]=11;a.R[63]=0;a.R[64]=0;a.R[65]=0;a.R[66]=0;a.R[67]=0;a.R[68]=128;a.R[69]=128;a.R[70]=128;a.R[71]=128;be(a)}function be(a){for(var b=1;b<a.R.length;b++)Ud[b]||ce(a,b,a.R[b])}function je(a,b){b||(b=Wd.prototype.eb);Od[a]=b}
function ke(a,b){b||(b=Wd.prototype.hb);Td[a]=b}function le(a,b,c){Ud[a]=1;Od[a]=function(){return this.R[b]&240|this.R[c]>>>4};Td[a]=function(d){this.R[a]=d;var e=d<<4&240|this.R[c]&15;ce(this,b,d&240|this.R[b]&15);ce(this,c,e)}}function me(a,b,c){Od[a]=Wd.prototype.eb;Td[a]=function(d){this.R[a]=d;this.v.send("mixer-volume",[b,c,(d>>>2)-62])}}je(0,function(){Xd(this);return 0});ke(0);le(4,50,51);le(34,48,49);le(38,52,53);le(40,54,55);le(46,56,57);me(48,0,0);me(49,0,1);me(50,2,0);me(51,2,1);je(59);
ke(59,function(a){this.R[59]=a;this.v.send("mixer-volume",[1,2,6*(a>>>6)-18])});je(65);ke(65,function(a){this.R[65]=a;this.v.send("mixer-gain-left",6*(a>>>6))});je(66);ke(66,function(a){this.R[66]=a;this.v.send("mixer-gain-right",6*(a>>>6))});je(68);ke(68,function(a){this.R[68]=a;a>>>=3;this.v.send("mixer-treble-left",a-(16>a?14:16))});je(69);ke(69,function(a){this.R[69]=a;a>>>=3;this.v.send("mixer-treble-right",a-(16>a?14:16))});je(70);
ke(70,function(a){this.R[70]=a;a>>>=3;this.v.send("mixer-bass-right",a-(16>a?14:16))});je(71);ke(71,function(a){this.R[71]=a;a>>>=3;this.v.send("mixer-bass-right",a-(16>a?14:16))});je(128,function(){switch(this.ma){case 2:return 1;case 5:return 2;case 7:return 4;case 10:return 8;default:return 0}});ke(128,function(a){a&1&&(this.ma=2);a&2&&(this.ma=5);a&4&&(this.ma=7);a&8&&(this.ma=10)});
je(129,function(){var a=0;switch(this.qc){case 0:a|=1;break;case 1:a|=2;break;case 3:a|=8}switch(this.be){case 5:a|=32;break;case 6:a|=64;break;case 7:a|=128}return a});ke(129,function(a){a&1&&(this.qc=0);a&2&&(this.qc=1);a&8&&(this.qc=3);a&32&&(this.be=5);a&64&&(this.be=6);a&128&&(this.be=7)});je(130,function(){for(var a=32,b=0;16>b;b++)a|=b*this.fe[b];return a});Wd.prototype.V=function(){};function ne(a,b){b||(b=Wd.prototype.V);for(var c=0;c<a.length;c++)Vd[a[c]]=b}
function oe(a,b){for(var c=[];a<=b;a++)c.push(a);return c}var pe=new Uint8Array(32);pe[0]=0;pe[1]=1;pe[2]=2;pe[3]=3;pe[4]=4;pe[5]=5;pe[8]=6;pe[9]=7;pe[10]=8;pe[11]=9;pe[12]=10;pe[13]=11;pe[16]=12;pe[17]=13;pe[18]=14;pe[19]=15;pe[20]=16;pe[21]=17;ne([1],function(a,b){this.jj[b]=a&1});ne([2]);ne([3]);ne([4],function(){});ne([5],function(){});ne([8],function(){});ne(oe(32,53),function(){});ne(oe(64,85),function(){});ne(oe(96,117),function(){});ne(oe(128,149),function(){});ne(oe(160,168),function(){});
ne(oe(176,184),function(){});ne([189],function(){});ne(oe(192,200),function(){});ne(oe(224,245),function(){});function he(a,b){a.yb=b;a.v.send("dac-tell-sampling-rate",b)}function fe(a){a.D=1+(a.Qa.shift()<<0)+(a.Qa.shift()<<8)}function ge(a){a.h=1;a.Yb&&(a.h*=2);a.l=a.D*a.h;a.j=1024*a.h;a.j=Math.min(Math.max(a.l>>2&-4,32),a.j);a.s=!0;a.Gb.Gc[a.Hb]||a.va(a.Hb)}Wd.prototype.va=function(a){a===this.Hb&&this.s&&(this.s=!1,this.pc=this.l,this.rc=!1,this.v.send("dac-enable"))};
function Zd(a){var b=Math.min(a.pc,a.j),c=Math.floor(b/a.h);a.Gb.hf(a.Va,0,b,a.Hb,d=>{if(!d){d=a.Yb?32767.5:127.5;var e=a.Zb?0:-1,f=a.ce?1:2,g;a.Yb?g=a.Zb?a.Y:a.fa:g=a.Zb?a.aa:a.C;for(var h=0,k=0;k<c;k++)for(var l=ee(g[k]/d+e),n=0;n<f;n++)a.mc[h].push(l),h^=1;Yd(a);a.pc-=b;a.pc||(a.Ta(a.Ic),a.oc&&(a.pc=a.l))}})}function Yd(a){if(a.mc[0].length){var b=Kb(a.mc[0],a.mc[0].length),c=Kb(a.mc[1],a.mc[1].length);a.v.send("dac-send-data",[b,c],[b.buffer,c.buffer])}}
Wd.prototype.Ta=function(a){this.fe[a]=1;this.u.Wa(this.ma)};function ae(a,b){a.fe[b]=0;Rb(a.u,a.ma)}function ee(a){return-1*(-1>a)+1*(1<a)+(-1<=a&&1>=a)*a};function ca(a,b){this.u=a;this.$a=a.A.$a;this.Le=b.Le;this.O=[244,26,b.Le&255,b.Le>>8,7,5,16,0,1,0,2,0,0,0,0,0,1,168,0,0,0,16,191,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,b.pg&255,b.pg>>8,0,0,0,0,64,0,0,0,0,0,0,0,0,1,0,0];this.O=this.O.concat(Array(256-this.O.length).fill(0));this.Oa=b.Oa;this.Ob=[];this.name=b.name;this.i=this.s=0;this.o=new Uint32Array(4);this.h=new Uint32Array(4);for(var c of b.Je.Xf)this.o[c>>>5]|=1<<(c&31),this.h[c>>>5]|=1<<(c&31);b.Je.Xf.includes(32);this.C=!0;this.j=
0;this.G=!1;this.D=0;this.$=[];for(const d of b.Je.$)this.$.push(new qe(a,this,d));this.l=0;this.g=this.$[0];this.bc=0;c=[];c.push(re(this,b.Je));c.push(se(b.notification));c.push(te(this,b.bc));b.Tf&&(b=b.Tf,c.push.call(c,{type:4,Ie:3,port:b.jb,Hf:!1,offset:0,kf:new Uint8Array(0),dd:b.dd}));ue(this,c);ac(a.A.$a,this);this.reset()}
function re(a,b){return{type:1,Ie:0,port:b.jb,Hf:!1,offset:0,kf:new Uint8Array(0),dd:[{bytes:4,name:"device_feature_select",read:()=>a.s,write:c=>{a.s=c}},{bytes:4,name:"device_feature",read:()=>a.o[a.s]||0,write:()=>{}},{bytes:4,name:"driver_feature_select",read:()=>a.i,write:c=>{a.i=c}},{bytes:4,name:"driver_feature",read:()=>a.h[a.i]||0,write:c=>{const d=a.o[a.i];a.i<a.h.length&&(a.h[a.i]=c&d);a.C=a.C&&!(c&~d)}},{bytes:2,name:"msix_config",read:()=>65535,write:()=>{}},{bytes:2,name:"num_queues",
read:()=>a.$.length,write:()=>{}},{bytes:1,name:"device_status",read:()=>a.j,write:c=>{0===c&&a.reset();c&~a.j&4&&a.j&64&&(a.G=!0,a.j&4&&a.Ta(2));a.C||(c&=-9);a.j=c}},{bytes:1,name:"config_generation",read:()=>a.D,write:()=>{}},{bytes:2,name:"queue_select",read:()=>a.l,write:c=>{a.l=c;a.l<a.$.length?a.g=a.$[a.l]:a.g=null}},{bytes:2,name:"queue_size",read:()=>a.g?a.g.size:0,write:c=>{if(a.g){c&c-1&&(c=1<<zb(c-1)+1);c>a.g.bb&&(c=a.g.bb);var d=a.g;d.size=c;d.j=c-1}}},{bytes:2,name:"queue_msix_vector",
read:()=>65535,write:()=>{}},{bytes:2,name:"queue_enable",read:()=>a.g?a.g.enabled|0:0,write:c=>{a.g&&1===c&&ve(a.g)&&(a.g.enabled=!0)}},{bytes:2,name:"queue_notify_off",read:()=>a.g?a.g.qb:0,write:()=>{}},{bytes:4,name:"queue_desc (low dword)",read:()=>a.g?a.g.o:0,write:c=>{a.g&&(a.g.o=c)}},{bytes:4,name:"queue_desc (high dword)",read:()=>0,write:()=>{}},{bytes:4,name:"queue_avail (low dword)",read:()=>a.g?a.g.g:0,write:c=>{a.g&&(a.g.g=c)}},{bytes:4,name:"queue_avail (high dword)",read:()=>0,write:()=>
{}},{bytes:4,name:"queue_used (low dword)",read:()=>a.g?a.g.h:0,write:c=>{a.g&&(a.g.h=c)}},{bytes:4,name:"queue_used (high dword)",read:()=>0,write:()=>{}}]}}function se(a){const b=[];let c;c=a.Wg?0:2;for(const [d,e]of a.Cg.entries())b.push({bytes:2,name:"notify"+d,read:()=>65535,write:e||(()=>{})});return{type:2,Ie:1,port:a.jb,Hf:!1,offset:0,kf:new Uint8Array([c&255,c>>8&255,c>>16&255,c>>24]),dd:b}}
function te(a,b){return{type:3,Ie:2,port:b.jb,Hf:!1,offset:0,kf:new Uint8Array(0),dd:[{bytes:1,name:"isr_status",read:()=>{const c=a.bc;a.bc=0;uc(a.$a,a.Oa);return c},write:()=>{}}]}}
function ue(a,b){let c=a.O[52]=64;var d=c;for(const f of b){b=16+f.kf.length;d=c;c=d+b;var e=f.dd.reduce((g,h)=>g+h.bytes,0);e+=f.offset;e=16>e?16:1<<zb(e-1)+1;a.Ob[f.Ie]={size:e};a.O[d]=9;a.O[d+1]=c;a.O[d+2]=b;a.O[d+3]=f.type;a.O[d+4]=f.Ie;a.O[d+5]=0;a.O[d+6]=0;a.O[d+7]=0;a.O[d+8]=f.offset&255;a.O[d+9]=f.offset>>>8&255;a.O[d+10]=f.offset>>>16&255;a.O[d+11]=f.offset>>>24;a.O[d+12]=e&255;a.O[d+13]=e>>>8&255;a.O[d+14]=e>>>16&255;a.O[d+15]=e>>>24;for(const [g,h]of f.kf.entries())a.O[d+16+g]=h;d=16+4*
f.Ie;a.O[d]=f.port&254|!f.Hf;a.O[d+1]=f.port>>>8&255;a.O[d+2]=f.port>>>16&255;a.O[d+3]=f.port>>>24&255;d=f.port+f.offset;for(const g of f.dd){let h=g.read;b=g.write;if(!f.Hf){e=function(l){return h(l&-2)>>((l&1)<<3)&255};const k=function(l){return h(l&-4)>>((l&3)<<3)&255};switch(g.bytes){case 4:Q(a.u.B,d,a,k,void 0,h);S(a.u.B,d,a,void 0,void 0,b);break;case 2:Q(a.u.B,d,a,e,h);S(a.u.B,d,a,void 0,b);break;case 1:Q(a.u.B,d,a,h),S(a.u.B,d,a,b)}}d+=g.bytes}}a.O[c]=9;a.O[c+1]=0;a.O[c+2]=20;a.O[c+3]=5;a.O[c+
4]=0;a.O[c+5]=0;a.O[c+6]=0;a.O[c+7]=0;a.O[c+8]=0;a.O[c+9]=0;a.O[c+10]=0;a.O[c+11]=0;a.O[c+12]=0;a.O[c+13]=0;a.O[c+14]=0;a.O[c+15]=0;a.O[c+16]=0;a.O[c+17]=0;a.O[c+18]=0;a.O[c+19]=0}ca.prototype.ha=function(){let a=[];a[0]=this.s;a[1]=this.i;a[2]=this.o;a[3]=this.h;a[4]=this.C;a[5]=this.j;a[6]=this.G;a[7]=this.D;a[8]=this.bc;a[9]=this.l;return a=a.concat(this.$)};
ca.prototype.H=function(a){this.s=a[0];this.i=a[1];this.o=a[2];this.h=a[3];this.C=a[4];this.j=a[5];this.G=a[6];this.D=a[7];this.bc=a[8];this.l=a[9];let b=0;for(const c of a.slice(10))this.$[b].H(c),b++;this.g=this.$[this.l]||null};ca.prototype.reset=function(){this.i=this.s=0;this.h.set(this.o);this.C=!0;this.l=this.j=0;this.g=this.$[0];for(const a of this.$)a.reset();this.G=!1;this.bc=this.D=0;uc(this.$a,this.Oa)};ca.prototype.Ta=function(a){this.bc|=a;this.$a.Ta(this.Oa)};
function qe(a,b,c){this.u=a;this.W=b;this.bb=this.size=c.bb;this.j=this.size-1;this.enabled=!1;this.qb=c.qb;this.l=this.h=this.i=this.g=this.o=0;this.reset()}qe.prototype.ha=function(){const a=[];a[0]=this.size;a[1]=this.bb;a[2]=this.enabled;a[3]=this.qb;a[4]=this.o;a[5]=this.g;a[6]=this.i;a[7]=this.h;a[8]=this.l;return a};qe.prototype.H=function(a){this.size=a[0];this.bb=a[1];this.enabled=a[2];this.qb=a[3];this.o=a[4];this.g=a[5];this.i=a[6];this.h=a[7];this.l=a[8];this.j=this.size-1};
qe.prototype.reset=function(){this.enabled=!1;this.l=this.h=this.i=this.g=this.o=0;var a=this.bb;this.size=a;this.j=a-1};function ve(a){return a.o&&a.g&&a.h}function we(a){return a.u.ab(a.g+2)-a.i&a.j}function ea(a){return(a.u.ab(a.g+2)&a.j)!==a.i}function fa(a){ea(a);var b=a.u.ab(a.g+4+2*a.i);b=new xe(a,b);a.i=a.i+1&a.j;return b}function ma(a,b){const c=a.u.ab(a.h+2)+a.l&a.j;var d=b.i;a.u.Ba(a.h+4+8*c,b.C);a.u.Ba(a.h+8+8*c,d);a.l++}
function na(a){if(0!==a.l){var b=a.u.ab(a.h+2)+a.l&65535;a.u.Lf(a.h+2,b);a.l=0;0<(a.W.h[0]&536870912)?(a.u.ab(a.g+4+2*a.size),a.W.Ta(1)):~a.u.ab(a.g)&1&&a.W.Ta(1)}}
function xe(a,b){this.u=a.u;this.W=a.W;this.C=b;this.l=[];this.he=this.g=this.j=0;this.s=[];this.i=this.h=this.o=0;let c=a.o;var d=b;b=0;let e=a.size,f=!1;const g=0<(this.W.h[0]&268435456);do{var h=a,k=c;h={ug:h.u.h(k+16*d),ol:h.u.h(k+16*d+4),Qe:h.u.h(k+16*d+8),flags:h.u.ab(k+16*d+12),next:h.u.ab(k+16*d+14)};if(g&&h.flags&4)c=h.ug,b=d=0,e=h.Qe/16;else{if(h.flags&2)f=!0,this.s.push(h);else{if(f)break;this.l.push(h);this.he+=h.Qe}b++;if(b>e)break;if(h.flags&1)d=h.next;else break}}while(1)}
function oa(a,b){let c=0,d=b.length;for(;d&&a.j!==a.l.length;){var e=a.l[a.j],f=e.ug+a.g;let l=e.Qe-a.g;l>d?(l=d,a.g+=d):(a.j++,a.g=0);e=b;var g=e.set,h=a.u,k=l;k&&(h.$f(f),h.$f(f+k-1));g.call(e,h.kb.subarray(f,f+k),c);c+=l;d-=l}}function ka(a,b){let c=0,d=b.length;for(;d&&a.o!==a.s.length;){var e=a.s[a.o];const f=e.ug+a.h;e=e.Qe-a.h;e>d?(e=d,a.h+=d):(a.o++,a.h=0);lc(a.u,b.subarray(c,c+e),f);c+=e;d-=e}a.i+=c};function ye(a,b){this.v=b;this.rows=25;this.cols=80;this.ports=4;b=[{bb:16,qb:0},{bb:16,qb:1},{bb:16,qb:2},{bb:16,qb:3}];for(let c=1;c<this.ports;++c)b.push({bb:16,qb:0}),b.push({bb:8,qb:1});this.W=new ca(a,{name:"virtio-console",Oa:56,Le:4163,pg:3,Je:{jb:47104,$:b,Xf:[0,1,32],Gh:()=>{}},notification:{jb:47360,Wg:!1,Cg:[c=>{for(c=this.W.$[c];we(c)>c.size-2;)fa(c)},c=>{const d=this.W.$[c],e=3<c?c-3>>1:0;for(;ea(d);){const f=fa(d),g=new Uint8Array(f.he);oa(f,g);this.v.send("virtio-console"+e+"-output-bytes",
g);ze(this,c,f)}},c=>{if(2===c)for(c=this.W.$[c];we(c)>c.size-2;)fa(c)},c=>{if(3===c)for(var d=this.W.$[c];ea(d);){var e=fa(d),f=new Uint8Array(e.he);oa(e,f);var g=J(["w","h","h"],f,{offset:0});f=g[0];g=g[1];ze(this,c,e);switch(g){case 0:for(f=0;f<this.ports;++f)Ae(this,f,1,0);break;case 3:ze(this,c,e);Ae(this,f,4,1);{g=f;var h="virtio-"+f;e=fa(this.W.$[2]);h=(new TextEncoder).encode(h);const k=new Uint8Array(h.length+9);w(["w","h","h"],[g,7,1],k,0);for(g=0;g<h.length;++g)k[g+8]=h[g];k[8+h.length]=
0;this.ed(2,e,k)}Ae(this,f,6,1);break;case 6:ze(this,c,e);0===f&&Be(this,f);break;default:return}}}]},bc:{jb:46848},Tf:{jb:46592,dd:[{bytes:2,name:"cols",read:()=>this.cols,write:()=>{}},{bytes:2,name:"rows",read:()=>this.rows,write:()=>{}},{bytes:4,name:"max_nr_ports",read:()=>this.ports,write:()=>{}},{bytes:4,name:"emerg_wr",read:()=>0,write:()=>{}}]}});for(let c=0;c<this.ports;++c){const d=0===c?0:2*c+2;this.v.register("virtio-console"+c+"-input-bytes",function(e){var f=this.W.$[d];ea(f)&&(f=fa(f),
this.ed(d,f,new Uint8Array(e)))},this);this.v.register("virtio-console"+c+"-resize",function(e){this.cols=e[0];this.rows=e[1];ve(this.W.$[2])&&ea(this.W.$[2])&&Be(this,c)},this)}}function Be(a,b){const c=fa(a.W.$[2]),d=new Uint8Array(12);w(["w","h","h","h","h"],[b,5,0,a.rows,a.cols],d,0);a.ed(2,c,d)}ye.prototype.ha=function(){const a=[];a[0]=this.W;a[1]=this.rows;a[2]=this.cols;a[3]=this.ports;return a};ye.prototype.H=function(a){this.W.H(a[0]);this.rows=a[1];this.cols=a[2];this.ports=a[3]};
ye.prototype.reset=function(){this.W.reset()};function Ae(a,b,c,d){const e=fa(a.W.$[2]),f=new Uint8Array(8);w(["w","h","h"],[b,c,d],f,0);a.ed(2,e,f)}ye.prototype.ed=function(a,b,c){ka(b,c);ma(this.W.$[a],b);na(this.W.$[a])};function ze(a,b,c){ka(c,new Uint8Array(0));ma(a.W.$[b],c);na(a.W.$[b])};function Ce(a,b,c){this.v=b;this.id=a.A.Za?1:0;this.status=1;this.se=c;this.ja=new Uint8Array([0,34,21,255*Math.random()|0,255*Math.random()|0,255*Math.random()|0]);this.v.send("net"+this.id+"-mac",Gd(this.ja));b=[];for(c=0;1>c;++c)b.push({bb:32,qb:0}),b.push({bb:32,qb:1});b.push({bb:16,qb:2});this.W=new ca(a,{name:"virtio-net",Oa:80,Le:4161,pg:1,Je:{jb:51200,$:b,Xf:[5,16,22,3,17,23,32],Gh:()=>{}},notification:{jb:51456,Wg:!1,Cg:[d=>{d=this.W.$[d];var e=d.u.ab(d.g+4+2*d.i);e=new xe(d,e);d.i=d.i+1&
d.j;ma(this.W.$[0],e);na(this.W.$[0])},d=>{const e=this.W.$[d];for(;ea(e);){const f=fa(e),g=new Uint8Array(f.he);oa(f,g);this.v.send("net"+this.id+"-send",g.subarray(12));this.v.send("eth-transmit-end",[g.length-12]);ma(this.W.$[d],f)}na(this.W.$[d])},d=>{if(2===d)for(var e=this.W.$[d];ea(e);){const f=fa(e),g=new Uint8Array(f.he);oa(f,g);const h=J(["b","b"],g,{offset:0});switch(h[0]<<8|h[1]){case 1024:J(["h"],g,{offset:2});this.ed(d,f,new Uint8Array([0]));break;case 257:this.ja=g.subarray(2,8);this.ed(d,
f,new Uint8Array([0]));this.v.send("net"+this.id+"-mac",Gd(this.ja));break;default:this.ed(d,f,new Uint8Array([1]));return}}}]},bc:{jb:50944},Tf:{jb:50688,dd:[0,1,2,3,4,5].map((d,e)=>({bytes:1,name:"mac_"+e,read:()=>this.ja[e],write:()=>{}})).concat([{bytes:2,name:"status",read:()=>this.status,write:()=>{}},{bytes:2,name:"max_pairs",read:()=>1,write:()=>{}},{bytes:2,name:"mtu",read:()=>1500,write:()=>{}}])}});this.v.register("net"+this.id+"-receive",d=>{this.v.send("eth-receive-end",[d.length]);const e=
new Uint8Array(12+d.byteLength);(new DataView(e.buffer,e.byteOffset,e.byteLength)).setInt16(10,1);e.set(d,12);d=this.W.$[0];ea(d)?(d=fa(d),ka(d,e),ma(this.W.$[0],d),na(this.W.$[0])):console.log("No buffer to write into!")},this)}Ce.prototype.ha=function(){const a=[];a[0]=this.W;a[1]=this.id;this.se&&(this.ja=a[2],this.v.send("net"+this.id+"-mac",Gd(this.ja)));return a};Ce.prototype.H=function(a){this.W.H(a[0])};Ce.prototype.reset=function(){this.W.reset()};
Ce.prototype.ed=function(a,b,c){ka(b,c);ma(this.W.$[a],b);na(this.W.$[a])};function De(){this.sf={};this.g=void 0}De.prototype.register=function(a,b,c){var d=this.sf[a];void 0===d&&(d=this.sf[a]=[]);d.push({Yf:b,Xg:c})};De.prototype.unregister=function(a,b){var c=this.sf[a];void 0!==c&&(this.sf[a]=c.filter(function(d){return d.Yf!==b}))};De.prototype.send=function(a,b){if(this.g&&(a=this.g.sf[a],void 0!==a))for(var c=0;c<a.length;c++){var d=a[c];d.Yf.call(d.Xg,b)}};function Ee(){var a=new De,b=new De;a.g=b;b.g=a;return[a,b]};function Fe(){};function tb(a,b,c){this.yi=c;this.Ka=b;Ge(this);b=Object.create(null);b.m=this.Ka.exports.memory;for(var d of Object.keys(this.Ka.exports))d.startsWith("_")||d.startsWith("zstd")||d.endsWith("_js")||(b[d]=this.Ka.exports[d]);this.Md=b;this.Ja=d=this.Ka.exports.memory;this.F=U(Uint32Array,d,812,1);this.kb=new Uint8Array(0);this.vc=new Int32Array(this.kb.buffer);this.s=U(Uint8Array,d,724,8);this.eb=U(Int32Array,d,736,8);this.Va=U(Uint32Array,d,768,8);this.o=U(Uint8Array,d,512,8);this.fa=U(Int32Array,
d,800,1);this.ic=U(Int32Array,d,564,1);this.hc=U(Int32Array,d,568,1);this.Ub=U(Int32Array,d,572,1);this.Tb=U(Int32Array,d,576,1);this.Zc=U(Int32Array,d,1128,1);this.Lc=U(Uint32Array,d,540,8);this.ib=U(Int32Array,d,580,8);this.zb=U(Uint8Array,d,612,1);this.Y=U(Int32Array,d,804,1);this.hb=U(Int32Array,d,808,1);this.jc=U(Uint8Array,d,616,1);this.tc=U(Int32Array,d,620,1);this.Bb=U(Int32Array,d,624,1);this.Wc=U(Int32Array,d,636,1);this.Yc=U(Int32Array,d,640,1);this.Xc=U(Int32Array,d,644,1);this.Nc=U(Int32Array,
d,648,1);this.flags=U(Int32Array,d,120,1);this.Cb=U(Int32Array,d,100,1);this.sc=U(Int32Array,d,96,1);this.lc=U(Int32Array,d,104,1);U(Int32Array,d,112,1);this.Ed=U(Uint32Array,d,960,2);this.A={};this.V=U(Int32Array,d,556,1);this.Qc=U(Int32Array,d,560,1);U(Uint8Array,d,548,1);this.mb=U(Uint8Array,d,552,1);this.g=[];this.j=[];this.aa=[];this.i=[];this.ub={Eg:null,Fd:null};this.qj=U(Uint32Array,d,664,1);this.l=U(Int32Array,d,64,8);this.Db=U(Int32Array,d,1152,32);this.S=U(Uint8Array,d,816,1);this.S[0]=
255;this.T=U(Uint8Array,d,1032,1);this.T[0]=0;this.C=U(Uint16Array,d,1036,1);this.C[0]=895;this.Hd=U(Uint16Array,d,1040,1);this.Hd[0]=0;this.M=U(Int32Array,d,1048,1);this.M[0]=0;this.N=U(Int32Array,d,1052,1);this.N[0]=0;this.P=U(Int32Array,d,1044,1);this.P[0]=0;this.D=U(Int32Array,d,1056,1);this.D[0]=0;this.G=U(Int32Array,d,1060,1);this.G[0]=0;this.Sc=U(Int32Array,d,832,32);U(Int32Array,d,824,1);this.fb=U(Uint16Array,d,668,8);this.Ab=U(Int32Array,d,684,8);this.Rc=U(Int32Array,d,968,8);this.Di=U(Uint32Array,
d,716,1);this.Ci=U(Uint32Array,d,720,1);this.wb=[];this.Bg=0;this.rd=[];this.B=void 0;this.v=a;this.Tc(0,0);He(this)}
function Ge(a){const b=c=>{const d=a.Ka.exports[c];console.assert(d,"Missing import: "+c);return d};a.va=b("reset_cpu");b("getiopl");b("get_eflags");a.Kd=b("handle_irqs");a.Nd=b("main_loop");a.Mf=b("set_jit_config");a.ue=b("read8");a.ab=b("read16");a.h=b("read32s");a.tg=b("write8");a.Lf=b("write16");a.Ba=b("write32");a.$f=b("in_mapped_range");b("fpu_load_tag_word");b("fpu_load_status_word");b("fpu_get_sti_f64");b("translate_address_system_read_js");a.Jd=b("get_seg_cs");b("get_real_eip");b("clear_tlb");
a.Id=b("full_clear_tlb");a.ad=b("update_state_flags");a.Tc=b("set_tsc");a.zi=b("store_current_tsc");a.bf=b("set_cpuid_level");a.Pd=b("pic_set_irq");a.Od=b("pic_clear_irq");a.Ld=b("jit_clear_cache_js");a.rj=b("jit_dirty_cache");a.Dd=b("codegen_finalize_finished");a.Bd=b("allocate_memory");a.Fi=b("zero_memory");a.Bi=b("svga_allocate_memory");a.Ai=b("svga_allocate_dest_buffer");a.Ei=b("svga_fill_pixel_buffer");a.Vc=b("svga_mark_dirty");a.Vb=b("get_pic_addr_master");a.Sb=b("get_pic_addr_slave");a.ti=
b("zstd_create_ctx");a.wi=b("zstd_get_src_ptr");a.vi=b("zstd_free_ctx");a.$e=b("zstd_read");a.af=b("zstd_read_free");a.Qd=b("port20_read");a.Sd=b("port21_read");a.Ce=b("portA0_read");a.Ee=b("portA1_read");a.Rd=b("port20_write");a.Td=b("port21_write");a.De=b("portA0_write");a.Fe=b("portA1_write");a.Ud=b("port4D0_read");a.Wd=b("port4D1_read");a.Vd=b("port4D0_write");a.Be=b("port4D1_write")}
tb.prototype.ha=function(){var a=[];a[0]=this.F[0];a[1]=new Uint8Array([...this.s,...this.o]);a[2]=this.eb;a[3]=this.Va;a[4]=this.fa[0];a[5]=this.hc[0];a[6]=this.ic[0];a[7]=this.Tb[0];a[8]=this.Ub[0];a[9]=this.Lc[0];a[10]=this.ib;a[11]=this.zb[0];a[13]=this.Y[0];a[16]=this.hb[0];a[17]=this.jc[0];a[18]=this.tc[0];a[19]=this.Bb[0];a[22]=this.Wc[0];a[23]=this.Xc[0];a[24]=this.Yc[0];a[25]=this.Nc[0];a[26]=this.flags[0];a[27]=this.Cb[0];a[28]=this.lc[0];a[30]=this.sc[0];a[37]=this.V[0];a[38]=this.Qc[0];
a[39]=this.l;a[40]=this.fb;a[41]=this.Ab;a[42]=this.Rc;this.zi();a[43]=this.Ed;a[45]=this.A.Jf;a[46]=this.A.Ge;a[47]=this.A.zd;a[48]=this.A.$a;a[49]=this.A.Gb;a[50]=this.A.ua;a[52]=this.A.Fd;a[53]=this.A.Ng;a[54]=this.A.bh;a[55]=this.A.ee;a[56]=this.A.X;a[57]=this.A.J;a[58]=this.A.ig;a[59]=this.A.Za;var b=new Uint8Array(this.Ja.buffer,this.Vb(),13);var c=new Uint8Array(this.Ja.buffer,this.Sb(),13),d=[],e=[];d[0]=b[0];d[1]=b[1];d[2]=b[2];d[3]=b[3];d[4]=b[4];d[5]=e;d[6]=b[6];d[7]=b[7];d[8]=b[8];d[9]=
b[9];d[10]=b[10];d[11]=b[11];d[12]=b[12];e[0]=c[0];e[1]=c[1];e[2]=c[2];e[3]=c[3];e[4]=c[4];e[5]=null;e[6]=c[6];e[7]=c[7];e[8]=c[8];e[9]=c[9];e[10]=c[10];e[11]=c[11];e[12]=c[12];b=d;a[60]=b;a[61]=this.A.Qg;a[62]=this.wb;a[63]=this.A.nd;a[64]=this.Zc[0];a[66]=this.Sc;a[67]=this.Db;a[68]=this.S[0];a[69]=this.T[0];a[70]=this.C[0];a[71]=this.M[0];a[72]=this.N[0];a[73]=this.D[0];a[74]=this.G[0];a[75]=this.P[0];c=this.kb.length>>12;b=[];for(d=0;d<c;d++){e=d<<12;e=this.vc.subarray(e>>2,e+4096>>2);let h=!0;
for(let k=0;k<e.length;k++)if(0!==e[k]){h=!1;break}h||b.push(d)}c=new Lb(c);d=new Uint8Array(b.length<<12);for(const [h,k]of b.entries())c.set(k,1),b=k<<12,d.set(this.kb.subarray(b,b+4096),h<<12);b={Ii:c,wj:d};const {wj:f,Ii:g}=b;a[77]=f;a[78]=new Uint8Array(g.ac());a[79]=this.A.Xe;a[80]=this.A.Ye;a[81]=this.A.Ze;a[82]=this.A.Gd;a[83]=this.A.Ae;return a};
tb.prototype.H=function(a){this.F[0]=a[0];this.kb.length!==this.F[0]&&console.warn("Note: Memory size mismatch. we="+this.kb.length+" state="+this.F[0]);8===a[1].length?(this.s.set(a[1]),this.o.fill(242),this.o[1]=250):16===a[1].length&&(this.s.set(a[1].subarray(0,8)),this.o.set(a[1].subarray(8,16)));this.eb.set(a[2]);this.Va.set(a[3]);this.fa[0]=a[4];this.hc[0]=a[5];this.ic[0]=a[6];this.Tb[0]=a[7];this.Ub[0]=a[8];this.Lc[0]=a[9];this.ib.set(a[10]);this.zb[0]=a[11];this.Y[0]=a[13];this.hb[0]=a[16];
this.jc[0]=a[17];this.tc[0]=a[18];this.Bb[0]=a[19];this.Wc[0]=a[22];this.Xc[0]=a[23];this.Yc[0]=a[24];this.Nc[0]=a[25];this.flags[0]=a[26];this.Cb[0]=a[27];this.lc[0]=a[28];this.sc[0]=a[30];this.V[0]=a[37];this.Qc[0]=a[38];this.l.set(a[39]);this.fb.set(a[40]);this.Ab.set(a[41]);a[42]&&this.Rc.set(a[42]);this.Tc(a[43][0],a[43][1]);this.A.Jf&&this.A.Jf.H(a[45]);this.A.Ge&&this.A.Ge.H(a[46]);this.A.zd&&this.A.zd.H(a[47]);this.A.$a&&this.A.$a.H(a[48]);this.A.Gb&&this.A.Gb.H(a[49]);this.A.ua&&this.A.ua.H(a[50]);
this.A.Fd&&this.A.Fd.H(a[52]);this.A.Ng&&this.A.Ng.H(a[53]);this.A.bh&&this.A.bh.H(a[54]);this.A.ee&&this.A.ee.H(a[55]);this.A.X&&this.A.X.H(a[56]);this.A.J&&this.A.J.H(a[57]);this.A.ig&&this.A.ig.H(a[58]);this.A.Za&&this.A.Za.H(a[59]);var b=a[60],c=new Uint8Array(this.Ja.buffer,this.Vb(),13),d=new Uint8Array(this.Ja.buffer,this.Sb(),13);c[0]=b[0];c[1]=b[1];c[2]=b[2];c[3]=b[3];c[4]=b[4];var e=b[5];c[6]=b[6];c[7]=b[7];c[8]=b[8];c[9]=b[9];c[10]=b[10];c[11]=b[11];c[12]=b[12];d[0]=e[0];d[1]=e[1];d[2]=
e[2];d[3]=e[3];d[4]=e[4];d[6]=e[6];d[7]=e[7];d[8]=e[8];d[9]=e[9];d[10]=e[10];d[11]=e[11];d[12]=e[12];this.A.Qg&&this.A.Qg.H(a[61]);this.A.Xe&&this.A.Xe.H(a[79]);this.A.Ye&&this.A.Ye.H(a[80]);this.A.Ze&&this.A.Ze.H(a[81]);this.A.Gd&&this.A.Gd.H(a[82]);this.A.Ae&&this.A.Ae.H(a[83]);this.wb=a[62];this.A.nd&&this.A.nd.H(a[63]);this.Zc[0]=a[64];this.Sc.set(a[66]);this.Db.set(a[67]);this.S[0]=a[68];this.T[0]=a[69];this.C[0]=a[70];this.M[0]=a[71];this.N[0]=a[72];this.D[0]=a[73];this.G[0]=a[74];this.P[0]=
a[75];b=new Lb(a[78].buffer);a=a[77];this.Fi(this.F[0]);c=this.F[0]>>12;d=0;for(e=0;e<c;e++)if(b.get(e)){const f=d<<12;this.kb.set(a.subarray(f,f+4096),e<<12);d++}this.ad();this.Id();this.Ld()};function tc(a){a.va();a.wb=[];a.A.Jf&&a.A.Jf.reset();a.A.Gd&&a.A.Gd.reset();a.A.Ae&&a.A.Ae.reset();xb(a)}
function Ie(a,b,c){b<c?b=c:0>(b|0)&&(b=Math.pow(2,31)-131072);b=(b-1|131071)+1|0;console.assert(0===a.F[0],"Expected uninitialised memory");a.F[0]=b;c=a.Bd(b);a.kb=U(Uint8Array,a.Ja,c,b);a.vc=U(Uint32Array,a.Ja,c,b>>2)}
tb.prototype.Kb=function(a,b){Ie(this,a.F||67108864,a.Lb?67108864:1048576);a.gf&&this.Mf(0,1);a.jd&&this.bf(a.jd);this.mb[0]=+a.ua;this.va();var c=new ob(this);this.B=c;this.ub.Eg=a.ub;this.ub.Fd=a.If;xb(this);if(a.vb){const e=Je(this.kb,a.vb,a.Lb,a.Fb||"");e&&this.rd.push(e)}Q(c,179,this,function(){return 0});var d=0;Q(c,146,this,function(){return d});S(c,146,this,function(e){d=e});Q(c,1297,this,function(){return this.Bg<this.wb.length?this.wb[this.Bg++]:0});S(c,1296,this,void 0,function(e){function f(k){return new Uint8Array(Int32Array.of(k).buffer)}
function g(k){return k>>8|k<<8&65280}function h(k){return k<<24|k<<8&16711680|k>>8&65280|k>>>24}this.Bg=0;if(0===e)this.wb=f(1431127377);else if(1===e)this.wb=f(0);else if(3===e)this.wb=f(this.F[0]);else if(5===e)this.wb=f(1);else if(15===e)this.wb=f(1);else if(13===e)this.wb=new Uint8Array(16);else if(25===e){e=new Int32Array(4+64*this.rd.length);const k=new Uint8Array(e.buffer);e[0]=h(this.rd.length);for(let l=0;l<this.rd.length;l++){const {name:n,data:p}=this.rd[l],x=4+64*l;e[x>>2]=h(p.length);
e[x+4>>2]=g(49152+l);for(let r=0;r<n.length;r++)k[x+8+r]=n.charCodeAt(r)}this.wb=k}else this.wb=32768<=e&&49152>e?f(0):49152<=e&&e-49152<this.rd.length?this.rd[e-49152].data:f(0)});Q(c,32,this,this.Qd);Q(c,33,this,this.Sd);Q(c,160,this,this.Ce);Q(c,161,this,this.Ee);S(c,32,this,this.Rd);S(c,33,this,this.Td);S(c,160,this,this.De);S(c,161,this,this.Fe);Q(c,1232,this,this.Ud);Q(c,1233,this,this.Wd);S(c,1232,this,this.Vd);S(c,1233,this,this.Be);this.A={};a.sj&&(this.A.$a=new pc(this),this.mb[0]&&(this.A.nd=
new Ad(this),this.A.Ge=new td(this),this.A.ua=new rd(this)),this.A.zd=new id(this),Ke(this,this.A.zd,a),this.A.Gb=new yc(this),this.A.Fd=new Kc(this,b,a.screen,a.oa||8388608),this.A.Ng=new ed(this,b),this.A.bh=new ld(this,1016,b),a.Xe&&(this.A.Xe=new ld(this,760,b)),a.Ye&&(this.A.Ye=new ld(this,1E3,b)),a.Ze&&(this.A.Ze=new ld(this,744,b)),this.A.ee=new vc(this,a.U),c=0,a.J&&(this.A.J=new Pb(this,a.J,a.Mc,!1,c++,b)),a.X&&(this.A.X=new Pb(this,a.X,void 0,!0,c++,b)),this.A.ig=new Dc(this,b),"ne2k"===
a.Re.type?this.A.Za=new Hd(this,b,a.se,a.Mb):"virtio"===a.Re.type&&(this.A.Ae=new Ce(this,b,a.se)),a.uc&&(this.A.Jf=new aa(a.uc,this,b)),a.Gd&&(this.A.Gd=new ye(this,b)),this.A.Qg=new Wd(this,b));a.Nb&&(a=Le(this,a.Nb,a.Lb,a.Fb))&&(this.ub.Eg?this.rd.push(a):this.l[0]=rb(this.B,244))};
function Le(a,b,c,d){if(8192>b.byteLength){var e=new Int32Array(2048);(new Uint8Array(e.buffer)).set(new Uint8Array(b))}else e=new Int32Array(b,0,2048);for(var f=0;8192>f;f+=4){if(464367618===e[f>>2]){var g=e[f+4>>2];if(464367618+g+e[f+8>>2]|0)continue}else continue;var h=a;Q(a.B,244,a,function(){return 0},function(){return 0},function(){var n=31860,p=0;if(d){p|=4;h.Ba(31760,n);d+="\x00";var x=(new TextEncoder).encode(d);lc(h,x,n);n+=x.length}if(g&2){p|=64;x=0;h.Ba(31788,0);h.Ba(31792,n);var r=0;
var t=!1;for(let m=0;4294967296>m;m+=131072)t&&void 0!==h.g[m>>>17]?(h.Ba(n,20),h.Ba(n+4,r),h.Ba(n+8,0),h.Ba(n+12,m-r),h.Ba(n+16,0),h.Ba(n+20,1),n+=24,x+=24,t=!1):t||void 0!==h.g[m>>>17]||(r=m,t=!0);h.Ba(31788,x)}h.Ba(31744,p);x=p=0;if(g&65536){p=e[f+16>>2];var y=e[f+20>>2];x=e[f+24>>2];r=e[f+28>>2];t=new Uint8Array(b,f-(e[f+12>>2]-p),0===y?void 0:y-p);lc(h,t,p);p=r|0;x=Math.max(y,x)}else if(1179403647===e[0]){{r=new DataView(b);const [m,u]=Me(r,Ne);console.assert(52===u);console.assert(1179403647===
m.Fh,"Bad magic");console.assert(1===m.Zd,"Unimplemented: 64 bit elf");console.assert(1===m.data,"Unimplemented: big endian");console.assert(1===m.hl,"Bad version0");console.assert(2===m.type,"Unimplemented type");console.assert(1===m.il,"Bad version1");console.assert(52===m.ej,"Bad header size");console.assert(32===m.Nh,"Bad program header size");console.assert(40===m.li,"Bad section header size");[p]=Oe(new DataView(r.buffer,r.byteOffset+m.yj,m.Nh*m.Oh),Pe,m.Oh);Oe(new DataView(r.buffer,r.byteOffset+
m.Zk,m.li*m.mi),Qe,m.mi);r=m;t=p}p=r.rh;for(y of t)0!==y.type&&1===y.type&&y.hg+y.Gg<h.F[0]&&(y.th&&(t=new Uint8Array(b,y.offset,y.th),lc(h,t,y.hg)),x=Math.max(x,y.hg+y.Gg),p===r.rh&&y.dh<=p&&y.dh+y.Gg>p&&(p=p-y.dh+y.hg))}c&&(h.Ba(31764,1),h.Ba(31768,n),y=x,0!==(y&4095)&&(y=(y&-4096)+4096),x=y+c.byteLength,h.Ba(n,y),h.Ba(n+4,x),h.Ba(n+8,0),h.Ba(n+12,0),lc(h,new Uint8Array(c),y));h.l[3]=31744;h.ib[0]=1;h.fa[0]=1;h.flags[0]=2;h.Y[0]=1;h.hb[0]=1;for(n=0;6>n;n++)h.s[n]=0,h.eb[n]=0,h.Va[n]=4294967295,
h.fb[n]=45058;h.V[0]=h.Jd()+p|0;h.ad();return 732803074});a.B.$c(244,a,function(n){console.log("Test exited with code "+Gb(n,2));throw"HALT";},function(){},function(){},function(){});for(let n=0;15>=n;n++){function p(x){x?this.Wa(n):Rb(this,n)}S(a.B,8192+n,a,p,p,p)}a=new Uint8Array(512);(new Uint16Array(a.buffer))[0]=43605;a[2]=1;var k=3;a[k++]=102;a[k++]=229;a[k++]=244;let l=a[k]=0;for(let n=0;n<a.length;n++)l+=a[n];a[k]=-l;return{name:"genroms/multiboot.bin",data:a}}}
function Ke(a,b,c){var d=c.Eb||291;b.ca[56]=1|d>>4&240;b.ca[61]=d&255;b.ca[21]=128;b.ca[22]=2;d=0;1048576<=a.F[0]&&(d=a.F[0]-1048576>>10,d=Math.min(d,65535));b.ca[23]=d&255;b.ca[24]=d>>8&255;b.ca[48]=d&255;b.ca[49]=d>>8&255;d=0;16777216<=a.F[0]&&(d=a.F[0]-16777216>>16,d=Math.min(d,65535));b.ca[52]=d&255;b.ca[53]=d>>8&255;b.ca[91]=0;b.ca[92]=0;b.ca[93]=0;b.ca[20]=47;b.ca[95]=0;c.sh&&(b.ca[63]=1)}
function xb(a){var b=a.ub.Eg,c=a.ub.Fd;if(b){var d=new Uint8Array(b);lc(a,d,1048576-b.byteLength);if(c){var e=new Uint8Array(c);lc(a,e,786432);qb(a.B,4272947200,1048576,function(f){f=f-4272947200|0;return f<e.length?e[f]:0},function(){})}qb(a.B,4293918720,1048576,function(f){return this.kb[f&1048575]}.bind(a),function(f,g){this.kb[f&1048575]=g}.bind(a))}}
function Re(a,b,c,d,e,f){const g=new Uint8Array(a.Ja.buffer,e>>>0,f>>>0);WebAssembly.instantiate(g,{e:a.Md}).then(h=>{a.Ka.eh.set(b+1024,h.instance.exports.f);a.Dd(b,c,d);a.xi&&a.xi(g)})}tb.prototype.Wa=function(a){this.Pd(a);if(this.A.nd){var b=this.A.nd;if(!(24<=a)){var c=1<<a;0===(b.i&c)&&(b.i|=c,65536!==(b.g[a]&98304)&&(b.h|=c,xd(b,a)))}}};function Rb(a,b){a.Od(b);if(a.A.nd&&(a=a.A.nd,!(24<=b))){var c=1<<b;(a.i&c)===c&&(a.i&=~c,a.g[b]&32768&&(a.h&=~c))}};function He(a){var b={};a.debug=b;b.Kb=function(){};b.Il=function(){};b.Al=function(){};b.ha=function(){};b.Cl=function(){};b.Bl=function(){};b.zl=function(){if(a.ib[4]&32)for(var f=0;4>f;f++)a.h(a.ib[3]+8*f)};b.xl=function(){};b.yl=function(){};b.Hl=function(){};b.Nl=function(){};b.Vl=function(){};b.rl=function(){};let c,d;b.wl=function(f,g,h){if(!d){if(void 0===c&&(c="function"===typeof require?require("./capstone-x86.min.js"):window.cs,void 0===c))return;d=[new c.Capstone(c.ARCH_X86,c.MODE_16),
new c.Capstone(c.ARCH_X86,c.MODE_32)]}try{d[f].disasm(g,h).forEach(function(k){Fe(Gb(k.ql>>>0)+": "+Fb(k.bytes.map(l=>Gb(l,2).slice(-2)).join(" "),20)+" "+k.mnemonic+" "+k.op_str)})}catch(k){Fe("Could not disassemble: "+Array.from(g).map(l=>Gb(l,2)).join(" "))}};let e;b.Dl=function(f){if(void 0===e&&(e="function"===typeof require?require("./libwabt.js"):new window.WabtModule,void 0===e))return;f=f.slice();try{var g=e.readWasm(f,{Sl:!1});g.generateNames();g.applyNames();g.toText({Gl:!0,Kl:!0})}catch(l){var h=
new Blob([f]),k=document.createElement("a");k.download="failed.wasm";k.href=window.URL.createObjectURL(h);k.dataset.downloadurl=["application/octet-stream",k.download,k.href].join(":");k.click();window.URL.revokeObjectURL(k.src);console.log(l.toString())}finally{g&&g.wa()}}};const Se=DataView.prototype,Te={size:1,get:Se.getUint8,set:Se.setUint8},Ue={size:2,get:Se.getUint16,set:Se.setUint16},Ve={size:4,get:Se.getUint32,set:Se.setUint32},Ne=We([{Fh:Ve},{Zd:Te},{data:Te},{hl:Te},{Pl:Te},{ml:Te},{Ql:function(a){return{size:a,get:()=>-1}}(7)},{type:Ue},{Ml:Ue},{il:Ve},{rh:Ve},{yj:Ve},{Zk:Ve},{flags:Ve},{ej:Ue},{Nh:Ue},{Oh:Ue},{li:Ue},{mi:Ue},{Tl:Ue}]);console.assert(52===Ne.reduce((a,b)=>a+b.size,0));
const Pe=We([{type:Ve},{offset:Ve},{dh:Ve},{hg:Ve},{th:Ve},{Gg:Ve},{flags:Ve},{align:Ve}]);console.assert(32===Pe.reduce((a,b)=>a+b.size,0));const Qe=We([{name:Ve},{type:Ve},{flags:Ve},{nl:Ve},{offset:Ve},{size:Ve},{link:Ve},{info:Ve},{pl:Ve},{Fl:Ve}]);console.assert(40===Qe.reduce((a,b)=>a+b.size,0));function We(a){return a.map(function(b){var c=Object.keys(b);console.assert(1===c.length);c=c[0];b=b[c];console.assert(0<b.size);return{name:c,type:b,size:b.size,get:b.get,set:b.set}})}
function Me(a,b){const c={};let d=0;for(const e of b)b=e.get.call(a,d,!0),console.assert(void 0===c[e.name]),c[e.name]=b,d+=e.size;return[c,d]}function Oe(a,b,c){const d=[];let e=0;for(var f=0;f<c;f++){const [g,h]=Me(new DataView(a.buffer,a.byteOffset+e,void 0),b);d.push(g);e+=h}return[d,e]};function Je(a,b,c,d){var e=new Uint8Array(b);const f=new Uint16Array(b);var g=new Uint32Array(b),h=e[497]||4;if(43605===f[255]&&1400005704===(f[257]|f[258]<<16)){var k=e[529];e[528]=255;e[529]=k&-97|128;f[274]=56832;f[253]=65535;d+="\x00";g[138]=581632;for(e=0;e<d.length;e++)a[581632+e]=d.charCodeAt(e);h=512*(h+1);d=new Uint8Array(b,0,h);b=new Uint8Array(b,h);e=h=0;c&&(h=67108864,e=c.byteLength,a.set(new Uint8Array(c),h));g[134]=h;g[135]=e;a.set(d,524288);a.set(b,1048576);a=new Uint8Array(512);(new Uint16Array(a.buffer))[0]=
43605;a[2]=1;c=3;a[c++]=250;a[c++]=184;a[c++]=32768;a[c++]=128;a[c++]=142;a[c++]=192;a[c++]=142;a[c++]=216;a[c++]=142;a[c++]=224;a[c++]=142;a[c++]=232;a[c++]=142;a[c++]=208;a[c++]=188;a[c++]=57344;a[c++]=224;a[c++]=234;a[c++]=0;a[c++]=0;a[c++]=32800;a[c++]=128;g=a[c]=0;for(b=0;b<a.length;b++)g+=a[b];a[c]=-g;return{name:"genroms/kernel.bin",data:a}}};var Ha=32768,Ea=16384,Oa=4;function Xe(a){this.g=[];this.C=[];this.j=a;this.s={Dg:0};this.h={};this.l=274877906944;this.o=0;this.i=[];Da(this,"",-1)}Xe.prototype.ha=function(){let a=[];a[0]=this.g;a[1]=this.s.Dg;a[2]=[];for(const [b,c]of Object.entries(this.h))0===(this.g[b].mode&Ea)&&a[2].push([b,c]);a[3]=this.l;a[4]=this.o;return a=a.concat(this.i)};
Xe.prototype.H=function(a){this.g=a[0].map(b=>{const c=new Ye(0);c.H(b);return c});this.s.Dg=a[1];this.h={};for(let [b,c]of a[2])c.buffer.byteLength!==c.byteLength&&(c=c.slice()),this.h[b]=c;this.l=a[3];this.o=a[4];this.i=a.slice(5)};function wa(a,b,c){var d=a.g[b];0===d.status||2===d.status?c():5===d.status?wa(Y(a,d),d.g,c):a.C.push({id:b,ll:c})}
function Ze(a,b,c){var d=$e(a);const e=b[0];d.size=b[1];d.Uc=b[2];d.Ke=d.Uc;d.Yd=d.Uc;d.mode=b[3];d.uid=b[4];d.Xa=b[5];var f=d.mode&61440;if(f===Ea)for(af(a,d,c,e),c=a.g.length-1,b=b[6],d=0;d<b.length;d++)Ze(a,b[d],c);else f===Ha?(d.status=2,d.xe=b[6],af(a,d,c,e)):40960===f&&(d.Ef=b[6],af(a,d,c,e))}function bf(a,b,c,d){const e=a.g[c],f=a.g[b];cf(a,b);f.sa.has(d);f.sa.set(d,c);e.pb++;cf(a,c)&&(e.sa.has(".."),e.sa.has(".")||e.pb++,e.sa.set(".",c),e.sa.set("..",b),f.pb++)}
function df(a,b,c){const d=Ua(a,b,c),e=a.g[d],f=a.g[b];cf(a,b);f.sa.delete(c)&&(e.pb--,cf(a,d)&&(e.sa.get(".."),e.sa.delete(".."),f.pb--))}function af(a,b,c,d){-1!==c?(a.g.push(b),b.Kc=a.g.length-1,bf(a,c,b.Kc,d)):0===a.g.length&&(a.g.push(b),b.sa.set(".",0),b.sa.set("..",0),b.pb=2)}
function Ye(a){this.sa=new Map;this.bg=this.ag=this.Uc=this.Yd=this.Ke=this.Kc=this.Xa=this.uid=this.size=this.status=0;this.Ef="";this.mode=493;this.Pa={type:0,version:0,path:a};this.pb=0;this.xe="";this.h=[];this.g=this.i=-1}
Ye.prototype.ha=function(){const a=[];a[0]=this.mode;a[1]=(this.mode&61440)===Ea?[...this.sa]:(this.mode&61440)===Ha?this.xe:40960===(this.mode&61440)?this.Ef:49152===(this.mode&61440)?[this.bg,this.ag]:null;a[2]=this.h;a[3]=this.status;a[4]=this.size;a[5]=this.uid;a[6]=this.Xa;a[7]=this.Kc;a[8]=this.Ke;a[9]=this.Yd;a[10]=this.Uc;a[11]=this.Pa.version;a[12]=this.Pa.path;a[13]=this.pb;return a};
Ye.prototype.H=function(a){this.mode=a[0];if((this.mode&61440)===Ea){this.sa=new Map;for(const [b,c]of a[1])this.sa.set(b,c)}else(this.mode&61440)===Ha?this.xe=a[1]:40960===(this.mode&61440)?this.Ef=a[1]:49152===(this.mode&61440)&&([this.bg,this.ag]=a[1]);this.h=[];for(const b of a[2]){const c=new ef;c.H(b);this.h.push(c)}this.status=a[3];this.size=a[4];this.uid=a[5];this.Xa=a[6];this.Kc=a[7];this.Ke=a[8];this.Yd=a[9];this.Uc=a[10];this.Pa.type=(this.mode&61440)>>8;this.Pa.version=a[11];this.Pa.path=
a[12];this.pb=a[13]};function ff(a,b){Object.assign(b,a,{Kc:b.Kc,sa:b.sa,pb:b.pb})}function $e(a){const b=Math.round(Date.now()/1E3);a=new Ye(++a.s.Dg);a.Yd=a.Ke=a.Uc=b;return a}function Da(a,b,c){var d=a.g[c];if(0<=c&&5===d.status)return c=d.g,b=Da(Y(a,d),b,c),gf(a,d.i,b);d=$e(a);d.mode=511|Ea;0<=c&&(d.uid=a.g[c].uid,d.Xa=a.g[c].Xa,d.mode=a.g[c].mode&511|Ea);d.Pa.type=Ea>>8;af(a,d,c,b);return a.g.length-1}
function Ga(a,b,c){var d=a.g[c];if(5===d.status)return c=d.g,b=Ga(Y(a,d),b,c),gf(a,d.i,b);d=$e(a);d.uid=a.g[c].uid;d.Xa=a.g[c].Xa;d.Pa.type=Ha>>8;d.mode=a.g[c].mode&438|Ha;af(a,d,c,b);return a.g.length-1}function Ca(a,b,c,d,e){var f=a.g[c];if(5===f.status)return c=f.g,b=Ca(Y(a,f),b,c,d,e),gf(a,f.i,b);f=$e(a);f.ag=d;f.bg=e;f.uid=a.g[c].uid;f.Xa=a.g[c].Xa;f.Pa.type=192;f.mode=a.g[c].mode&438;af(a,f,c,b);return a.g.length-1}
function Ba(a,b,c,d){var e=a.g[c];if(5===e.status)return c=e.g,b=Ba(Y(a,e),b,c,d),gf(a,e.i,b);e=$e(a);e.uid=a.g[c].uid;e.Xa=a.g[c].Xa;e.Pa.type=160;e.Ef=d;e.mode=40960;af(a,e,c,b);return a.g.length-1}async function hf(a,b,c,d){var e=a.g[c];if(5===e.status)return c=e.g,d=await hf(Y(a,e),b,c,d),gf(a,e.i,d);e=Ga(a,b,c);b=a.g[e];c=new Uint8Array(d.length);c.set(d);await jf(a,e,c);b.size=d.length;return e}
function va(a,b,c){var d=a.g[b];if(5===d.status)return va(Y(a,d),d.g,c);(d.mode&61440)===Ea&&kf(a,b);return!0}async function Wa(a,b){var c=a.g[b];if(5===c.status)return await Wa(Y(a,c),c.g);2===c.status&&a.j.g(c.xe);c.status===Oa&&(c.status=-1,await lf(a,b))}
async function Ta(a,b,c,d,e){if(b===d&&c===e)return 0;var f=Ua(a,b,c);if(-1===f)return-2;var g=b;cf(a,g);for(var h="";0!==g;)h="/"+mf(a,g)+h,g=nf(a,g);if(-1!==Ua(a,d,e)&&(g=Va(a,d,e),0>g))return g;h=a.g[f];var k=a.g[b];g=a.g[d];if(5===k.status||5===g.status)if(5===k.status&&k.i===g.i){if(a=await Ta(Y(a,k),k.g,c,g.g,e),0>a)return a}else{if(0===ta(a,f).Kc||!cf(a,f)&&1<ta(a,f).pb)return-1;{k=Ua(a,b,c);var l=a.g[k],n=new Ye(-1);cf(a,k);Object.assign(n,l);const p=a.g.length;a.g.push(n);n.Kc=p;5===l.status&&
a.i[l.i].g.set(l.g,p);if(5!==l.status||0===l.g)df(a,b,c),bf(a,b,p,c);if(cf(a,k)&&5!==l.status)for(const [x,r]of n.sa)"."!==x&&".."!==x&&cf(a,r)&&a.g[r].sa.set("..",p);a.h[p]=a.h[k];delete a.h[k];l.sa=new Map;l.pb=0;k=p}l=ta(a,f);n=await Ra(a,k,0,l.size);5===g.status?(d=Y(a,g),e=cf(a,k)?Da(d,e,g.g):Ga(d,e,g.g),d=ta(d,e),ff(l,d),of(a,f,g.i,e)):(h.status=-1,a.i[h.i].g.delete(h.g),ff(l,h),bf(a,d,f,e));await Pa(a,f,l.size);n&&n.length&&await Sa(a,f,0,n.length,n);if(cf(a,f))for(const p of pf(a,k))if(e=
await Ta(a,k,p,f,p),0>e)return e;await lf(a,k);a=Va(a,b,c);if(0>a)return a}else df(a,b,c),bf(a,d,f,e),h.Pa.version++;return 0}async function Sa(a,b,c,d,e){var f=a.g[b];if(5===f.status)b=f.g,await Sa(Y(a,f),b,c,d,e);else{var g=await a.ac(b);!g||g.length<c+d?(await Pa(a,b,Math.floor(3*(c+d)/2)),f.size=c+d,g=await a.ac(b)):f.size<c+d&&(f.size=c+d);e&&g.set(e.subarray(0,d),c);await jf(a,b,g)}}
async function Ra(a,b,c,d){const e=a.g[b];return 5===e.status?(b=e.g,await Ra(Y(a,e),b,c,d)):await qf(a,b,c,d)}function Ua(a,b,c){b=a.g[b];if(5===b.status){const d=b.g;c=Ua(Y(a,b),d,c);return-1===c?-1:rf(a,b.i,c)}a=b.sa.get(c);return void 0===a?-1:a}function ra(a){let b=a.g.length;for(const {h:c,g:d}of a.i)b+=ra(c),b-=d.size;return b}function sa(a){let b=1048576;for(const {h:c}of a.i)b+=sa(c);return b}function pa(a){let b=a.o;for(const {h:c}of a.i)b+=pa(c);return b}
function qa(a){let b=a.l;for(const {h:c}of a.i)b+=qa(c);return a.l}function mf(a,b){const c=a.g[nf(a,b)];if(5===c.status)return mf(Y(a,c),a.g[b].g);if(!c)return"";for(const [d,e]of c.sa)if(e===b)return d;return""}function xa(a,b,c,d){if(cf(a,c))return-1;const e=a.g[b],f=a.g[c];if(5===e.status)return 5!==f.status||f.i!==e.i?-1:xa(Y(a,e),e.g,f.g,d);if(5===f.status)return-1;bf(a,b,c,d);return 0}
function Va(a,b,c){if("."===c||".."===c)return-1;var d=Ua(a,b,c);const e=a.g[d];var f=a.g[b];if(5===f.status)return b=f.g,Va(Y(a,f),b,c);if(f=cf(a,d)){a:if(d=a.g[d],5===d.status)var g=cf(Y(a,d),d.g);else{for(g of d.sa.keys())if("."!==g&&".."!==g){g=!1;break a}g=!0}f=!g}if(f)return-39;df(a,b,c);0===e.pb&&(e.status=Oa);return 0}async function lf(a,b){const c=a.g[b];5===c.status?await lf(Y(a,c),c.g):(c.size=0,delete a.h[b])}
Xe.prototype.ac=async function(a){const b=this.g[a];return this.h[a]?this.h[a]:2===b.status?await this.j.read(b.xe,0,b.size):null};async function qf(a,b,c,d){const e=a.g[b];return a.h[b]?a.h[b].subarray(c,c+d):2===e.status?await a.j.read(e.xe,c,d):null}async function jf(a,b,c){a.h[b]=c;2===a.g[b].status&&(a.g[b].status=0,a.j.g(a.g[b].xe))}function ta(a,b){b=a.g[b];return 5===b.status?ta(Y(a,b),b.g):b}
async function Pa(a,b,c){var d=ta(a,b),e=await qf(a,b,0,d.size);if(c!==d.size){var f=new Uint8Array(c);d.size=c;e&&f.set(e.subarray(0,Math.min(e.length,d.size)),0);await jf(a,b,f)}}
function sf(a,b){b=b.replace("//","/");b=b.split("/");0<b.length&&0===b[b.length-1].length&&b.pop();0<b.length&&0===b[0].length&&b.shift();const c=b.length;var d=-1,e=0;let f=null;for(var g=0;g<c;g++)if(d=e,e=Ua(a,d,b[g]),!f&&5===a.g[d].status&&(f="/"+b.slice(g).join("/")),-1===e)return g<c-1?{id:-1,Ig:-1,name:b[g],vh:f}:{id:-1,Ig:d,name:b[g],vh:f};return{id:e,Ig:d,name:b[g],vh:f}}
function kf(a,b){var c=a.g[b];if(5===c.status)kf(Y(a,c),c.g);else{var d=0;for(const e of c.sa.keys())d+=24+tf.encode(e).length;b=a.h[b]=new Uint8Array(d);c.size=d;d=0;for(const [e,f]of c.sa)c=ta(a,f),d+=w(["Q","d","b","s"],[c.Pa,d+13+8+1+2+tf.encode(e).length,c.mode>>12,e],b,d)}}function Qa(a,b,c){a=a.h[b];if(c>=a.length)return a.length;for(b=0;;){const d=J(["Q","d"],a,{offset:b})[1];if(d>c)break;b=d}return b}function cf(a,b){b=a.g[b];return 5===b.status?cf(Y(a,b),b.g):(b.mode&61440)===Ea}
function pf(a,b){cf(a,b);b=a.g[b];if(5===b.status)return pf(Y(a,b),b.g);a=[];for(const c of b.sa.keys())"."!==c&&".."!==c&&a.push(c);return a}function nf(a,b){cf(a,b);b=a.g[b];if(5!==b.status||0===b.g)return b.sa.get("..");{const c=nf(Y(a,b),b.g);return rf(a,b.i,c)}}function of(a,b,c,d){const e=a.g[b];5===e.status&&a.i[e.i].g.delete(e.g);e.status=5;e.i=c;e.g=d;a.i[c].g.set(d,b)}function gf(a,b,c){const d=$e(a),e=a.g.length;a.g.push(d);d.Kc=e;of(a,e,b,c);return e}
function rf(a,b,c){const d=a.i[b].g.get(c);return void 0===d?gf(a,b,c):d}function Y(a,b){return a.i[b.i].h}function ef(){this.type=2;this.start=0;this.length=Infinity;this.h=-1;this.g=""}ef.prototype.ha=function(){const a=[];a[0]=this.type;a[1]=this.start;a[2]=Infinity===this.length?0:this.length;a[3]=this.h;a[4]=this.g;return a};ef.prototype.H=function(a){this.type=a[0];this.start=a[1];this.length=0===a[2]?Infinity:a[2];this.h=a[3];this.g=a[4]};
function uf(a){const b=new ef;b.H(a.ha());return b}function vf(a,b){return b.h===a.h&&b.g===a.g&&b.type===a.type}function wf(a,b){return vf(a,b)&&b.start+b.length===a.start}function Ia(a,b,c,d,e){const f=new ef;f.type=a;f.start=b;f.length=c;f.h=d;f.g=e;return f}
function Ka(a,b,c){b=a.g[b];if(5===b.status){var d=b.g;return Ka(Y(a,b),d,c)}for(d of b.h)if(!(c.h===d.h&&c.g===d.g||2===c.type||2===d.type||1!==c.type&&1!==d.type||c.start+c.length<=d.start||d.start+d.length<=c.start))return uf(d);return null}
function Ja(a,b,c,d){const e=a.g[b];if(5===e.status)return b=e.g,Ja(Y(a,e),b,c,d);c=uf(c);if(2!==c.type&&Ka(a,b,c))return 1;for(a=0;a<e.h.length;a++){d=e.h[a];if(d.start+d.length<=c.start)continue;if(c.start+c.length<=d.start)break;if(d.h!==c.h||d.g!==c.g)continue;b=c.start+c.length;const f=c.start-d.start,g=d.start+d.length-b;if(0<f&&0<g&&d.type===c.type)return 0;0<f&&(d.length=f);if(0>=f&&0<g)d.start=b,d.length=g;else if(0<g){for(;a<e.h.length&&e.h[a].start<b;)a++;e.h.splice(a,0,Ia(d.type,b,g,d.h,
d.g))}else 0>=f&&(e.h.splice(a,1),a--)}if(2!==c.type){a=c;d=!1;for(b=0;b<e.h.length&&!(wf(a,e.h[b])&&(e.h[b].length+=c.length,a=e.h[b],d=!0),c.start<=e.h[b].start);b++);d||(e.h.splice(b,0,a),b++);for(;b<e.h.length;b++)if(vf(e.h[b],a)){wf(e.h[b],a)&&(a.length+=e.h[b].length,e.h.splice(b,1));break}}return 0}function xf(a,b){b=sf(a,b);if(-1!==b.id)return a=ta(a,b.id),Array.from(a.sa.keys()).filter(c=>"."!==c&&".."!==c)}
Xe.prototype.Af=function(a){a=sf(this,a);if(-1===a.id)return Promise.resolve(null);const b=ta(this,a.id);return Ra(this,a.id,0,b.size)};const yf=new TextDecoder,tf=new TextEncoder;
function w(a,b,c,d){for(var e,f=0,g=0;g<a.length;g++)switch(e=b[g],a[g]){case "w":c[d++]=e&255;c[d++]=e>>8&255;c[d++]=e>>16&255;c[d++]=e>>24&255;f+=4;break;case "d":c[d++]=e&255;c[d++]=e>>8&255;c[d++]=e>>16&255;c[d++]=e>>24&255;c[d++]=0;c[d++]=0;c[d++]=0;c[d++]=0;f+=8;break;case "h":c[d++]=e&255;c[d++]=e>>8;f+=2;break;case "b":c[d++]=e;f+=1;break;case "s":var h=d,k=0;c[d++]=0;c[d++]=0;f+=2;e=tf.encode(e);f+=e.byteLength;k+=e.byteLength;c.set(e,d);d+=e.byteLength;c[h+0]=k&255;c[h+1]=k>>8&255;break;
case "Q":w(["b","w","d"],[e.type,e.version,e.path],c,d),d+=13,f+=13}return f}
function J(a,b,c){let d=c.offset;for(var e=[],f=0;f<a.length;f++)switch(a[f]){case "w":var g=b[d++];g+=b[d++]<<8;g+=b[d++]<<16;g+=b[d++]<<24>>>0;e.push(g);break;case "d":g=b[d++];g+=b[d++]<<8;g+=b[d++]<<16;g+=b[d++]<<24>>>0;d+=4;e.push(g);break;case "h":g=b[d++];e.push(g+(b[d++]<<8));break;case "b":e.push(b[d++]);break;case "s":g=b[d++];g+=b[d++]<<8;var h=b.slice(d,d+g);d+=g;e.push(yf.decode(h));break;case "Q":c.offset=d,g=J(["b","w","d"],b,c),d=c.offset,e.push({type:g[0],version:g[1],path:g[2]})}c.offset=
d;return e};const zf="undefined"!==typeof window&&0<=window.navigator.platform.toString().toLowerCase().search("win");
function Af(a){function b(u){!u.altKey&&k[56]&&g(56,!1);return e(u,!1)}function c(u){!u.altKey&&k[56]&&g(56,!1);return e(u,!0)}function d(){for(var u=Object.keys(k),D,L=0;L<u.length;L++)D=+u[L],k[D]&&g(D,!1);k={}}function e(u,D){if(x.v&&(u.shiftKey&&u.ctrlKey&&(73===u.keyCode||74===u.keyCode||75===u.keyCode)||!x.Wf?0:u.target?u.target.classList.contains("phone_keyboard")||"INPUT"!==u.target.nodeName&&"TEXTAREA"!==u.target.nodeName:1)){u.preventDefault&&u.preventDefault();if(zf&&(l&&(clearTimeout(p),
u.getModifierState&&u.getModifierState("AltGraph")&&n===D&&"ControlLeft"===l.code&&"AltRight"===u.code||f(l,n),l=null),"ControlLeft"===u.code))return l=u,n=D,p=setTimeout(()=>{f(l,n);l=null},10),!1;f(u,D);return!1}}function f(u,D){a:{if(void 0!==u.code){var L=m[u.code];if(void 0!==L)break a}L=r[u.keyCode]}L?g(L,D,u.repeat):console.log("Missing char in map: keyCode="+(u.keyCode||-1).toString(16)+" code="+u.code)}function g(u,D,L){if(D)k[u]&&!L&&g(u,!1);else if(!k[u])return;(k[u]=D)||(u|=128);255<u?
(h(u>>8),h(u&255)):h(u)}function h(u){x.v.send("keyboard-code",u)}var k={},l=null,n=!1,p=0,x=this;this.Wf=!0;var r=new Uint16Array([0,0,0,0,0,0,0,0,14,15,0,0,0,28,0,0,42,29,56,0,58,0,0,0,0,0,0,1,0,0,0,0,57,57417,57425,57423,57415,57419,57416,57421,80,0,0,0,0,82,83,0,11,2,3,4,5,6,7,8,9,10,0,39,0,13,0,0,0,30,48,46,32,18,33,34,35,23,36,37,38,50,49,24,25,16,19,31,20,22,47,17,45,21,44,57435,57436,57437,0,0,82,79,80,81,75,76,77,71,72,73,0,0,0,0,0,0,59,60,61,62,63,64,65,66,67,68,87,88,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,39,13,51,12,52,53,41,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,43,27,40,0,57435,57400,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t={8:8,10:13,32:32,39:222,44:188,45:189,46:190,47:191,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,59:186,61:187,91:219,92:220,93:221,96:192,97:65,98:66,99:67,100:68,101:69,102:70,103:71,104:72,105:73,106:74,107:75,108:76,109:77,110:78,111:79,112:80,
113:81,114:82,115:83,116:84,117:85,118:86,119:87,120:88,121:89,122:90},y={33:49,34:222,35:51,36:52,37:53,38:55,40:57,41:48,42:56,43:187,58:186,60:188,62:190,63:191,64:50,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,94:54,95:189,123:219,124:220,125:221,126:192},m={Escape:1,Digit1:2,Digit2:3,Digit3:4,Digit4:5,Digit5:6,Digit6:7,Digit7:8,Digit8:9,Digit9:10,Digit0:11,Minus:12,Equal:13,Backspace:14,
Tab:15,KeyQ:16,KeyW:17,KeyE:18,KeyR:19,KeyT:20,KeyY:21,KeyU:22,KeyI:23,KeyO:24,KeyP:25,BracketLeft:26,BracketRight:27,Enter:28,ControlLeft:29,KeyA:30,KeyS:31,KeyD:32,KeyF:33,KeyG:34,KeyH:35,KeyJ:36,KeyK:37,KeyL:38,Semicolon:39,Quote:40,Backquote:41,ShiftLeft:42,Backslash:43,KeyZ:44,KeyX:45,KeyC:46,KeyV:47,KeyB:48,KeyN:49,KeyM:50,Comma:51,Period:52,Slash:53,IntlRo:53,ShiftRight:54,NumpadMultiply:55,AltLeft:56,Space:57,CapsLock:58,F1:59,F2:60,F3:61,F4:62,F5:63,F6:64,F7:65,F8:66,F9:67,F10:68,NumLock:69,
ScrollLock:70,Numpad7:71,Numpad8:72,Numpad9:73,NumpadSubtract:74,Numpad4:75,Numpad5:76,Numpad6:77,NumpadAdd:78,Numpad1:79,Numpad2:80,Numpad3:81,Numpad0:82,NumpadDecimal:83,IntlBackslash:86,F11:87,F12:88,NumpadEnter:57372,ControlRight:57373,NumpadDivide:57397,AltRight:57400,Home:57415,ArrowUp:57416,PageUp:57417,ArrowLeft:57419,ArrowRight:57421,End:57423,ArrowDown:57424,PageDown:57425,Insert:57426,Delete:57427,OSLeft:57435,OSRight:57436,ContextMenu:57437};this.v=a;this.wa=function(){"undefined"!==typeof window&&
(window.removeEventListener("keyup",b,!1),window.removeEventListener("keydown",c,!1),window.removeEventListener("blur",d,!1))};this.Kb=function(){"undefined"!==typeof window&&(this.wa(),window.addEventListener("keyup",b,!1),window.addEventListener("keydown",c,!1),window.addEventListener("blur",d,!1))};this.Kb();this.g=function(u){u={keyCode:u};e(u,!0);e(u,!1)};this.al=function(u){var D=u.charCodeAt(0);D in t?this.g(t[D]):D in y?(h(42),this.g(y[D]),h(170)):console.log("ascii -> keyCode not found: ",
D,u)}};function Bf(a,b){function c(m){if(!y.enabled||!y.Wf)return!1;var u=b||document.body,D;if(!(D=document.pointerLockElement))a:{for(m=m.target;m.parentNode;){if(m===u){D=!0;break a}m=m.parentNode}D=!1}return D}function d(m){c(m)&&(m=m.changedTouches)&&m.length&&(m=m[m.length-1],r=m.clientX,t=m.clientY)}function e(){if(n||x||p)y.v.send("mouse-click",[!1,!1,!1]),n=x=p=!1}function f(m){if(y.v&&c(m)&&y.od){var u=0,D=0,L=m.changedTouches;L?L.length&&(L=L[L.length-1],u=L.clientX-r,D=L.clientY-t,r=L.clientX,
t=L.clientY,m.preventDefault()):"number"===typeof m.movementX?(u=m.movementX,D=m.movementY):"number"===typeof m.webkitMovementX?(u=m.webkitMovementX,D=m.webkitMovementY):"number"===typeof m.mozMovementX?(u=m.mozMovementX,D=m.mozMovementY):(u=m.clientX-r,D=m.clientY-t,r=m.clientX,t=m.clientY);y.v.send("mouse-delta",[.15*u,-(.15*D)]);b&&y.v.send("mouse-absolute",[m.pageX-b.offsetLeft,m.pageY-b.offsetTop,b.offsetWidth,b.offsetHeight])}}function g(m){c(m)&&k(m,!0)}function h(m){c(m)&&k(m,!1)}function k(m,
u){y.v&&(1===m.which?n=u:2===m.which?x=u:3===m.which&&(p=u),y.v.send("mouse-click",[n,x,p]),m.preventDefault())}function l(m){if(c(m)){var u=m.wheelDelta||-m.detail;0>u?u=-1:0<u&&(u=1);y.v.send("mouse-wheel",[u,0]);m.preventDefault()}}var n=!1,p=!1,x=!1,r=0,t=0,y=this;this.enabled=!1;this.Wf=!0;this.v=a;this.v.register("mouse-enable",function(m){this.enabled=m},this);this.od=!1;this.v.register("emulator-stopped",function(){this.od=!1},this);this.v.register("emulator-started",function(){this.od=!0},
this);this.wa=function(){"undefined"!==typeof window&&(window.removeEventListener("touchstart",d,!1),window.removeEventListener("touchend",e,!1),window.removeEventListener("touchmove",f,!1),window.removeEventListener("mousemove",f,!1),window.removeEventListener("mousedown",g,!1),window.removeEventListener("mouseup",h,!1),window.removeEventListener("wheel",l,{passive:!1}))};this.Kb=function(){"undefined"!==typeof window&&(this.wa(),window.addEventListener("touchstart",d,!1),window.addEventListener("touchend",
e,!1),window.addEventListener("touchmove",f,!1),window.addEventListener("mousemove",f,!1),window.addEventListener("mousedown",g,!1),window.addEventListener("mouseup",h,!1),window.addEventListener("wheel",l,{passive:!1}))};this.Kb()};function Cf(a){if("undefined"!==typeof window)if(window.AudioContext||window.webkitAudioContext){var b=window.AudioWorklet?Df:Ef;this.v=a;this.Z=window.AudioContext?new AudioContext:new webkitAudioContext;this.cg=new Ff(a,this.Z);this.h=new Gf(a,this.Z,this.cg);this.g=new b(a,this.Z,this.cg);this.h.start();a.register("emulator-stopped",function(){this.Z.suspend()},this);a.register("emulator-started",function(){this.Z.resume()},this);a.register("speaker-confirm-initialized",function(){a.send("speaker-has-initialized")},
this);a.send("speaker-has-initialized")}else console.warn("Web browser doesn't support Web Audio API")}Cf.prototype.wa=function(){this.Z&&this.Z.close();this.Z=null;this.g&&this.g.Bc&&this.g.Bc.port.close();this.g=null};
function Ff(a,b){function c(d){return function(e){d.gain.setValueAtTime(e,this.Z.currentTime)}}this.Z=b;this.sources=new Map;this.yh=this.xh=this.G=this.D=this.s=1;this.i=this.Z.createBiquadFilter();this.j=this.Z.createBiquadFilter();this.i.type="highshelf";this.j.type="highshelf";this.i.frequency.setValueAtTime(2E3,this.Z.currentTime);this.j.frequency.setValueAtTime(2E3,this.Z.currentTime);this.g=this.Z.createBiquadFilter();this.h=this.Z.createBiquadFilter();this.g.type="lowshelf";this.h.type="lowshelf";
this.g.frequency.setValueAtTime(200,this.Z.currentTime);this.h.frequency.setValueAtTime(200,this.Z.currentTime);this.l=this.Z.createGain();this.o=this.Z.createGain();this.C=this.Z.createChannelMerger(2);this.M=this.i;this.N=this.j;this.i.connect(this.g);this.g.connect(this.l);this.l.connect(this.C,0,0);this.j.connect(this.h);this.h.connect(this.o);this.o.connect(this.C,0,1);this.C.connect(this.Z.destination);a.register("mixer-connect",function(d){var e=d[1];d=this.sources.get(d[0]);void 0===d||d.connect(e)},
this);a.register("mixer-disconnect",function(d){var e=d[1];d=this.sources.get(d[0]);void 0===d||d.disconnect(e)},this);a.register("mixer-volume",function(d){var e=d[0],f=d[1];d=Math.pow(10,d[2]/20);e=0===e?this:this.sources.get(e);void 0===e||e.ng(d,f)},this);a.register("mixer-gain-left",function(d){this.xh=Math.pow(10,d/20);this.update()},this);a.register("mixer-gain-right",function(d){this.yh=Math.pow(10,d/20);this.update()},this);a.register("mixer-treble-left",c(this.i),this);a.register("mixer-treble-right",
c(this.j),this);a.register("mixer-bass-left",c(this.g),this);a.register("mixer-bass-right",c(this.h),this)}function Hf(a,b,c){b=new If(a.Z,b,a.M,a.N);a.sources.has(c);a.sources.set(c,b);return b}Ff.prototype.ng=function(a,b){void 0===b&&(b=2);switch(b){case 0:this.D=a;break;case 1:this.G=a;break;case 2:this.s=a;break;default:return}this.update()};
Ff.prototype.update=function(){var a=this.s*this.G*this.yh;this.l.gain.setValueAtTime(this.s*this.D*this.xh,this.Z.currentTime);this.o.gain.setValueAtTime(a,this.Z.currentTime)};function If(a,b,c,d){this.Z=a;this.o=this.l=!0;this.D=this.C=this.j=this.g=1;this.s=a.createChannelSplitter(2);this.h=a.createGain();this.i=a.createGain();b.connect(this.s);this.s.connect(this.h,0);this.h.connect(c);this.s.connect(this.i,1);this.i.connect(d)}
If.prototype.update=function(){var a=this.o*this.g*this.j*this.D;this.h.gain.setValueAtTime(this.l*this.g*this.j*this.C,this.Z.currentTime);this.i.gain.setValueAtTime(a,this.Z.currentTime)};If.prototype.connect=function(a){var b=!a||2===a;if(b||0===a)this.l=!0;if(b||1===a)this.o=!0;this.update()};If.prototype.disconnect=function(a){var b=!a||2===a;if(b||0===a)this.l=!1;if(b||1===a)this.o=!1;this.update()};
If.prototype.ng=function(a,b){void 0===b&&(b=2);switch(b){case 0:this.C=a;break;case 1:this.D=a;break;case 2:this.j=a;break;default:return}this.update()};
function Gf(a,b,c){this.Se=b.createOscillator();this.Se.type="square";this.Se.frequency.setValueAtTime(440,b.currentTime);this.g=Hf(c,this.Se,1);this.g.disconnect();a.register("pcspeaker-enable",function(){var d=c.sources.get(1);void 0===d||d.connect(void 0)},this);a.register("pcspeaker-disable",function(){var d=c.sources.get(1);void 0===d||d.disconnect(void 0)},this);a.register("pcspeaker-update",function(d){var e=d[1],f=0;3===d[0]&&(f=Math.min(1193181.6665999999/e,this.Se.frequency.maxValue),f=
Math.max(f,0));this.Se.frequency.setValueAtTime(f,b.currentTime)},this)}Gf.prototype.start=function(){this.Se.start()};
function Df(a,b,c){this.v=a;this.Z=b;this.enabled=!1;this.yb=48E3;b=function(){function e(h){if(0===h)return 1;h*=Math.PI;return Math.sin(h)/h}function f(){var h=Reflect.construct(AudioWorkletProcessor,[],f);h.D=3;h.l=Array(1024);h.s=0;h.M=0;h.o=0;h.G=h.l.length;h.C=0;h.N=g;h.g=g;h.P=1;h.j=0;h.i=0;h.h=0;h.port.onmessage=k=>{switch(k.data.type){case "queue":h.fa(k.data.value);break;case "sampling-rate":h.P=k.data.value/sampleRate}};return h}var g=[new Float32Array(256),new Float32Array(256)];Reflect.setPrototypeOf(f.prototype,
AudioWorkletProcessor.prototype);Reflect.setPrototypeOf(f,AudioWorkletProcessor);f.prototype.process=f.prototype.process=function(h,k){for(h=0;h<k[0][0].length;h++){for(var l=0,n=0,p=this.h+this.D,x=this.h-this.D+1;x<=p;x++){var r=this.j+x;l+=this.S(r,0)*this.T(this.i-x);n+=this.S(r,1)*this.T(this.i-x)}if(isNaN(l)||isNaN(n))l=n=0;k[0][0][h]=l;k[0][1][h]=n;this.i+=this.P;this.h=Math.floor(this.i)}k=this.h;k+=this.D+2;this.i-=this.h;this.j+=this.h;this.h=0;this.Y(k);return!0};f.prototype.T=function(h){return e(h)*
e(h/this.D)};f.prototype.S=function(h,k){return 0>h?(h+=this.N[0].length,this.N[k][h]):this.g[k][h]};f.prototype.Y=function(h){var k=this.g[0].length;k-this.j<h&&(this.aa(),this.j-=k)};f.prototype.aa=function(){this.N=this.g;this.g=this.V();var h=this.g[0].length;if(256>h){for(var k=this.s,l=0;256>h&&l<this.o;)h+=this.l[k][0].length,k=k+1&this.G-1,l++;h=Math.max(h,256);h=[new Float32Array(h),new Float32Array(h)];h[0].set(this.g[0]);h[1].set(this.g[1]);k=this.g[0].length;for(var n=0;n<l;n++){var p=
this.V();h[0].set(p[0],k);h[1].set(p[1],k);k+=p[0].length}this.g=h}this.xb()};f.prototype.xb=function(){1024>this.C/this.P&&this.port.postMessage({type:"pump"})};f.prototype.fa=function(h){this.o<this.G&&(this.l[this.M]=h,this.M=this.M+1&this.G-1,this.o++,this.C+=h[0].length,this.xb())};f.prototype.V=function(){if(!this.o)return g;var h=this.l[this.s];this.l[this.s]=null;this.s=this.s+1&this.G-1;this.o--;this.C-=h[0].length;return h};registerProcessor("dac-processor",f)}.toString();var d=URL.createObjectURL(new Blob([b.substring(b.indexOf("{")+
1,b.lastIndexOf("}"))],{type:"application/javascript"}));this.Bc=null;this.g=this.Z.createGain();this.Z.audioWorklet.addModule(d).then(()=>{URL.revokeObjectURL(d);this.Bc=new AudioWorkletNode(this.Z,"dac-processor",{numberOfInputs:0,numberOfOutputs:1,outputChannelCount:[2],parameterData:{},processorOptions:{}});this.Bc.port.postMessage({type:"sampling-rate",value:this.yb});this.Bc.port.onmessage=e=>{switch(e.data.type){case "pump":this.xb()}};this.Bc.connect(this.g)});this.h=Hf(c,this.g,2);this.h.g=
3;a.register("dac-send-data",function(e){this.Og(e)},this);a.register("dac-enable",function(){this.enabled=!0},this);a.register("dac-disable",function(){this.enabled=!1},this);a.register("dac-tell-sampling-rate",function(e){this.yb=e;this.Bc&&this.Bc.port.postMessage({type:"sampling-rate",value:e})},this)}Df.prototype.Og=function(a){this.Bc&&this.Bc.port.postMessage({type:"queue",value:a},[a[0].buffer,a[1].buffer])};Df.prototype.xb=function(){this.enabled&&this.v.send("dac-request-data")};
function Ef(a,b,c){this.v=a;this.Z=b;this.enabled=!1;this.yb=22050;this.g=0;this.yf=1;this.eg=this.Z.createBiquadFilter();this.eg.type="lowpass";this.i=this.eg;this.h=Hf(c,this.i,2);this.h.g=3;a.register("dac-send-data",function(d){this.Og(d)},this);a.register("dac-enable",function(){this.enabled=!0;this.xb()},this);a.register("dac-disable",function(){this.enabled=!1},this);a.register("dac-tell-sampling-rate",function(d){this.yb=d;this.yf=Math.ceil(8E3/d);this.eg.frequency.setValueAtTime(d/2,this.Z.currentTime)},
this)}
Ef.prototype.Og=function(a){var b=a[0].length,c=b/this.yb;if(1<this.yf){var d=this.Z.createBuffer(2,b*this.yf,this.yb*this.yf);for(var e=d.getChannelData(0),f=d.getChannelData(1),g=0,h=0;h<b;h++)for(var k=0;k<this.yf;k++,g++)e[g]=a[0][h],f[g]=a[1][h]}else d=this.Z.createBuffer(2,b,this.yb),d.copyToChannel?(d.copyToChannel(a[0],0),d.copyToChannel(a[1],1)):(d.getChannelData(0).set(a[0]),d.getChannelData(1).set(a[1]));a=this.Z.createBufferSource();a.buffer=d;a.connect(this.eg);a.addEventListener("ended",this.xb.bind(this));
d=this.Z.currentTime;if(this.g<d)for(this.g=d,d=.2-c,b=0;b<=d;)b+=c,this.g+=c,setTimeout(()=>this.xb(),1E3*b);a.start(this.g);this.g+=c;setTimeout(()=>this.xb(),0)};Ef.prototype.xb=function(){this.enabled&&(.2<this.g-this.Z.currentTime||this.v.send("dac-request-data"))};function Jf(a,b){function c(h){g.v&&g.enabled&&(g.h(h.which),h.preventDefault())}function d(h){var k=h.which;8===k?(g.h(127),h.preventDefault()):9===k&&(g.h(9),h.preventDefault())}function e(h){if(g.enabled){for(var k=h.clipboardData.getData("text/plain"),l=0;l<k.length;l++)g.h(k.charCodeAt(l));h.preventDefault()}}function f(h){h.target!==a&&a.blur()}var g=this;this.enabled=!0;this.v=b;this.text="";this.j=!1;this.i=0;this.v.register("serial0-output-byte",function(h){this.$k(String.fromCharCode(h))},
this);this.wa=function(){a.removeEventListener("keypress",c,!1);a.removeEventListener("keydown",d,!1);a.removeEventListener("paste",e,!1);window.removeEventListener("mousedown",f,!1)};this.Kb=function(){this.wa();a.style.display="block";a.addEventListener("keypress",c,!1);a.addEventListener("keydown",d,!1);a.addEventListener("paste",e,!1);window.addEventListener("mousedown",f,!1)};this.Kb();this.$k=function(h){"\b"===h?(this.text=this.text.slice(0,-1),this.update()):"\r"!==h&&(this.text+=h,"\n"===
h&&(this.j=!0),this.update())};this.update=function(){var h=Date.now(),k=h-this.i;16>k?void 0===this.g&&(this.g=setTimeout(()=>{this.g=void 0;this.i=Date.now();this.l()},16-k)):(void 0!==this.g&&(clearTimeout(this.g),this.g=void 0),this.i=h,this.l())};this.l=function(){a.value=this.text;this.j&&(this.j=!1,a.scrollTop=1E9)};this.h=function(h){g.v&&g.v.send("serial0-input",h)}}
function mb(a,b){this.element=a;if(window.Terminal){var c=this.g=new window.Terminal({logLevel:"off"});c.write("This is the serial console. Whatever you type or paste here will be sent to COM1");var d=c.onData(function(e){for(let f=0;f<e.length;f++)b.send("serial0-input",e.charCodeAt(f))});b.register("serial0-output-byte",function(e){c.write(Uint8Array.of(e))},this);this.wa=function(){d.dispose();c.dispose()}}}mb.prototype.show=function(){this.g&&this.g.open(this.element)};function Kf(a,b){this.v=b;this.g=void 0;this.id=0;this.h=[];this.url=a;this.i=Date.now()-1E4;this.v.register("net"+this.id+"-send",function(c){this.send(c)},this)}q=Kf.prototype;q.mj=function(a){this.v&&this.v.send("net"+this.id+"-receive",new Uint8Array(a.data))};q.kj=function(){this.connect();setTimeout(this.connect.bind(this),1E4)};q.nj=function(){for(var a=0;a<this.h.length;a++)this.send(this.h[a]);this.h=[]};q.lj=function(){};q.wa=function(){this.g&&this.g.close()};
q.connect=function(){if("undefined"!==typeof WebSocket){if(this.g){var a=this.g.readyState;if(0===a||1===a)return}if(!(this.i+1E4>Date.now())){this.i=Date.now();try{this.g=new WebSocket(this.url)}catch(b){console.error(b);return}this.g.binaryType="arraybuffer";this.g.onopen=this.nj.bind(this);this.g.onmessage=this.mj.bind(this);this.g.onclose=this.kj.bind(this);this.g.onerror=this.lj.bind(this)}}};
q.send=function(a){this.g&&1===this.g.readyState?this.g.send(a):(this.h.push(a),128<this.h.length&&(this.h=this.h.slice(-64)),this.connect())};function $a(a){this.Sf=!1;this.C=function(){};var b=Ee();this.v=b[0];this.de=b[1];var c,d;const e=new WebAssembly.Table({element:"anyfunc",initial:1924});b={cpu_exception_hook:()=>this.C(),run_hardware_timers:function(g,h){{var k=c;const l=k.A.ig.Ec(h,!1),n=k.A.zd.Ec(h,!1);let p=100,x=100;g&&(p=k.A.ua.Ec(h),x=k.A.Ge.Ec(h));g=Math.min(l,n,p,x)}return g},cpu_event_halt:()=>{this.de.send("cpu-event-halt")},abort:function(){},microtick:yb,get_rand_int:function(){return Hb()},apic_acknowledge_irq:function(){var g=
c.A.Ge;var h=vd(g.i);-1===h||vd(g.Ya)>=h||(h&240)<=(g.s&240)?g=-1:(wd(g.i,h),zd(g.Ya,h),ud(g),g=h);return g},stop_idling:function(){return c.yi()},io_port_read8:function(g){return c.B.Lg(g)},io_port_read16:function(g){g=c.B.ports[g];return g.ab.call(g.za)},io_port_read32:function(g){return rb(c.B,g)},io_port_write8:function(g,h){c.B.Mg(g,h)},io_port_write16:function(g,h){g=c.B.ports[g];g.Lf.call(g.za,h)},io_port_write32:function(g,h){g=c.B.ports[g];g.Ba.call(g.za,h)},mmap_read8:function(g){return c.g[g>>>
17](g)},mmap_read16:function(g){var h=c.g[g>>>17];return h(g)|h(g+1|0)<<8},mmap_read32:function(g){return c.aa[g>>>17](g)},mmap_write8:function(g,h){c.j[g>>>17](g,h)},mmap_write16:function(g,h){var k=c.j[g>>>17];k(g,h&255);k(g+1|0,h>>8)},mmap_write32:function(g,h){c.i[g>>>17](g,h)},mmap_write64:function(g,h,k){var l=c.i[g>>>17];l(g,h);l(g+4,k)},mmap_write128:function(g,h,k,l,n){var p=c.i[g>>>17];p(g,h);p(g+4,k);p(g+8,l);p(g+12,n)},log_from_wasm:function(g,h){[...new Uint8Array(d.buffer,g>>>0,h>>>
0)]},console_log_from_wasm:function(g,h){g=String.fromCharCode(...new Uint8Array(d.buffer,g>>>0,h>>>0));console.error(g)},dbg_trace_from_wasm:function(){},codegen_finalize:(g,h,k,l,n)=>{Re(c,g,h,k,l,n)},jit_clear_func:g=>{c.Ka.eh.set(g+1024,null)},jit_clear_all_funcs:()=>{{const g=c.Ka.eh;for(let h=0;900>h;h++)g.set(1024+h,null)}},__indirect_function_table:e};let f=a.Wl;f||(f=g=>new Promise(h=>{let k="v86.wasm",l="v86-fallback.wasm";if(a.jl){k=a.jl;const n=k.lastIndexOf("/");l=(-1===n?"":k.substr(0,
n))+"/"+l}else"undefined"===typeof window&&"string"===typeof __dirname?(k=__dirname+"/"+k,l=__dirname+"/"+l):(k="build/"+k,l="build/"+l);Ob(k,{done:async n=>{try{const {instance:p}=await WebAssembly.instantiate(n,g);this.s=n;h(p.exports)}catch(p){Ob(l,{done:async x=>{const {instance:r}=await WebAssembly.instantiate(x,g);this.s=x;h(r.exports)}})}},progress:n=>{this.de.send("download-progress",{nf:0,mf:1,pf:k,lengthComputable:n.lengthComputable,total:n.total,loaded:n.loaded})}})}));f({env:b}).then(g=>
{d=g.memory;g.rust_init();g=this.Ga=new sb(this.de,{exports:g,eh:e});c=g.u;Lf(this,g,a)});this.h=null;this.D=0}
async function Lf(a,b,c){function d(x,r){switch(x){case "hda":f.J=this.ob.J=r;break;case "hdb":f.Mc=this.ob.Mc=r;break;case "cdrom":f.X=this.ob.X=r;break;case "fda":f.U=this.ob.U=r;break;case "fdb":f.Ne=this.ob.Ne=r;break;case "multiboot":f.Nb=this.ob.Nb=r.buffer;break;case "bzimage":f.vb=this.ob.vb=r.buffer;break;case "initrd":f.Lb=this.ob.Lb=r.buffer;break;case "bios":f.ub=r.buffer;break;case "vga_bios":f.If=r.buffer;break;case "initial_state":f.yc=r.buffer;break;case "fs9p_json":f.wh=r}}async function e(){if(f.uc&&
f.wh&&!f.yc){var x=f.uc,r=f.wh;if(3!==r.version)throw"The filesystem JSON format has changed. Please update your fs2json (https://github.com/copy/fs2json) and recreate the filesystem JSON.";var t=r.fsroot;x.o=r.size;for(r=0;r<t.length;r++)Ze(x,t[r],0);if(c.df){const {Ji:y,pj:m}=Mf(f.uc),[u,D]=await Promise.all([f.uc.Af(m),f.uc.Af(y)]);d.call(this,"initrd",new Ab(u.buffer));d.call(this,"bzimage",new Ab(D.buffer))}}this.fc&&this.fc.show&&this.fc.show();this.Ga.Kb(f);f.yc&&(b.Ve(f.yc),f.yc=void 0);c.Gi&&
this.Ga.Bf();this.de.send("emulator-loaded")}a.v.register("emulator-stopped",function(){this.Sf=!1;this.ec.pause()},a);a.v.register("emulator-started",function(){this.Sf=!0;this.ec.continue()},a);var f={};a.ob={U:void 0,Ne:void 0,J:void 0,Mc:void 0,X:void 0};var g=c.Eb?c.Eb:c.U?801:c.J?786:291;f.ua=c.ua;f.gf=c.gf;f.sj=!0;f.F=c.F||67108864;f.oa=c.oa||8388608;f.Eb=g;f.sh=c.sh||!1;f.U=void 0;f.Ne=void 0;f.Xe=c.Xe;f.Ye=c.Ye;f.Ze=c.Ze;f.Fb=c.Fb;f.se=c.se;f.Mb=c.Mb;f.jd=c.jd;f.Gd=c.Gd;f.Ae=c.Ae;f.ji=c.ji;
if(g=c.Ol||c.Re&&c.Re.we)"fetch"===g?a.j=new Nf(a.v):g.startsWith("wisp://")||g.startsWith("wisps://")?a.j=new Of(g,a.v,c):a.j=new Kf(g,a.v);f.Re=c.Re||{type:"ne2k"};g=c.screen||{};c.Wk&&(g.Rf=c.Wk);c.ul||(a.o=new Af(a.v));c.vl||(a.i=new Bf(a.v,g.Rf));g.Rf?a.ec=new Ya(g,()=>a.Ga.u.A.Fd&&a.Ga.u.A.Fd.Rg()):a.ec=new Pf;f.screen=a.ec;f.ji=g;c.Xk&&(a.fc=new Jf(c.Xk,a.v));c.Yk&&(a.fc=new mb(c.Yk,a.v));c.Wi||(a.g=new Cf(a.v));var h=[];g=(x,r)=>{if(r)if(r.get&&r.set&&r.load)h.push({name:x,tf:r});else{if("bios"===
x||"vga_bios"===x||"initial_state"===x||"multiboot"===x||"bzimage"===x||"initrd"===x)r.async=!1;if("fda"===x||"fdb"===x)r.async=!1;r.url&&!r.async?h.push({name:x,url:r.url,size:r.size}):h.push({name:x,tf:Eb(r,a.ui.bind(a))})}};c.state&&console.warn("Warning: Unknown option 'state'. Did you mean 'initial_state'?");g("bios",c.ub);g("vga_bios",c.If);g("cdrom",c.X);g("hda",c.J);g("hdb",c.Mc);g("fda",c.U);g("fdb",c.Ne);g("initial_state",c.yc);g("multiboot",c.Nb);g("bzimage",c.vb);g("initrd",c.Lb);if(c.filesystem){g=
c.filesystem.Hi;var k=c.filesystem.Nf;let x=new Qf;k&&(x=new Rf(x,k));f.uc=a.uc=new Xe(x);if(g){if("object"===typeof g){var l=g.size;g=g.url}h.push({name:"fs9p_json",url:g,size:l,He:!0})}}var n=h.length,p=function(x){if(x===n)setTimeout(e.bind(this),0);else{var r=h[x];r.tf?(r.tf.onload=function(){d.call(this,r.name,r.tf);p(x+1)}.bind(this),r.tf.load()):Ob(r.url,{done:function(t){if(r.url.endsWith(".zst")&&"initial_state"!==r.name){{var y=r.size,m=new Uint8Array(t);t=this.Ga.u;this.l=t.ti(m.length);
(new Uint8Array(t.Ja.buffer)).set(m,t.wi(this.l));m=t.$e(this.l,y);const u=t.Ja.buffer.slice(m,m+y);t.af(m,y);t.vi(this.l);this.l=null;t=u}}d.call(this,r.name,r.He?t:new Ab(t));p(x+1)}.bind(this),progress:function(t){200===t.target.status?a.de.send("download-progress",{nf:x,mf:n,pf:r.url,lengthComputable:t.lengthComputable,total:t.total||r.size,loaded:t.loaded}):a.de.send("download-error",{nf:x,mf:n,pf:r.url,request:t.target})},He:r.He})}}.bind(a);p(0)}q=$a.prototype;
q.ui=async function(a,b){if(!this.h){const c=URL.createObjectURL(new Blob(["("+function(){let d;globalThis.onmessage=function(e){if(d){var f=e.data.src,g=e.data.Vi;e=e.data.id;var h=d.exports,k=h.zstd_create_ctx(f.length);(new Uint8Array(h.memory.buffer)).set(f,h.zstd_get_src_ptr(k));f=h.zstd_read(k,g);var l=h.memory.buffer.slice(f,f+g);h.zstd_read_free(f,g);h.zstd_free_ctx(k);postMessage({result:l,id:e},[l])}else g=Object.fromEntries("cpu_exception_hook run_hardware_timers cpu_event_halt microtick get_rand_int apic_acknowledge_irq stop_idling io_port_read8 io_port_read16 io_port_read32 io_port_write8 io_port_write16 io_port_write32 mmap_read8 mmap_read16 mmap_read32 mmap_write8 mmap_write16 mmap_write32 mmap_write64 mmap_write128 codegen_finalize jit_clear_func jit_clear_all_funcs".split(" ").map(n=>
[n,()=>console.error("zstd worker unexpectedly called "+n)])),g.__indirect_function_table=new WebAssembly.Table({element:"anyfunc",initial:1024}),g.abort=()=>{throw Error("zstd worker aborted");},g.log_from_wasm=g.console_log_from_wasm=(n,p)=>{console.log(String.fromCharCode(...new Uint8Array(d.exports.memory.buffer,n,p)))},g.dbg_trace_from_wasm=()=>console.trace(),d=new WebAssembly.Instance(new WebAssembly.Module(e.data),{env:g})}}.toString()+")()"],{type:"text/javascript"}));this.h=new Worker(c);
URL.revokeObjectURL(c);this.h.postMessage(this.s,[this.s])}return new Promise(c=>{const d=this.D++,e=async f=>{f.data.id===d&&(this.h.removeEventListener("message",e),c(f.data.result))};this.h.addEventListener("message",e);this.h.postMessage({src:b,Vi:a,id:d},[b.buffer])})};
function Mf(a){const b=(xf(a,"/")||[]).map(e=>"/"+e);a=(xf(a,"/boot/")||[]).map(e=>"/boot/"+e);let c,d;for(const e of[].concat(b,a)){const f=/old/i.test(e)||/fallback/i.test(e),g=/initrd/i.test(e)||/initramfs/i.test(e);!/vmlinuz/i.test(e)&&!/bzimage/i.test(e)||d&&f||(d=e);!g||c&&f||(c=e)}c&&d||(console.log("Failed to find bzimage or initrd in filesystem. Files:"),console.log(b.join(" ")),console.log(a.join(" ")));return{pj:c,Ji:d}}q.Bf=async function(){this.Ga.Bf()};
q.stop=async function(){this.Sf&&await new Promise(a=>{const b=()=>{this.v.unregister("emulator-stopped",b);a()};ab(this,"emulator-stopped",b);this.Ga.stop()})};q.wa=async function(){await this.stop();this.Ga.wa();this.o&&this.o.wa();this.j&&this.j.wa();this.i&&this.i.wa();this.ec&&this.ec.wa();this.fc&&this.fc.wa();this.g&&this.g.wa()};q.Pg=function(){this.Ga.Pg()};function ab(a,b,c){a.v.register(b,c,a)}q.Ve=async function(a){this.Ga.Ve(a)};q.Cf=async function(){return this.Ga.Cf()};q.od=function(){return this.Sf};
q.Df=async function(a){if(a.url&&!a.async)Ob(a.url,{done:b=>{this.Ga.u.A.ee.Df(new Ab(b))}});else{const b=Eb(a,this.ui.bind(this));b.onload=()=>{this.Ga.u.A.ee.Df(b)};await b.load()}};q.Vf=function(){this.Ga.u.A.ee.Vf()};function lb(a,b){for(var c=0;c<b.length;c++)a.v.send("keyboard-code",b[c])}function gb(a,b){for(var c=0;c<b.length;c++)a.o.al(b[c])}function kb(){var a=document.body,b=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock;b&&b.call(a)}
q.Pi=async function(a,b){var c=this.uc;if(c){var d=a.split("/");d=d[d.length-1];a=sf(c,a).Ig;if(""!==d&&-1!==a)await hf(c,d,a,b);else return Promise.reject(new Sf)}};q.Af=async function(a){var b=this.uc;if(b)return(a=await b.Af(a))?a:Promise.reject(new Sf)};q.Lg=function(a){return this.Ga.u.Lg(a)};q.Mg=function(a,b){this.Ga.u.Mg(a,b)};function Sf(){this.message="File not found"}Sf.prototype=Error.prototype;
"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports.V86=$a:"undefined"!==typeof window?window.V86=$a:"function"===typeof importScripts&&(self.V86=$a);function Pf(){var a,b=0,c=0;this.j=function(d,e,f){a[d*b+e]=f};this.wa=function(){};this.pause=function(){};this.continue=function(){};this.g=function(){};this.o=function(){};this.s=function(){};this.N=function(){};this.i=function(d,e){if(d!==b||e!==c)a=new Uint8Array(d*e),b=d,c=e};this.h=function(){};this.Ug=function(){};this.D=function(){};this.C=function(){};this.l=function(){};this.i(80,25)};const Tf=(new Date("1970-01-01T00:00:00Z")).getTime()-(new Date("1900-01-01T00:00:00Z")).getTime(),Uf=Math.pow(2,32),Vf=[118,56,54];function Wf(a){return[0,1,2,3,4,5].map(b=>a[b].toString(16)).map(b=>1===b.length?"0"+b:b).join(":")}function Xf(a){return a[0]<<24|a[1]<<16|a[2]<<8|a[3]}
function Yf(a,b){let c=Date.now()+Tf,d=c%1E3/1E3*Uf,e={};e.Aa={$b:2048,src:b.tb,la:a.Aa.src};e.ea={Cc:17,src:a.ea.la,la:a.ea.src};e.Ia={ka:123,ga:a.Ia.ka};e.na=Object.assign({},a.na);e.na.flags=36;e.na.Ph=10;e.na.Ih=a.na.Zg;e.na.Hh=a.na.Yg;e.na.ii=c/1E3;e.na.hi=d;e.na.Zg=c/1E3;e.na.Yg=d;e.na.oi=2;b.Ma(Zf(e));return!0}
function $f(a,b){let c={};c.Aa={$b:2048,src:b.tb,la:a.Aa.src};c.ea={Cc:17,src:b.sb,la:b.Kf};c.Ia={ka:67,ga:68};c.ra={rf:1,Ch:6,Dh:0,fh:a.ra.fh,ki:0,flags:0,jh:0,si:Xf(b.Kf),ni:Xf(b.sb),Ah:Xf(b.sb),Qf:a.ra.Qf};let d=[],e=a.ra.options.find(function(f){return 53===f[0]});e&&3===e[2]&&(a.ra.Te=3);1===a.ra.Te&&(c.ra.Te=2,d.push(new Uint8Array([53,1,2])));3===a.ra.Te&&(c.ra.Te=2,d.push(new Uint8Array([53,1,5])),d.push(new Uint8Array([51,4,8,0,0,0])));a=[b.sb[0],b.sb[1],b.sb[2],b.sb[3]];d.push(new Uint8Array([1,
4,255,255,255,0]));b.je&&(d.push(new Uint8Array([3,4].concat(a))),d.push(new Uint8Array([6,4].concat(a))));d.push(new Uint8Array([54,4].concat(a)));d.push(new Uint8Array([60,3].concat(Vf)));d.push(new Uint8Array([255,0]));c.ra.options=d;b.Ma(Zf(c))}
function ag(a,b){var c=(new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint16(12),d={$b:c,la:a.subarray(0,6),sl:Wf(a.subarray(0,6)),src:a.subarray(6,12),Ul:Wf(a.subarray(6,12))};b.Aa=d;a=a.subarray(14,a.length);if(2048===c){var e=new DataView(a.buffer,a.byteOffset,a.byteLength);d=a[0]>>4&15;var f=a[0]&15,g=e.getUint8(1),h=e.getUint16(2),k=e.getUint8(8);c=e.getUint8(9);e=e.getUint16(10);b.ea={version:d,Jl:f,cl:g,Qe:h,rg:k,Cc:c,Ll:e,src:a.subarray(12,16),la:a.subarray(16,20)};a=a.subarray(4*f,
h);1===c&&(d=a,f=new DataView(d.buffer,d.byteOffset,d.byteLength),d={type:f.getUint8(0),code:f.getUint8(1),ih:f.getUint16(2),data:d.subarray(4)},b.Jb=d);6===c&&(d=a,g=new DataView(d.buffer,d.byteOffset,d.byteLength),f={ka:g.getUint16(0),ga:g.getUint16(2),xa:g.getUint32(4),nb:g.getUint32(8),cj:g.getUint8(12)>>4,cb:g.getUint16(14),ih:g.getUint16(16),el:g.getUint16(18)},g=g.getUint8(13),f.Oe=!!(g&1),f.Qb=!!(g&2),f.lg=!!(g&4),f.fi=!!(g&8),f.Ra=!!(g&16),f.dl=!!(g&32),f.dj=!!(g&64),f.Qi=!!(g&128),b.I=f,
b.lb=d.subarray(4*f.cj));if(17===c){c=new DataView(a.buffer,a.byteOffset,a.byteLength);c={ka:c.getUint16(0),ga:c.getUint16(2),Qe:c.getUint16(4),ih:c.getUint16(6),data:a.subarray(8),Ui:(new TextDecoder).decode(a.subarray(8))};if(67===c.ga||67===c.ka){f=a.subarray(8);d=new DataView(f.buffer,f.byteOffset,f.byteLength);d={Te:d.getUint8(0),rf:d.getUint8(1),Ch:d.getUint8(2),Dh:d.getUint8(3),fh:d.getUint32(4),ki:d.getUint16(8),flags:d.getUint16(10),jh:d.getUint32(12),si:d.getUint32(16),ni:d.getUint32(20),
Ah:d.getUint32(24),Qf:f.subarray(28,44),Fh:d.getUint32(236),options:[]};f=f.subarray(240);for(g=0;g<f.length;++g)h=g,0!==f[g]&&(++g,k=f[g],g+=k,d.options.push(f.subarray(h,h+k+2)));b.ra=d;b.tl=d.options}53!==c.ga&&53!==c.ka||bg(a.subarray(8),b);123===c.ga&&(a=a.subarray(8),a=new DataView(a.buffer,a.byteOffset,a.byteLength),b.na={flags:a.getUint8(0),oi:a.getUint8(1),Ph:a.getUint8(2),precision:a.getUint8(3),Uk:a.getUint32(4),Vk:a.getUint32(8),Rk:a.getUint32(12),Tk:a.getUint32(16),Sk:a.getUint32(20),
Ih:a.getUint32(24),Hh:a.getUint32(28),ii:a.getUint32(32),hi:a.getUint32(36),Zg:a.getUint32(40),Yg:a.getUint32(44)});b.Ia=c}}else 2054===c&&(c=new DataView(a.buffer,a.byteOffset,a.byteLength),c={rf:c.getUint16(0),kg:c.getUint16(2),gg:c.getUint16(6),Vg:a.subarray(8,14),og:a.subarray(14,18),pi:a.subarray(18,24),Gf:a.subarray(24,28)},b.Ha=c)}
function bg(a,b){function c(){let l=[],n;do n=d.getUint8(h),l.push((new TextDecoder).decode(a.subarray(h+1,h+1+n))),h+=n+1;while(0<n);return l}let d=new DataView(a.buffer,a.byteOffset,a.byteLength),e={id:d.getUint16(0),flags:d.getUint16(2),yd:[],cf:[]};var f=d.getUint16(4);let g=d.getUint16(6);d.getUint16(8);d.getUint16(10);let h=12;for(var k=0;k<f;k++)e.yd.push({name:c(),type:d.getInt16(h),Zd:d.getInt16(h+2)}),h+=4;for(f=0;f<g;f++){k={name:c(),type:d.getInt16(h),Zd:d.getUint16(h+2),rg:d.getUint32(h+
4)};h+=8;let l=d.getUint16(h);h+=2;k.data=a.subarray(h,h+l);h+=l;e.cf.push(k)}b.gb=e}
function Zf(a){let b=new Uint8Array(1518);var c=new DataView(b.buffer,b.byteOffset,b.byteLength);c.setUint16(12,a.Aa.$b);for(var d=0;6>d;++d)c.setUint8(d,a.Aa.la[d]);for(d=0;6>d;++d)c.setUint8(6+d,a.Aa.src[d]);c=14;if(a.Ha){d=b.subarray(14);d=new DataView(d.buffer,d.byteOffset,d.byteLength);d.setUint16(0,a.Ha.rf);d.setUint16(2,a.Ha.kg);d.setUint8(4,a.Ha.Vg.length);d.setUint8(5,a.Ha.og.length);d.setUint16(6,a.Ha.gg);for(var e=0;6>e;++e)d.setUint8(8+e,a.Ha.Vg[e]),d.setUint8(18+e,a.Ha.pi[e]);for(e=0;4>
e;++e)d.setUint8(14+e,a.Ha.og[e]),d.setUint8(24+e,a.Ha.Gf[e]);c+=28}if(a.ea){e=b.subarray(14);d=new DataView(e.buffer,e.byteOffset,e.byteLength);var f=20;if(a.Jb){var g=e.subarray(20);g=new DataView(g.buffer,g.byteOffset,g.byteLength);g.setUint8(0,a.Jb.type);g.setUint8(1,a.Jb.code);g.setUint16(2,0);for(var h=0;h<a.Jb.data.length;++h)g.setUint8(h+4,a.Jb.data[h]);h=0;for(var k=0;k<4+a.Jb.data.length;k+=2)h+=g.getUint16(k),65535<h&&(h=(h&65535)+1);g.setUint16(2,h^65535);g=4+a.Jb.data.length;f+=g}if(a.Ia){h=
e.subarray(20);g=new DataView(h.buffer,h.byteOffset,h.byteLength);if(a.ra){var l=h.subarray(8);l=new DataView(l.buffer,l.byteOffset,l.byteLength);l.setUint8(0,a.ra.Te);l.setUint8(1,a.ra.rf);l.setUint8(2,a.ra.Ch);l.setUint8(3,a.ra.Dh);l.setUint32(4,a.ra.fh);l.setUint16(8,a.ra.ki);l.setUint16(10,a.ra.flags);l.setUint32(12,a.ra.jh);l.setUint32(16,a.ra.si);l.setUint32(20,a.ra.ni);l.setUint32(24,a.ra.Ah);for(var n=0;n<a.ra.Qf.length;++n)l.setUint8(28+n,a.ra.Qf[n]);l.setUint32(236,1669485411);n=240;for(var p of a.ra.options)for(h=
0;h<p.length;++h)l.setUint8(n,p[h]),++n;l=n}else if(a.gb){p=h.subarray(8);p=new DataView(p.buffer,p.byteOffset,p.byteLength);p.setUint16(0,a.gb.id);p.setUint16(2,a.gb.flags);p.setUint16(4,a.gb.yd.length);p.setUint16(6,a.gb.cf.length);h=12;for(k=0;k<a.gb.yd.length;++k){var x=a.gb.yd[k];for(n of x.name){p.setUint8(h,n.length);h++;for(let r=0;r<n.length;++r)p.setUint8(h,n.charCodeAt(r)),h++}p.setUint16(h,x.type);h+=2;p.setUint16(h,x.Zd);h+=2}for(k=0;k<a.gb.cf.length;++k){n=a.gb.cf[k];for(l of n.name)for(p.setUint8(h,
l.length),h++,x=0;x<l.length;++x)p.setUint8(h,l.charCodeAt(x)),h++;p.setUint16(h,n.type);h+=2;p.setUint16(h,n.Zd);h+=2;p.setUint32(h,n.rg);h+=4;p.setUint16(h,n.data.length);h+=2;for(x=0;x<n.data.length;++x)p.setUint8(h+x,n.data[x]);h+=n.data.length}l=h}else if(a.na)l=h.subarray(8),l=new DataView(l.buffer,l.byteOffset,l.byteLength),l.setUint8(0,a.na.flags),l.setUint8(1,a.na.oi),l.setUint8(2,a.na.Ph),l.setUint8(3,a.na.precision),l.setUint32(4,a.na.Uk),l.setUint32(8,a.na.Vk),l.setUint32(12,a.na.Rk),
l.setUint32(16,a.na.Tk),l.setUint32(20,a.na.Sk),l.setUint32(24,a.na.Ih),l.setUint32(28,a.na.Hh),l.setUint32(32,a.na.ii),l.setUint32(36,a.na.hi),l.setUint32(40,a.na.Zg),l.setUint32(44,a.na.Yg),l=48;else for(n=a.Ia.data,l=n.length,p=0;p<n.length;++p)g.setUint8(8+p,n[p]);g.setUint16(0,a.Ia.ka);g.setUint16(2,a.Ia.ga);g.setUint16(4,8+l);g.setUint16(6,0);l=8+l;f+=l}if(a.I){l=f;e=e.subarray(20);e=new DataView(e.buffer,e.byteOffset,e.byteLength);n=0;p=a.I;p.Oe&&(n|=1);p.Qb&&(n|=2);p.lg&&(n|=4);p.fi&&(n|=
8);p.Ra&&(n|=16);p.dl&&(n|=32);p.dj&&(n|=64);p.Qi&&(n|=128);e.setUint16(0,p.ka);e.setUint16(2,p.ga);e.setUint32(4,p.xa);e.setUint32(8,p.nb);e.setUint8(12,80);e.setUint8(13,n);e.setUint16(14,p.cb);e.setUint16(16,0);e.setUint16(18,p.el||0);p=20+(a.lb?a.lb.length:0);n=0;f=new Uint8Array(12);f=new DataView(f.buffer,f.byteOffset,f.byteLength);for(g=0;4>g;++g)f.setUint8(g,a.ea.src[g]),f.setUint8(4+g,a.ea.la[g]);f.setUint8(9,6);f.setUint16(10,p);for(p=0;6>p;++p)n+=f.getUint16(p<<1),65535<n&&(n=(n&65535)+
1);for(p=0;10>p;++p)n+=e.getUint16(p<<1),65535<n&&(n=(n&65535)+1);if(a.lb)for(p=0;p<a.lb.length;p+=2)n+=a.lb[p]<<8|a.lb[p+1],65535<n&&(n=(n&65535)+1);e.setUint16(16,n^65535);f=l+20}if(a.lb){for(e=0;e<a.lb.length;++e)d.setUint8(f+e,a.lb[e]);f+=a.lb.length}d.setUint8(0,69);d.setUint8(1,a.ea.cl||0);d.setUint16(2,f);d.setUint16(4,a.ea.id||0);d.setUint8(6,64);d.setUint8(8,a.ea.rg||32);d.setUint8(9,a.ea.Cc);d.setUint16(10,0);for(e=0;4>e;++e)d.setUint8(12+e,a.ea.src[e]),d.setUint8(16+e,a.ea.la[e]);a=0;for(e=
0;10>e;++e)a+=d.getUint16(e<<1),65535<a&&(a=(a&65535)+1);d.setUint16(10,a^65535);a=f;c+=a}a=c;return b.subarray(0,a)}function cg(){this.g=new Uint8Array([]);this.M=[]}function dg(a){let b={};b.Aa={$b:2048,src:a.s,la:a.o};b.ea={Cc:6,src:a.G,la:a.D};b.I={ka:a.ka,ga:a.ga,cb:a.cb,nb:a.Ra,xa:a.xa,Ra:!0};return b}q=cg.prototype;q.connect=function(){this.xa=1338;this.Ra=1;this.i=0;this.cb=64240;this.state="syn-sent";let a=dg(this);a.ea.id=2345;a.I={ka:this.ka,ga:this.ga,xa:1337,nb:0,cb:0,Qb:!0};this.Za.Ma(Zf(a))};
function eg(a,b){a.xa=1338;a.Ra=b.I.xa+1;a.i=b.I.xa;a.s=a.Za.tb;a.G=b.ea.la;a.ka=b.I.ga;a.o=b.Aa.src;a.ga=b.I.ka;a.D=b.ea.src;a.cb=b.I.cb;let c=dg(a);c.I={ka:a.ka,ga:a.ga,xa:1337,nb:a.Ra,cb:b.I.cb,Qb:!0,Ra:!0};a.Za.Ma(Zf(c))}
q.process=function(a){if(a.I.Qb)this.Ra=a.I.xa+1,this.i=a.I.xa,this.h=a.I.nb,this.Za.Ma(Zf(dg(this))),this.state="established",this.C&&this.C.call(this);else if(a.I.Oe){this.Ra!==a.I.xa&&++this.Ra;var b=dg(this);b.I={ka:a.I.ga,ga:a.I.ka,xa:this.xa,nb:this.Ra,cb:a.I.cb,lg:!0};delete this.Za.Cd[this.l];this.Za.Ma(Zf(b))}else this.Ra!==a.I.xa?(b=dg(this),b.I={ka:a.I.ga,ga:a.I.ka,xa:this.xa,nb:this.Ra,cb:a.I.cb,Ra:!0},this.Za.Ma(Zf(b))):(this.M.push(`${a.I.xa-this.i}:${a.I.xa+a.lb.length-this.i}`),this.Ra+=
a.lb.length,0<a.lb.length&&this.Za.Ma(Zf(dg(this))),void 0===this.h&&(this.h=a.I.nb),b=a.I.nb-this.h,0<b&&(this.h=a.I.nb,this.g=this.g.subarray(b),this.xa+=b,this.pending=!1),0>b||(this.j(a.lb),this.xb()))};q.write=function(a){if(0<this.g.length){let b=new Uint8Array(this.g.byteLength+a.byteLength);b.set(this.g,0);b.set(a,this.g.byteLength);this.g=b}else this.g=a;this.xb()};q.close=function(){this.state="fin-wait-1";let a=dg(this);a.I.Oe=!0;this.Za.Ma(Zf(a));this.xb()};
q.xb=function(){if(0<this.g.length&&!this.pending){let a=this.g.subarray(0,500),b=dg(this);this.pending=!0;1>this.g.length&&(b.I.Oe=!0);b.I.fi=!0;b.lb=a;this.Za.Ma(Zf(b))}};function fg(a,b){var c=Xf(a.Ha.Gf)&4294967040;let d=Xf(b.sb)&4294967040;!b.je&&c!==d||c===d&&99<a.Ha.Gf[3]||(c={},c.Aa={$b:2054,src:b.tb,la:a.Aa.src},c.Ha={rf:1,kg:2048,gg:2,Vg:b.tb,og:a.Ha.Gf,pi:a.Aa.src,Gf:a.Ha.og},b.Ma(Zf(c)))}
function gg(a,b){let c={};c.Aa={$b:2048,src:b.tb,la:a.Aa.src};c.ea={Cc:17,src:a.ea.la,la:a.ea.src};c.Ia={ka:a.Ia.ga,ga:a.Ia.ka,data:(new TextEncoder).encode(a.Ia.Ui)};b.Ma(Zf(c))};function Of(a,b,c){hg(this,a);this.j=1;this.g={0:{ef:0}};this.i=[];c=c||{};this.v=b;this.id=c.id||0;this.tb=new Uint8Array((c.tb||"52:54:0:1:2:3").split(":").map(function(d){return parseInt(d,16)}));this.sb=new Uint8Array((c.sb||"192.168.86.1").split(".").map(function(d){return parseInt(d,10)}));this.Kf=new Uint8Array((c.Kf||"192.168.86.100").split(".").map(function(d){return parseInt(d,10)}));this.je=void 0===c.je||!!c.je;this.ph=c.ph||"cloudflare-dns.com";this.Cd={};this.v.register("net"+this.id+
"-mac",function(d){new Uint8Array(d.split(":").map(function(e){return parseInt(e,16)}))},this);this.v.register("net"+this.id+"-send",function(d){this.send(d)},this)}
function hg(a,b){a.h=new WebSocket(b.replace("wisp://","ws://").replace("wisps://","wss://"));a.h.binaryType="arraybuffer";a.h.onmessage=c=>{{c=new Uint8Array(c.data);const d=new DataView(c.buffer),e=d.getUint32(1,!0);switch(c[0]){case 2:if(a.g[e])a.g[e].zg(c.slice(5));else throw Error("Got a DATA packet but stream not registered. ID: "+e);break;case 3:a.g[e]&&(a.g[e].ef=d.getUint32(5,!0));if(a.g[e].kh){for(const f of a.i)ig(a,f.data,f.type,e);a.g[e].kh=!1}break;case 4:a.g[e]&&a.g[e].xg(d.getUint8(5)),
delete a.g[e]}}};a.h.onclose=()=>{setTimeout(()=>{hg(a,b)},1E4)}}function ig(a,b,c,d){0<a.g[d].ef?("DATA"===c&&a.g[d].ef--,a.h.send(b)):(a.g[d].kh=!0,a.i.push({data:b,type:c}))}
function jg(a,b){let c,d;switch(b.type){case "CONNECT":const e=(new TextEncoder).encode(b.hostname);c=new Uint8Array(8+e.length);d=new DataView(c.buffer);d.setUint8(0,1);d.setUint32(1,b.bd,!0);d.setUint8(5,1);d.setUint16(6,b.port,!0);c.set(e,8);a.g[b.bd]={zg:b.zg,xg:b.xg,ef:a.g[0].ef};break;case "DATA":c=new Uint8Array(5+b.data.length);d=new DataView(c.buffer);d.setUint8(0,2);d.setUint32(1,b.bd,!0);c.set(b.data,5);break;case "CLOSE":c=new Uint8Array(6),d=new DataView(c.buffer),d.setUint8(0,4),d.setUint32(1,
b.bd,!0),d.setUint8(5,b.reason)}ig(a,c,b.type,b.bd)}Of.prototype.wa=function(){this.h&&(this.h.onmessage=null,this.h.onclose=null,this.h.close(),this.h=null)};
Of.prototype.send=function(a){let b={};ag(a,b);if(b.I){a={};a.Aa={$b:2048,src:this.tb,la:b.Aa.src};a.ea={Cc:6,src:b.ea.la,la:b.ea.src};var c=[b.ea.src.join("."),b.I.ka,b.ea.la.join("."),b.I.ga].join(":");if(b.I.Qb){const d=new cg;d.state="syn-received";d.Za=this;d.l=c;d.bd=this.j++;this.Cd[c]=d;d.j=e=>{0!==e.length&&jg(this,{type:"DATA",bd:d.bd,data:e})};jg(this,{type:"CONNECT",bd:d.bd,hostname:b.ea.la.join("."),port:b.I.ga,zg:e=>{d.write(e)},xg:()=>{d.close()}});eg(d,b);return}if(!this.Cd[c]){c=
b.I.nb;if(b.I.Oe||b.I.Qb)c+=1;a.I={ka:b.I.ga,ga:b.I.ka,xa:c,nb:b.I.xa+(b.I.Qb?1:0),cb:b.I.cb,lg:!0,Ra:b.I.Qb};this.Ma(Zf(a));return}this.Cd[c].process(b)}b.Ha&&1===b.Ha.gg&&2048===b.Ha.kg&&fg(b,this);b.gb&&(async()=>{let d={};d.Aa={$b:2048,src:this.tb,la:b.Aa.src};d.ea={Cc:17,src:this.sb,la:b.ea.src};d.Ia={ka:53,ga:b.Ia.ka};const e=await (await fetch(`https://${this.ph}/dns-query`,{method:"POST",headers:[["content-type","application/dns-message"]],body:b.Ia.data})).arrayBuffer();d.Ia.data=new Uint8Array(e);
this.Ma(Zf(d))})();b.na?Yf(b,this):b.ra?$f(b,this):b.Ia&&8===b.Ia.ga&&gg(b,this)};Of.prototype.Ma=function(a){this.v.send("net"+this.id+"-receive",new Uint8Array(a))};function Nf(a,b){b=b||{};this.v=a;this.id=b.id||0;this.tb=new Uint8Array((b.tb||"52:54:0:1:2:3").split(":").map(function(c){return parseInt(c,16)}));this.sb=new Uint8Array((b.sb||"192.168.86.1").split(".").map(function(c){return parseInt(c,10)}));this.Kf=new Uint8Array((b.Kf||"192.168.86.100").split(".").map(function(c){return parseInt(c,10)}));this.je=void 0===b.je||!!b.je;this.Cd={};this.yg=b.yg;this.v.register("net"+this.id+"-mac",function(c){new Uint8Array(c.split(":").map(function(d){return parseInt(d,
16)}))},this);this.v.register("net"+this.id+"-send",function(c){this.send(c)},this)}Nf.prototype.wa=function(){};
async function kg(a){if(a&&(this.read=this.read||"",(this.read+=(new TextDecoder).decode(a))&&-1!==this.read.indexOf("\r\n\r\n"))){var b=this.read.indexOf("\r\n\r\n");a=this.read.substring(0,b).split(/\r\n/);b=this.read.substring(b+4);this.read="";let c=a[0].split(" "),d;d=/^https?:/.test(c[1])?new URL(c[1]):new URL("http://host"+c[1]);"undefined"!==typeof window&&"http:"===d.protocol&&"https:"===window.location.protocol&&(d.protocol="https:");let e=new Headers;for(let k=1;k<a.length;++k){let l=a[k].split(": "),
n=l[0].toLowerCase(),p=l[1];"host"===n?d.host=p:1<n.length&&e.set(l[0],p)}this.name=d.href;a={method:c[0],headers:e};-1!==["put","post"].indexOf(a.method.toLowerCase())&&(a.body=b);const [f,g]=await this.Za.fetch(d.href,a),h=[`HTTP/1.1 ${f.status} ${f.statusText}`,"connection: Closed","content-length: "+g.byteLength];h.push("x-was-fetch-redirected: "+String(f.redirected));h.push("x-fetch-resp-url: "+String(f.url));f.headers.forEach(function(k,l){-1===["content-encoding","connection","content-length",
"transfer-encoding"].indexOf(l.toLowerCase())&&h.push(l+": "+k)});h.push("");h.push("");this.write((new TextEncoder).encode(h.join("\r\n")));this.write(new Uint8Array(g))}}Nf.prototype.fetch=async function(a,b){this.yg&&(a=this.yg+encodeURIComponent(a));try{const c=await fetch(a,b),d=await c.arrayBuffer();return[c,d]}catch(c){return console.warn("Fetch Failed: "+a+"\n"+c),b=new Headers,b.set("Content-Type","text/plain"),[{status:502,statusText:"Fetch Error",headers:b},(new TextEncoder).encode(`Fetch ${a} failed:\n\n${c.stack}`).buffer]}};
Nf.prototype.send=function(a){{let f={};ag(a,f);if(!(a=!f.I)){b:{a=f;var b={};b.Aa={$b:2048,src:this.tb,la:a.Aa.src};b.ea={Cc:6,src:a.ea.la,la:a.ea.src};var c=[a.ea.src.join("."),a.I.ka,a.ea.la.join("."),a.I.ga].join(":");if(a.I.Qb){var d=c;if(80===a.I.ga){var e=new cg;e.state="syn-received";e.Za=this;e.j=kg;e.l=d;eg(e,a);this.Cd[d]=e;d=!0}else d=!1;if(d){a=void 0;break b}}if(this.Cd[c])this.Cd[c].process(a),a=void 0;else{c=a.I.nb;if(a.I.Oe||a.I.Qb)c+=1;b.I={ka:a.I.ga,ga:a.I.ka,xa:c,nb:a.I.xa+(a.I.Qb?
1:0),cb:a.I.cb,lg:!0,Ra:a.I.Qb};this.Ma(Zf(b));a=!0}}a=!a}if(a){f.Ha&&1===f.Ha.gg&&2048===f.Ha.kg&&fg(f,this);if(!(a=!f.gb)){a=f;b={};b.Aa={$b:2048,src:this.tb,la:a.Aa.src};b.ea={Cc:17,src:this.sb,la:a.ea.src};b.Ia={ka:53,ga:a.Ia.ka};c=[];for(d=0;d<a.gb.yd.length;++d)switch(e=a.gb.yd[d],e.type){case 1:c.push({name:e.name,type:e.type,Zd:e.Zd,rg:600,data:[192,168,87,1]})}b.gb={id:a.gb.id,flags:33152,yd:a.gb.yd,cf:c};this.Ma(Zf(b));a=!1}!a||f.na&&Yf(f,this)||(f.Jb&&8===f.Jb.type&&(a=f,b={},b.Aa={$b:2048,
src:this.tb,la:a.Aa.src},b.ea={Cc:1,src:this.sb,la:a.ea.src},b.Jb={type:0,code:a.Jb.code,data:a.Jb.data},this.Ma(Zf(b))),f.ra&&$f(f,this)||f.Ia&&8===f.Ia.ga&&gg(f,this))}}};Nf.prototype.Ma=function(a){this.v.send("net"+this.id+"-receive",new Uint8Array(a))};"undefined"!==typeof module&&"undefined"!==typeof module.exports&&(module.exports.FetchNetworkAdapter=Nf);const bb={bl:function(a){return bb.Pk(a)+bb.Ok(a)},Pk:function(a){let b="";var c="COMPILE COMPILE_SKIPPED_NO_NEW_ENTRY_POINTS COMPILE_WRONG_ADDRESS_SPACE COMPILE_CUT_OFF_AT_END_OF_PAGE COMPILE_WITH_LOOP_SAFETY COMPILE_PAGE COMPILE_PAGE/COMPILE COMPILE_BASIC_BLOCK COMPILE_DUPLICATED_BASIC_BLOCK COMPILE_WASM_BLOCK COMPILE_WASM_LOOP COMPILE_DISPATCHER COMPILE_ENTRY_POINT COMPILE_WASM_TOTAL_BYTES COMPILE_WASM_TOTAL_BYTES/COMPILE_PAGE RUN_INTERPRETED RUN_INTERPRETED_NEW_PAGE RUN_INTERPRETED_PAGE_HAS_CODE RUN_INTERPRETED_PAGE_HAS_ENTRY_AFTER_PAGE_WALK RUN_INTERPRETED_NEAR_END_OF_PAGE RUN_INTERPRETED_DIFFERENT_STATE RUN_INTERPRETED_DIFFERENT_STATE_CPL3 RUN_INTERPRETED_DIFFERENT_STATE_FLAT RUN_INTERPRETED_DIFFERENT_STATE_IS32 RUN_INTERPRETED_DIFFERENT_STATE_SS32 RUN_INTERPRETED_MISSED_COMPILED_ENTRY_RUN_INTERPRETED RUN_INTERPRETED_STEPS RUN_FROM_CACHE RUN_FROM_CACHE_STEPS RUN_FROM_CACHE_STEPS/RUN_FROM_CACHE RUN_FROM_CACHE_STEPS/RUN_INTERPRETED_STEPS DIRECT_EXIT INDIRECT_JUMP INDIRECT_JUMP_NO_ENTRY NORMAL_PAGE_CHANGE NORMAL_FALLTHRU NORMAL_FALLTHRU_WITH_TARGET_BLOCK NORMAL_BRANCH NORMAL_BRANCH_WITH_TARGET_BLOCK CONDITIONAL_JUMP CONDITIONAL_JUMP_PAGE_CHANGE CONDITIONAL_JUMP_EXIT CONDITIONAL_JUMP_FALLTHRU CONDITIONAL_JUMP_FALLTHRU_WITH_TARGET_BLOCK CONDITIONAL_JUMP_BRANCH CONDITIONAL_JUMP_BRANCH_WITH_TARGET_BLOCK DISPATCHER_SMALL DISPATCHER_LARGE LOOP LOOP_SAFETY CONDITION_OPTIMISED CONDITION_UNOPTIMISED CONDITION_UNOPTIMISED_PF CONDITION_UNOPTIMISED_UNHANDLED_L CONDITION_UNOPTIMISED_UNHANDLED_LE FAILED_PAGE_CHANGE SAFE_READ_FAST SAFE_READ_SLOW_PAGE_CROSSED SAFE_READ_SLOW_NOT_VALID SAFE_READ_SLOW_NOT_USER SAFE_READ_SLOW_IN_MAPPED_RANGE SAFE_WRITE_FAST SAFE_WRITE_SLOW_PAGE_CROSSED SAFE_WRITE_SLOW_NOT_VALID SAFE_WRITE_SLOW_NOT_USER SAFE_WRITE_SLOW_IN_MAPPED_RANGE SAFE_WRITE_SLOW_READ_ONLY SAFE_WRITE_SLOW_HAS_CODE SAFE_READ_WRITE_FAST SAFE_READ_WRITE_SLOW_PAGE_CROSSED SAFE_READ_WRITE_SLOW_NOT_VALID SAFE_READ_WRITE_SLOW_NOT_USER SAFE_READ_WRITE_SLOW_IN_MAPPED_RANGE SAFE_READ_WRITE_SLOW_READ_ONLY SAFE_READ_WRITE_SLOW_HAS_CODE PAGE_FAULT TLB_MISS MAIN_LOOP MAIN_LOOP_IDLE DO_MANY_CYCLES CYCLE_INTERNAL INVALIDATE_ALL_MODULES_NO_FREE_WASM_INDICES INVALIDATE_MODULE_WRITTEN_WHILE_COMPILED INVALIDATE_MODULE_UNUSED_AFTER_OVERWRITE INVALIDATE_MODULE_DIRTY_PAGE INVALIDATE_PAGE_HAD_CODE INVALIDATE_PAGE_HAD_ENTRY_POINTS DIRTY_PAGE_DID_NOT_HAVE_CODE RUN_FROM_CACHE_EXIT_SAME_PAGE RUN_FROM_CACHE_EXIT_NEAR_END_OF_PAGE RUN_FROM_CACHE_EXIT_DIFFERENT_PAGE CLEAR_TLB FULL_CLEAR_TLB TLB_FULL TLB_GLOBAL_FULL MODRM_SIMPLE_REG MODRM_SIMPLE_REG_WITH_OFFSET MODRM_SIMPLE_CONST_OFFSET MODRM_COMPLEX SEG_OFFSET_OPTIMISED SEG_OFFSET_NOT_OPTIMISED SEG_OFFSET_NOT_OPTIMISED_ES SEG_OFFSET_NOT_OPTIMISED_FS SEG_OFFSET_NOT_OPTIMISED_GS SEG_OFFSET_NOT_OPTIMISED_NOT_FLAT".split(" "),
d=0;const e={};for(let g=0;g<c.length;g++){const h=c[g];var f=void 0;if(h.includes("/")){d++;const [k,l]=h.split("/");f=e[k]/e[l]}else f=e[h]=a.Ka.exports.profiler_stat_get(g-d),f=1E8<=f?Math.round(f/1E6)+"m":1E5<=f?Math.round(f/1E3)+"k":f;b+=h+"="+f+"\n"}b+="\n";c=a.Ka.exports.get_valid_tlb_entries_count();d=a.Ka.exports.get_valid_global_tlb_entries_count();b=b+("TLB_ENTRIES="+c+" ("+d+" global, "+(c-d)+" non-global)\nWASM_TABLE_FREE=")+(a.Ka.exports.jit_get_wasm_table_index_free_list_count()+"\n");
b+="JIT_CACHE_SIZE="+a.Ka.exports.jit_get_cache_size()+"\n";b+="FLAT_SEGMENTS="+a.Ka.exports.has_flat_segmentation()+"\n";b+="wasm memory size: "+(a.Ja.buffer.byteLength>>20)+"m\n";b=b+"Config:\nJIT_DISABLED="+(a.Ka.exports.get_jit_config(0)+"\n");b+="MAX_PAGES="+a.Ka.exports.get_jit_config(1)+"\n";b+="JIT_USE_LOOP_SAFETY="+!!a.Ka.exports.get_jit_config(2)+"\n";return b+="MAX_EXTRA_BASIC_BLOCKS="+a.Ka.exports.get_jit_config(3)+"\n"},Ok:function(a){return[bb.xf(a,!1,!1,!1,!1),bb.xf(a,!0,!1,!1,!1),
bb.xf(a,!1,!0,!1,!1),bb.xf(a,!1,!1,!0,!1),bb.xf(a,!1,!1,!1,!0)].join("\n\n")},xf:function(a,b,c,d,e){let f="";var g=[],h=b?"compiled":c?"jit exit":d?"unguarded register":e?"wasm size":"executed";for(let n=0;256>n;n++)for(let p=0;8>p;p++)for(const x of[!1,!0]){var k=a.Ka.exports.get_opstats_buffer(b,c,d,e,n,!1,x,p);g.push({fg:n,count:k,Eh:x,uh:p});k=a.Ka.exports.get_opstats_buffer(b,c,d,e,n,!0,x,p);g.push({fg:3840|n,count:k,Eh:x,uh:p})}a=0;b=new Set([38,46,54,62,100,101,102,103,240,242,243]);for(const {count:n,
fg:p}of g)b.has(p)||(a+=n);if(0===a)return"";c=new Uint32Array(256);b=new Uint32Array(256);for(const {fg:n,count:p}of g)3840===(n&65280)?b[n&255]+=p:c[n&255]+=p;f=f+"------------------\nTotal: "+(a+"\n");const l=1E7<a?1E3:1;d=Math.max.apply(Math,g.map(({count:n})=>Math.round(n/l)));d=String(d).length;f+=`Instruction counts ${h} (in ${l}):\n`;for(e=0;256>e;e++)f+=e.toString(16).padStart(2,"0")+":"+Fb(Math.round(c[e]/l),d),f=15===e%16?f+"\n":f+" ";f=f+"\n"+`Instruction counts ${h} (0f, in ${l}):\n`;
for(h=0;256>h;h++)f+=(h&255).toString(16).padStart(2,"0")+":"+Fb(Math.round(b[h]/l),d),f=15===h%16?f+"\n":f+" ";f+="\n";g=g.filter(({count:n})=>n).sort(({count:n},{count:p})=>p-n);for(const {fg:n,Eh:p,uh:x,count:r}of g.slice(0,200))f+=n.toString(16)+"_"+x+(p?"_m":"_r")+":"+(r/a*100).toFixed(2)+" ";return f+"\n"}};"undefined"!==typeof module&&"undefined"!==typeof module.exports&&(module.exports.print_stats=bb);function Qf(){this.h=new Map}Qf.prototype.read=async function(a,b,c){return(a=this.h.get(a))?a.subarray(b,b+c):null};Qf.prototype.cache=async function(a,b){this.h.set(a,b)};Qf.prototype.g=function(a){this.h.delete(a)};function Rf(a,b){b.endsWith("/")||(b+="/");this.h=a;this.Nf=b}function lg(a,b){return new Promise(c=>{Ob(a.Nf+b,{done:async d=>{d=new Uint8Array(d);await a.cache(b,d);c(d)}})})}
Rf.prototype.read=async function(a,b,c){const d=await this.h.read(a,b,c);return d?d:(await lg(this,a)).subarray(b,b+c)};Rf.prototype.cache=async function(a,b){return await this.h.cache(a,b)};Rf.prototype.g=function(a){this.h.g(a)};
